2019-06-17 06:54:54,257 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/hdds of  storage type : DISK and capacity : 104021790720
2019-06-17 06:54:54,260 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/hdds to VolumeSet
2019-06-17 06:54:54,284 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@1500b2f3
2019-06-17 06:54:54,308 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@1500b2f3
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-06-17 06:54:54,629 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 34015
2019-06-17 06:54:55,140 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-17 06:54:55,163 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-17 06:54:55,173 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 34015 (custom)
2019-06-17 06:54:55,174 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-17 06:54:55,176 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:54:55,176 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-17 06:54:55,177 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-17 06:54:55,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis] (custom)
2019-06-17 06:54:55,341 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 35437
2019-06-17 06:54:55,366 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-17 06:54:55,366 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-17 06:54:55,367 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 121562d4-ee6b-43f6-ac70-01c3f65ade91 at port 34015
2019-06-17 06:54:55,392 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: start RPC server
2019-06-17 06:54:55,518 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: GrpcService started, listening on 0.0.0.0/0.0.0.0:34015
2019-06-17 06:54:55,780 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: addNew group-72AD68BB46CD:[121562d4-ee6b-43f6-ac70-01c3f65ade91:127.0.0.1:34015] returns group-72AD68BB46CD:java.util.concurrent.CompletableFuture@5207c96a[Not completed]
2019-06-17 06:54:55,808 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: new RaftServerImpl for group-72AD68BB46CD:[121562d4-ee6b-43f6-ac70-01c3f65ade91:127.0.0.1:34015] with ContainerStateMachine:uninitialized
2019-06-17 06:54:55,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-17 06:54:55,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-17 06:54:55,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-17 06:54:55,810 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-17 06:54:55,814 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD ConfigurationManager, init=-1: [121562d4-ee6b-43f6-ac70-01c3f65ade91:127.0.0.1:34015], old=null, confs=<EMPTY_MAP>
2019-06-17 06:54:55,815 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis] (custom)
2019-06-17 06:54:55,820 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis/d3dd75ab-5ee0-47fc-bcbe-72ad68bb46cd does not exist. Creating ...
2019-06-17 06:54:55,828 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis/d3dd75ab-5ee0-47fc-bcbe-72ad68bb46cd/in_use.lock acquired by nodename 4301@ozone-unit-076618677d3hvp9j-704586522
2019-06-17 06:54:55,834 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis/d3dd75ab-5ee0-47fc-bcbe-72ad68bb46cd has been successfully formatted.
2019-06-17 06:54:55,836 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-17 06:54:55,836 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-17 06:54:55,837 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-17 06:54:55,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:54:55,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:54:55,844 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-17 06:54:55,846 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 121562d4-ee6b-43f6-ac70-01c3f65ade91-RaftLogWorker for Storage Directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis/d3dd75ab-5ee0-47fc-bcbe-72ad68bb46cd
2019-06-17 06:54:55,846 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-17 06:54:55,847 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-17 06:54:55,848 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:54:55,848 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-17 06:54:55,849 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-17 06:54:55,849 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-17 06:54:55,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-17 06:54:55,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-17 06:54:55,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-17 06:54:55,852 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-17 06:54:55,856 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-17 06:54:55,857 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-17 06:54:55,857 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-17 06:54:55,942 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: start group-72AD68BB46CD
2019-06-17 06:54:55,942 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-17 06:54:55,943 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: start FollowerState
2019-06-17 06:54:55,945 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-72AD68BB46CD,id=121562d4-ee6b-43f6-ac70-01c3f65ade91
2019-06-17 06:54:56,983 INFO  impl.FollowerState (FollowerState.java:run(101)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD changes to CANDIDATE, lastRpcTime:1039, electionTimeout:1039ms
2019-06-17 06:54:56,983 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: shutdown FollowerState
2019-06-17 06:54:56,983 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-17 06:54:56,984 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: start LeaderElection
2019-06-17 06:54:56,987 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD:LeaderElection1: begin an election at term 1 for -1: [121562d4-ee6b-43f6-ac70-01c3f65ade91:127.0.0.1:34015], old=null
2019-06-17 06:54:56,988 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: shutdown LeaderElection
2019-06-17 06:54:56,989 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-17 06:54:56,989 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD change Leader from null to 121562d4-ee6b-43f6-ac70-01c3f65ade91 at term 1 for becomeLeader, leader elected after 1152ms
2019-06-17 06:54:56,992 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-17 06:54:56,992 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-17 06:54:56,994 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-17 06:54:56,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-17 06:54:57,003 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: start LeaderState
2019-06-17 06:54:57,015 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91-RaftLogWorker: Starting segment from index:0
2019-06-17 06:54:57,022 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD set configuration 0: [121562d4-ee6b-43f6-ac70-01c3f65ade91:127.0.0.1:34015], old=null at 0
2019-06-17 06:54:57,147 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91-RaftLogWorker: created new log segment /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis/d3dd75ab-5ee0-47fc-bcbe-72ad68bb46cd/current/log_inprogress_0
2019-06-17 06:54:58,152 WARN  util.NativeCodeLoader (NativeCodeLoader.java:<clinit>(60)) - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
2019-06-17 06:54:58,207 INFO  interfaces.Container (KeyValueContainer.java:compactDB(356)) - Container 3170301512472201304 is closed with bcsId 0.
2019-06-17 06:54:58,208 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-17 06:54:58,208 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: close
2019-06-17 06:54:58,210 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: shutdown group-72AD68BB46CD
2019-06-17 06:54:58,210 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-72AD68BB46CD,id=121562d4-ee6b-43f6-ac70-01c3f65ade91
2019-06-17 06:54:58,210 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: shutdown LeaderState
2019-06-17 06:54:58,211 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91-PendingRequests: sendNotLeaderResponses
2019-06-17 06:54:58,213 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-121562d4-ee6b-43f6-ac70-01c3f65ade91-group-72AD68BB46CD: set stopIndex = 4
2019-06-17 06:54:58,213 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:4)
2019-06-17 06:54:58,213 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler890a5513-2d94-40ef-a62e-38fad6e5931d/ratis/d3dd75ab-5ee0-47fc-bcbe-72ad68bb46cd/sm/snapshot.1_4
2019-06-17 06:54:58,218 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91:group-72AD68BB46CD closes. The last applied log index is 4
2019-06-17 06:54:58,219 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-17 06:54:58,219 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91-RaftLogWorker close()
2019-06-17 06:54:58,220 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: shutdown server with port 34015 now
2019-06-17 06:54:58,223 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 121562d4-ee6b-43f6-ac70-01c3f65ade91: shutdown server with port 34015 successfully
2019-06-17 06:54:58,230 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-17 06:54:58,254 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/hdds of  storage type : DISK and capacity : 104021790720
2019-06-17 06:54:58,254 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/hdds to VolumeSet
2019-06-17 06:54:58,254 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@12958360
2019-06-17 06:54:58,255 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@12958360
2019-06-17 06:54:58,263 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 35173
2019-06-17 06:54:58,264 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-17 06:54:58,264 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-17 06:54:58,264 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35173 (custom)
2019-06-17 06:54:58,264 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-17 06:54:58,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:54:58,265 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-17 06:54:58,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-17 06:54:58,265 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis] (custom)
2019-06-17 06:54:58,266 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 46283
2019-06-17 06:54:58,266 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-17 06:54:58,266 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-17 06:54:58,266 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c at port 35173
2019-06-17 06:54:58,289 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: start RPC server
2019-06-17 06:54:58,290 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: GrpcService started, listening on 0.0.0.0/0.0.0.0:35173
2019-06-17 06:54:58,299 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: addNew group-A92D07CB9717:[e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:127.0.0.1:35173] returns group-A92D07CB9717:java.util.concurrent.CompletableFuture@420bc864[Not completed]
2019-06-17 06:54:58,300 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: new RaftServerImpl for group-A92D07CB9717:[e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:127.0.0.1:35173] with ContainerStateMachine:uninitialized
2019-06-17 06:54:58,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-17 06:54:58,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-17 06:54:58,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-17 06:54:58,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-17 06:54:58,300 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 ConfigurationManager, init=-1: [e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:127.0.0.1:35173], old=null, confs=<EMPTY_MAP>
2019-06-17 06:54:58,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis] (custom)
2019-06-17 06:54:58,301 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis/9e2b2640-7de7-4ee6-80d8-a92d07cb9717 does not exist. Creating ...
2019-06-17 06:54:58,303 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis/9e2b2640-7de7-4ee6-80d8-a92d07cb9717/in_use.lock acquired by nodename 4301@ozone-unit-076618677d3hvp9j-704586522
2019-06-17 06:54:58,305 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis/9e2b2640-7de7-4ee6-80d8-a92d07cb9717 has been successfully formatted.
2019-06-17 06:54:58,305 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-17 06:54:58,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-17 06:54:58,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-17 06:54:58,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:54:58,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:54:58,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-17 06:54:58,306 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c-RaftLogWorker for Storage Directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis/9e2b2640-7de7-4ee6-80d8-a92d07cb9717
2019-06-17 06:54:58,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-17 06:54:58,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-17 06:54:58,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:54:58,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-17 06:54:58,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-17 06:54:58,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-17 06:54:58,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-17 06:54:58,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-17 06:54:58,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-17 06:54:58,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-17 06:54:58,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-17 06:54:58,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-17 06:54:58,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-17 06:54:58,310 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: start group-A92D07CB9717
2019-06-17 06:54:58,311 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-17 06:54:58,311 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: start FollowerState
2019-06-17 06:54:58,311 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A92D07CB9717,id=e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c
2019-06-17 06:54:59,434 INFO  impl.FollowerState (FollowerState.java:run(101)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 changes to CANDIDATE, lastRpcTime:1123, electionTimeout:1123ms
2019-06-17 06:54:59,434 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: shutdown FollowerState
2019-06-17 06:54:59,434 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-17 06:54:59,434 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: start LeaderElection
2019-06-17 06:54:59,437 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717:LeaderElection2: begin an election at term 1 for -1: [e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:127.0.0.1:35173], old=null
2019-06-17 06:54:59,437 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: shutdown LeaderElection
2019-06-17 06:54:59,438 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-17 06:54:59,438 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 change Leader from null to e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c at term 1 for becomeLeader, leader elected after 1132ms
2019-06-17 06:54:59,438 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-17 06:54:59,438 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-17 06:54:59,438 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-17 06:54:59,438 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-17 06:54:59,439 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: start LeaderState
2019-06-17 06:54:59,439 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c-RaftLogWorker: Starting segment from index:0
2019-06-17 06:54:59,439 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 set configuration 0: [e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:127.0.0.1:35173], old=null at 0
2019-06-17 06:54:59,473 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c-RaftLogWorker: created new log segment /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis/9e2b2640-7de7-4ee6-80d8-a92d07cb9717/current/log_inprogress_0
2019-06-17 06:55:00,342 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-17 06:55:00,342 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: close
2019-06-17 06:55:00,343 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: shutdown group-A92D07CB9717
2019-06-17 06:55:00,343 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A92D07CB9717,id=e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c
2019-06-17 06:55:00,343 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: shutdown LeaderState
2019-06-17 06:55:00,344 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c-PendingRequests: sendNotLeaderResponses
2019-06-17 06:55:00,344 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c-group-A92D07CB9717: set stopIndex = 2
2019-06-17 06:55:00,344 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:2)
2019-06-17 06:55:00,345 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerb6f3cd92-366b-4394-bdd6-031d035fb1fd/ratis/9e2b2640-7de7-4ee6-80d8-a92d07cb9717/sm/snapshot.1_2
2019-06-17 06:55:00,345 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c:group-A92D07CB9717 closes. The last applied log index is 2
2019-06-17 06:55:00,346 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-17 06:55:00,346 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c-RaftLogWorker close()
2019-06-17 06:55:00,347 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: shutdown server with port 35173 now
2019-06-17 06:55:00,348 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - e3872a11-d9f1-4fe0-9ba3-dbbd70030d1c: shutdown server with port 35173 successfully
2019-06-17 06:55:00,354 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-17 06:55:00,375 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/hdds of  storage type : DISK and capacity : 104021790720
2019-06-17 06:55:00,375 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/hdds to VolumeSet
2019-06-17 06:55:00,376 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@8bffb8b
2019-06-17 06:55:00,378 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@8bffb8b
2019-06-17 06:55:00,386 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 43455
2019-06-17 06:55:00,387 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-17 06:55:00,388 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-17 06:55:00,388 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43455 (custom)
2019-06-17 06:55:00,388 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-17 06:55:00,388 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:55:00,388 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-17 06:55:00,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-17 06:55:00,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis] (custom)
2019-06-17 06:55:00,389 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 43287
2019-06-17 06:55:00,390 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-17 06:55:00,390 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-17 06:55:00,390 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 8f644c2e-c9fd-41b0-b415-a2b577da78dd at port 43455
2019-06-17 06:55:00,395 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: start RPC server
2019-06-17 06:55:00,396 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: GrpcService started, listening on 0.0.0.0/0.0.0.0:43455
2019-06-17 06:55:00,404 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: addNew group-4CF25B33CB8B:[8f644c2e-c9fd-41b0-b415-a2b577da78dd:127.0.0.1:43455] returns group-4CF25B33CB8B:java.util.concurrent.CompletableFuture@ca1772a[Not completed]
2019-06-17 06:55:00,404 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: new RaftServerImpl for group-4CF25B33CB8B:[8f644c2e-c9fd-41b0-b415-a2b577da78dd:127.0.0.1:43455] with ContainerStateMachine:uninitialized
2019-06-17 06:55:00,405 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-17 06:55:00,405 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-17 06:55:00,405 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-17 06:55:00,405 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-17 06:55:00,405 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B ConfigurationManager, init=-1: [8f644c2e-c9fd-41b0-b415-a2b577da78dd:127.0.0.1:43455], old=null, confs=<EMPTY_MAP>
2019-06-17 06:55:00,405 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis] (custom)
2019-06-17 06:55:00,406 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis/8ad6b038-a81e-4c43-9bfd-4cf25b33cb8b does not exist. Creating ...
2019-06-17 06:55:00,408 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis/8ad6b038-a81e-4c43-9bfd-4cf25b33cb8b/in_use.lock acquired by nodename 4301@ozone-unit-076618677d3hvp9j-704586522
2019-06-17 06:55:00,411 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis/8ad6b038-a81e-4c43-9bfd-4cf25b33cb8b has been successfully formatted.
2019-06-17 06:55:00,411 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-17 06:55:00,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-17 06:55:00,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-17 06:55:00,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:55:00,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:55:00,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-17 06:55:00,411 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 8f644c2e-c9fd-41b0-b415-a2b577da78dd-RaftLogWorker for Storage Directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis/8ad6b038-a81e-4c43-9bfd-4cf25b33cb8b
2019-06-17 06:55:00,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-17 06:55:00,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-17 06:55:00,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-17 06:55:00,413 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-17 06:55:00,413 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-17 06:55:00,413 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-17 06:55:00,413 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: start group-4CF25B33CB8B
2019-06-17 06:55:00,413 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-17 06:55:00,413 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: start FollowerState
2019-06-17 06:55:00,414 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4CF25B33CB8B,id=8f644c2e-c9fd-41b0-b415-a2b577da78dd
2019-06-17 06:55:01,597 INFO  impl.FollowerState (FollowerState.java:run(101)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B changes to CANDIDATE, lastRpcTime:1183, electionTimeout:1183ms
2019-06-17 06:55:01,597 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: shutdown FollowerState
2019-06-17 06:55:01,597 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-17 06:55:01,597 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: start LeaderElection
2019-06-17 06:55:01,600 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B:LeaderElection3: begin an election at term 1 for -1: [8f644c2e-c9fd-41b0-b415-a2b577da78dd:127.0.0.1:43455], old=null
2019-06-17 06:55:01,600 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: shutdown LeaderElection
2019-06-17 06:55:01,600 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-17 06:55:01,600 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B change Leader from null to 8f644c2e-c9fd-41b0-b415-a2b577da78dd at term 1 for becomeLeader, leader elected after 1189ms
2019-06-17 06:55:01,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-17 06:55:01,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-17 06:55:01,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-17 06:55:01,601 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-17 06:55:01,601 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: start LeaderState
2019-06-17 06:55:01,601 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd-RaftLogWorker: Starting segment from index:0
2019-06-17 06:55:01,603 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B set configuration 0: [8f644c2e-c9fd-41b0-b415-a2b577da78dd:127.0.0.1:43455], old=null at 0
2019-06-17 06:55:01,636 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd-RaftLogWorker: created new log segment /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis/8ad6b038-a81e-4c43-9bfd-4cf25b33cb8b/current/log_inprogress_0
2019-06-17 06:55:02,450 INFO  interfaces.Container (KeyValueContainer.java:compactDB(356)) - Container 1432982627592579273 is closed with bcsId 0.
2019-06-17 06:55:02,450 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-17 06:55:02,451 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: close
2019-06-17 06:55:02,451 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: shutdown group-4CF25B33CB8B
2019-06-17 06:55:02,451 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4CF25B33CB8B,id=8f644c2e-c9fd-41b0-b415-a2b577da78dd
2019-06-17 06:55:02,452 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: shutdown LeaderState
2019-06-17 06:55:02,452 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd-PendingRequests: sendNotLeaderResponses
2019-06-17 06:55:02,453 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-8f644c2e-c9fd-41b0-b415-a2b577da78dd-group-4CF25B33CB8B: set stopIndex = 2
2019-06-17 06:55:02,453 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:2)
2019-06-17 06:55:02,453 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler4855eea2-2bae-4357-a16d-82a62e167f46/ratis/8ad6b038-a81e-4c43-9bfd-4cf25b33cb8b/sm/snapshot.1_2
2019-06-17 06:55:02,454 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd:group-4CF25B33CB8B closes. The last applied log index is 2
2019-06-17 06:55:02,454 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-17 06:55:02,455 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd-RaftLogWorker close()
2019-06-17 06:55:02,456 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: shutdown server with port 43455 now
2019-06-17 06:55:02,457 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 8f644c2e-c9fd-41b0-b415-a2b577da78dd: shutdown server with port 43455 successfully
2019-06-17 06:55:02,460 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-17 06:55:02,483 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/hdds of  storage type : DISK and capacity : 104021790720
2019-06-17 06:55:02,483 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/hdds to VolumeSet
2019-06-17 06:55:02,484 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@7318daf8
2019-06-17 06:55:02,484 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@7318daf8
2019-06-17 06:55:02,494 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 38443
2019-06-17 06:55:02,495 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-17 06:55:02,496 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-17 06:55:02,496 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38443 (custom)
2019-06-17 06:55:02,496 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-17 06:55:02,496 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:55:02,497 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-17 06:55:02,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-17 06:55:02,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis] (custom)
2019-06-17 06:55:02,498 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 33691
2019-06-17 06:55:02,498 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-17 06:55:02,498 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-17 06:55:02,498 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis eb087905-d97a-49c2-b074-b87917dcba8e at port 38443
2019-06-17 06:55:02,507 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - eb087905-d97a-49c2-b074-b87917dcba8e: start RPC server
2019-06-17 06:55:02,508 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - eb087905-d97a-49c2-b074-b87917dcba8e: GrpcService started, listening on 0.0.0.0/0.0.0.0:38443
2019-06-17 06:55:02,516 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - eb087905-d97a-49c2-b074-b87917dcba8e: addNew group-61430BC9AE10:[eb087905-d97a-49c2-b074-b87917dcba8e:127.0.0.1:38443] returns group-61430BC9AE10:java.util.concurrent.CompletableFuture@6fbf0794[Not completed]
2019-06-17 06:55:02,516 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - eb087905-d97a-49c2-b074-b87917dcba8e: new RaftServerImpl for group-61430BC9AE10:[eb087905-d97a-49c2-b074-b87917dcba8e:127.0.0.1:38443] with ContainerStateMachine:uninitialized
2019-06-17 06:55:02,516 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-17 06:55:02,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-17 06:55:02,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-17 06:55:02,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-17 06:55:02,517 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 ConfigurationManager, init=-1: [eb087905-d97a-49c2-b074-b87917dcba8e:127.0.0.1:38443], old=null, confs=<EMPTY_MAP>
2019-06-17 06:55:02,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis] (custom)
2019-06-17 06:55:02,517 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis/f47ed32b-99e2-430c-a978-61430bc9ae10 does not exist. Creating ...
2019-06-17 06:55:02,520 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis/f47ed32b-99e2-430c-a978-61430bc9ae10/in_use.lock acquired by nodename 4301@ozone-unit-076618677d3hvp9j-704586522
2019-06-17 06:55:02,522 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis/f47ed32b-99e2-430c-a978-61430bc9ae10 has been successfully formatted.
2019-06-17 06:55:02,522 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-17 06:55:02,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-17 06:55:02,523 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new eb087905-d97a-49c2-b074-b87917dcba8e-RaftLogWorker for Storage Directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis/f47ed32b-99e2-430c-a978-61430bc9ae10
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-17 06:55:02,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-17 06:55:02,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-17 06:55:02,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-17 06:55:02,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-17 06:55:02,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-17 06:55:02,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-17 06:55:02,525 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-17 06:55:02,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - eb087905-d97a-49c2-b074-b87917dcba8e: start group-61430BC9AE10
2019-06-17 06:55:02,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-17 06:55:02,525 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - eb087905-d97a-49c2-b074-b87917dcba8e: start FollowerState
2019-06-17 06:55:02,525 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-61430BC9AE10,id=eb087905-d97a-49c2-b074-b87917dcba8e
2019-06-17 06:55:03,577 INFO  impl.FollowerState (FollowerState.java:run(101)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 changes to CANDIDATE, lastRpcTime:1052, electionTimeout:1052ms
2019-06-17 06:55:03,578 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - eb087905-d97a-49c2-b074-b87917dcba8e: shutdown FollowerState
2019-06-17 06:55:03,578 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-17 06:55:03,578 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - eb087905-d97a-49c2-b074-b87917dcba8e: start LeaderElection
2019-06-17 06:55:03,581 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10:LeaderElection4: begin an election at term 1 for -1: [eb087905-d97a-49c2-b074-b87917dcba8e:127.0.0.1:38443], old=null
2019-06-17 06:55:03,581 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - eb087905-d97a-49c2-b074-b87917dcba8e: shutdown LeaderElection
2019-06-17 06:55:03,581 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-17 06:55:03,581 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 change Leader from null to eb087905-d97a-49c2-b074-b87917dcba8e at term 1 for becomeLeader, leader elected after 1058ms
2019-06-17 06:55:03,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-17 06:55:03,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-17 06:55:03,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-17 06:55:03,582 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-17 06:55:03,582 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - eb087905-d97a-49c2-b074-b87917dcba8e: start LeaderState
2019-06-17 06:55:03,582 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - eb087905-d97a-49c2-b074-b87917dcba8e-RaftLogWorker: Starting segment from index:0
2019-06-17 06:55:03,582 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 set configuration 0: [eb087905-d97a-49c2-b074-b87917dcba8e:127.0.0.1:38443], old=null at 0
2019-06-17 06:55:03,618 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - eb087905-d97a-49c2-b074-b87917dcba8e-RaftLogWorker: created new log segment /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis/f47ed32b-99e2-430c-a978-61430bc9ae10/current/log_inprogress_0
2019-06-17 06:55:04,571 INFO  interfaces.Container (KeyValueContainer.java:compactDB(356)) - Container 826832816179774823 is closed with bcsId 0.
2019-06-17 06:55:04,571 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-17 06:55:04,572 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - eb087905-d97a-49c2-b074-b87917dcba8e: close
2019-06-17 06:55:04,572 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - eb087905-d97a-49c2-b074-b87917dcba8e: shutdown group-61430BC9AE10
2019-06-17 06:55:04,572 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-61430BC9AE10,id=eb087905-d97a-49c2-b074-b87917dcba8e
2019-06-17 06:55:04,572 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - eb087905-d97a-49c2-b074-b87917dcba8e: shutdown LeaderState
2019-06-17 06:55:04,573 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - eb087905-d97a-49c2-b074-b87917dcba8e-PendingRequests: sendNotLeaderResponses
2019-06-17 06:55:04,573 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-eb087905-d97a-49c2-b074-b87917dcba8e-group-61430BC9AE10: set stopIndex = 2
2019-06-17 06:55:04,573 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:2)
2019-06-17 06:55:04,574 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc5056c48-c6a3-45dd-9edc-d562c3099379/ratis/f47ed32b-99e2-430c-a978-61430bc9ae10/sm/snapshot.1_2
2019-06-17 06:55:04,574 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - eb087905-d97a-49c2-b074-b87917dcba8e:group-61430BC9AE10 closes. The last applied log index is 2
2019-06-17 06:55:04,574 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - eb087905-d97a-49c2-b074-b87917dcba8e-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-17 06:55:04,575 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - eb087905-d97a-49c2-b074-b87917dcba8e-RaftLogWorker close()
2019-06-17 06:55:04,575 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - eb087905-d97a-49c2-b074-b87917dcba8e: shutdown server with port 38443 now
2019-06-17 06:55:04,577 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - eb087905-d97a-49c2-b074-b87917dcba8e: shutdown server with port 38443 successfully
2019-06-17 06:55:04,579 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-17 06:55:04,598 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/hdds of  storage type : DISK and capacity : 104021790720
2019-06-17 06:55:04,598 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/hdds to VolumeSet
2019-06-17 06:55:04,598 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@43f61afb
2019-06-17 06:55:04,599 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@43f61afb
2019-06-17 06:55:04,606 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 39153
2019-06-17 06:55:04,607 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-17 06:55:04,608 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-17 06:55:04,608 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39153 (custom)
2019-06-17 06:55:04,608 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-17 06:55:04,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:55:04,609 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-17 06:55:04,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-17 06:55:04,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis] (custom)
2019-06-17 06:55:04,610 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 40103
2019-06-17 06:55:04,610 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-17 06:55:04,610 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-17 06:55:04,610 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 44613e24-f94d-4386-afaf-486ebedf636e at port 39153
2019-06-17 06:55:04,630 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 44613e24-f94d-4386-afaf-486ebedf636e: start RPC server
2019-06-17 06:55:04,631 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 44613e24-f94d-4386-afaf-486ebedf636e: GrpcService started, listening on 0.0.0.0/0.0.0.0:39153
Jun 17, 2019 6:55:04 AM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=29, target=127.0.0.1:43455} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler.createContainer(TestCloseContainerCommandHandler.java:300)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler.testQuasiCloseToClose(TestCloseContainerCommandHandler.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 17, 2019 6:55:04 AM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=18, target=127.0.0.1:35173} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler.createContainer(TestCloseContainerCommandHandler.java:300)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandler.testCloseContainerViaStandalone(TestCloseContainerCommandHandler.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2019-06-17 06:55:04,649 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 44613e24-f94d-4386-afaf-486ebedf636e: addNew group-7066F5A2077A:[44613e24-f94d-4386-afaf-486ebedf636e:127.0.0.1:39153] returns group-7066F5A2077A:java.util.concurrent.CompletableFuture@32a1053f[Not completed]
2019-06-17 06:55:04,649 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 44613e24-f94d-4386-afaf-486ebedf636e: new RaftServerImpl for group-7066F5A2077A:[44613e24-f94d-4386-afaf-486ebedf636e:127.0.0.1:39153] with ContainerStateMachine:uninitialized
2019-06-17 06:55:04,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-17 06:55:04,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-17 06:55:04,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-17 06:55:04,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-17 06:55:04,650 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A ConfigurationManager, init=-1: [44613e24-f94d-4386-afaf-486ebedf636e:127.0.0.1:39153], old=null, confs=<EMPTY_MAP>
2019-06-17 06:55:04,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis] (custom)
2019-06-17 06:55:04,651 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis/16e0d2ff-2aea-439f-855a-7066f5a2077a does not exist. Creating ...
2019-06-17 06:55:04,653 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis/16e0d2ff-2aea-439f-855a-7066f5a2077a/in_use.lock acquired by nodename 4301@ozone-unit-076618677d3hvp9j-704586522
2019-06-17 06:55:04,655 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis/16e0d2ff-2aea-439f-855a-7066f5a2077a has been successfully formatted.
2019-06-17 06:55:04,655 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-17 06:55:04,655 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-17 06:55:04,655 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-17 06:55:04,656 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 44613e24-f94d-4386-afaf-486ebedf636e-RaftLogWorker for Storage Directory /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis/16e0d2ff-2aea-439f-855a-7066f5a2077a
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-17 06:55:04,656 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-17 06:55:04,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-17 06:55:04,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-17 06:55:04,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-17 06:55:04,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-17 06:55:04,657 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-17 06:55:04,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 44613e24-f94d-4386-afaf-486ebedf636e: start group-7066F5A2077A
2019-06-17 06:55:04,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-17 06:55:04,657 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 44613e24-f94d-4386-afaf-486ebedf636e: start FollowerState
2019-06-17 06:55:04,658 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7066F5A2077A,id=44613e24-f94d-4386-afaf-486ebedf636e
2019-06-17 06:55:05,846 INFO  impl.FollowerState (FollowerState.java:run(101)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A changes to CANDIDATE, lastRpcTime:1188, electionTimeout:1188ms
2019-06-17 06:55:05,846 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 44613e24-f94d-4386-afaf-486ebedf636e: shutdown FollowerState
2019-06-17 06:55:05,846 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-17 06:55:05,846 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 44613e24-f94d-4386-afaf-486ebedf636e: start LeaderElection
2019-06-17 06:55:05,849 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A:LeaderElection5: begin an election at term 1 for -1: [44613e24-f94d-4386-afaf-486ebedf636e:127.0.0.1:39153], old=null
2019-06-17 06:55:05,849 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 44613e24-f94d-4386-afaf-486ebedf636e: shutdown LeaderElection
2019-06-17 06:55:05,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-17 06:55:05,850 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A change Leader from null to 44613e24-f94d-4386-afaf-486ebedf636e at term 1 for becomeLeader, leader elected after 1194ms
2019-06-17 06:55:05,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-17 06:55:05,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-17 06:55:05,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-17 06:55:05,850 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-17 06:55:05,850 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 44613e24-f94d-4386-afaf-486ebedf636e: start LeaderState
2019-06-17 06:55:05,851 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 44613e24-f94d-4386-afaf-486ebedf636e-RaftLogWorker: Starting segment from index:0
2019-06-17 06:55:05,851 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A set configuration 0: [44613e24-f94d-4386-afaf-486ebedf636e:127.0.0.1:39153], old=null at 0
2019-06-17 06:55:05,885 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 44613e24-f94d-4386-afaf-486ebedf636e-RaftLogWorker: created new log segment /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis/16e0d2ff-2aea-439f-855a-7066f5a2077a/current/log_inprogress_0
2019-06-17 06:55:06,693 INFO  interfaces.Container (KeyValueContainer.java:compactDB(356)) - Container 7115186873635276260 is closed with bcsId 0.
2019-06-17 06:55:06,694 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-17 06:55:06,694 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 44613e24-f94d-4386-afaf-486ebedf636e: close
2019-06-17 06:55:06,694 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 44613e24-f94d-4386-afaf-486ebedf636e: shutdown group-7066F5A2077A
2019-06-17 06:55:06,694 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7066F5A2077A,id=44613e24-f94d-4386-afaf-486ebedf636e
2019-06-17 06:55:06,694 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 44613e24-f94d-4386-afaf-486ebedf636e: shutdown LeaderState
2019-06-17 06:55:06,695 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 44613e24-f94d-4386-afaf-486ebedf636e-PendingRequests: sendNotLeaderResponses
2019-06-17 06:55:06,695 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-44613e24-f94d-4386-afaf-486ebedf636e-group-7066F5A2077A: set stopIndex = 4
2019-06-17 06:55:06,695 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:4)
2019-06-17 06:55:06,696 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-hdds/container-service/target/test-dir/org.apache.hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerCommandHandlerc1419ba4-24f8-4137-b5a1-767439846b5f/ratis/16e0d2ff-2aea-439f-855a-7066f5a2077a/sm/snapshot.1_4
2019-06-17 06:55:06,696 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 44613e24-f94d-4386-afaf-486ebedf636e:group-7066F5A2077A closes. The last applied log index is 4
2019-06-17 06:55:06,696 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 44613e24-f94d-4386-afaf-486ebedf636e-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-17 06:55:06,697 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 44613e24-f94d-4386-afaf-486ebedf636e-RaftLogWorker close()
2019-06-17 06:55:06,697 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 44613e24-f94d-4386-afaf-486ebedf636e: shutdown server with port 39153 now
2019-06-17 06:55:06,698 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 44613e24-f94d-4386-afaf-486ebedf636e: shutdown server with port 39153 successfully
2019-06-17 06:55:06,700 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted

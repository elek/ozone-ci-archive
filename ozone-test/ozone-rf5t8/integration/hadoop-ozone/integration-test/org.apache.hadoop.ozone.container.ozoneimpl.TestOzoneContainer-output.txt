2019-06-12 22:58:10,353 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:10,412 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:10,415 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:10,434 INFO  util.log (Log.java:initialized(192)) - Logging initialized @1128ms
2019-06-12 22:58:10,520 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-12 22:58:10,521 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-12 22:58:10,521 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-12 22:58:10,521 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-12 22:58:10,521 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-12 22:58:10,521 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-12 22:58:10,532 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:10,533 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:10,534 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:10,600 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:10,600 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:10,602 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-12 22:58:10,663 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@6cc8e703
2019-06-12 22:58:10,664 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-12 22:58:10,728 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:10,749 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-12 22:58:10,750 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:10,805 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-06-12 22:58:11,179 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:11,199 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38853
2019-06-12 22:58:11,221 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:11,222 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45257
2019-06-12 22:58:11,227 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:11,227 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45307
2019-06-12 22:58:11,242 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-12 22:58:11,344 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:11,350 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:11,356 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:11,357 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-12 22:58:11,358 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:11,358 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:11,379 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45307
2019-06-12 22:58:11,426 WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-06-12 22:58:11,435 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-06-12 22:58:11,435 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-06-12 22:58:11,601 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:45307
2019-06-12 22:58:11,602 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:11,602 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45307: starting
2019-06-12 22:58:11,610 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:45257
2019-06-12 22:58:11,610 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:45257
2019-06-12 22:58:11,610 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:11,611 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45257: starting
2019-06-12 22:58:11,612 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:38853
2019-06-12 22:58:11,612 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:38853
2019-06-12 22:58:11,613 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:11,613 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38853: starting
2019-06-12 22:58:11,630 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 36519
2019-06-12 22:58:11,632 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:11,664 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7a910304{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:11,665 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@76a30023{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:11,692 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@74a74e44{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-12 22:58:11,696 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5998bbbb{HTTP/1.1,[http/1.1]}{0.0.0.0:36519}
2019-06-12 22:58:11,697 INFO  server.Server (Server.java:doStart(419)) - Started @2391ms
2019-06-12 22:58:11,698 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:36519
2019-06-12 22:58:11,710 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:11,713 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:11,805 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:11,807 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-12 22:58:11,807 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 4bba9a47-c8de-4a3c-8b7b-a5c1739e9655
2019-06-12 22:58:11,809 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:11,809 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:11,810 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-12 22:58:11,988 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:11,994 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-12 22:58:11,994 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-12 22:58:11,994 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-12 22:58:11,995 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-12 22:58:11,995 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-12 22:58:11,995 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-12 22:58:11,995 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-12 22:58:11,995 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-12 22:58:11,995 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-12 22:58:11,996 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-12 22:58:11,996 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-12 22:58:11,996 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-12 22:58:11,996 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-12 22:58:11,996 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-12 22:58:11,996 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-12 22:58:11,997 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-12 22:58:11,997 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-12 22:58:11,997 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-12 22:58:11,997 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-12 22:58:11,997 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-12 22:58:11,998 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-12 22:58:11,998 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-12 22:58:11,998 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:11,998 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:11,999 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:12,175 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:12,176 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41087
2019-06-12 22:58:12,197 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:12,197 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:41087
2019-06-12 22:58:12,197 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-12 22:58:12,198 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:12,198 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41087: starting
2019-06-12 22:58:12,227 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-12 22:58:12,228 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:12,229 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:12,230 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:12,231 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-12 22:58:12,231 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:12,231 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:12,233 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 36287
2019-06-12 22:58:12,233 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:12,243 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@d94e6a{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:12,243 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7e3f356b{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:12,247 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2f78cf1{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-12 22:58:12,248 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3c5a621d{HTTP/1.1,[http/1.1]}{0.0.0.0:36287}
2019-06-12 22:58:12,248 INFO  server.Server (Server.java:doStart(419)) - Started @2943ms
2019-06-12 22:58:12,249 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:36287
2019-06-12 22:58:12,425 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-12 22:58:12,501 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-rf5t8-2531498618 ip:192.168.19.23
2019-06-12 22:58:12,524 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:12,526 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/containers/hdds to VolumeSet
2019-06-12 22:58:12,529 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@52c32656
2019-06-12 22:58:12,548 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@52c32656
2019-06-12 22:58:12,652 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:12,660 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-12 22:58:12,661 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:12,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:12,662 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:12,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:12,783 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/ratis] (custom)
2019-06-12 22:58:12,810 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-12 22:58:12,820 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-12 22:58:12,821 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:12,822 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:12,823 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:12,823 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-12 22:58:12,824 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:12,824 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:12,824 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33437
2019-06-12 22:58:12,824 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:12,827 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@51e15103{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:12,827 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@27abfebe{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-12 22:58:12,861 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@63f5b18f{/,file:///tmp/jetty-0.0.0.0-33437-hddsDatanode-_-any-4701006126090254957.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-12 22:58:12,862 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3fe41dd1{HTTP/1.1,[http/1.1]}{0.0.0.0:33437}
2019-06-12 22:58:12,862 INFO  server.Server (Server.java:doStart(419)) - Started @3557ms
2019-06-12 22:58:12,863 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:33437
Jun 12, 2019 10:58:13 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-12 22:58:13,810 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@1800fcfd
2019-06-12 22:58:13,812 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:13,817 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:13,909 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/meta/datanode.id
2019-06-12 22:58:14,812 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:15,812 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:15,838 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:15,838 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:15,838 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 4f2b6765-c216-403b-a2b3-d11f171ddae4 at port 9858
2019-06-12 22:58:15,850 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: start RPC server
2019-06-12 22:58:15,969 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-12 22:58:16,813 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:17,813 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:17,839 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 4f2b6765-c216-403b-a2b3-d11f171ddae4{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}
2019-06-12 22:58:17,842 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-12 22:58:17,842 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-12 22:58:17,843 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-12 22:58:18,190 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: addNew group-10B05ECAAF57:[4f2b6765-c216-403b-a2b3-d11f171ddae4:192.168.19.23:9858] returns group-10B05ECAAF57:java.util.concurrent.CompletableFuture@5911c5b5[Not completed]
2019-06-12 22:58:18,196 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: new RaftServerImpl for group-10B05ECAAF57:[4f2b6765-c216-403b-a2b3-d11f171ddae4:192.168.19.23:9858] with ContainerStateMachine:uninitialized
2019-06-12 22:58:18,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 22:58:18,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 22:58:18,197 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 22:58:18,199 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 22:58:18,205 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4:group-10B05ECAAF57 ConfigurationManager, init=-1: [4f2b6765-c216-403b-a2b3-d11f171ddae4:192.168.19.23:9858], old=null, confs=<EMPTY_MAP>
2019-06-12 22:58:18,206 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/ratis] (custom)
2019-06-12 22:58:18,213 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/ratis/36f286a7-b388-44f5-9b93-10b05ecaaf57 does not exist. Creating ...
2019-06-12 22:58:18,218 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/ratis/36f286a7-b388-44f5-9b93-10b05ecaaf57/in_use.lock acquired by nodename 31313@ozone-rf5t8-2531498618
2019-06-12 22:58:18,222 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/ratis/36f286a7-b388-44f5-9b93-10b05ecaaf57 has been successfully formatted.
2019-06-12 22:58:18,223 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 22:58:18,224 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 22:58:18,226 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 22:58:18,228 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:18,231 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:18,236 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 22:58:18,238 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 4f2b6765-c216-403b-a2b3-d11f171ddae4-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-43529ede-4be3-44b0-8b62-389075ee3efa/datanode-0/data/ratis/36f286a7-b388-44f5-9b93-10b05ecaaf57
2019-06-12 22:58:18,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 22:58:18,239 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 22:58:18,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:18,241 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 22:58:18,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 22:58:18,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 22:58:18,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 22:58:18,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 22:58:18,243 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 22:58:18,246 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 22:58:18,251 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 22:58:18,252 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 22:58:18,253 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 22:58:18,272 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: start group-10B05ECAAF57
2019-06-12 22:58:18,274 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4:group-10B05ECAAF57 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 22:58:18,275 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: start FollowerState
2019-06-12 22:58:18,277 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-10B05ECAAF57,id=4f2b6765-c216-403b-a2b3-d11f171ddae4
2019-06-12 22:58:18,406 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 36f286a7-b388-44f5-9b93-10b05ecaaf57, Nodes: 4f2b6765-c216-403b-a2b3-d11f171ddae4{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-12 22:58:18,814 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-12 22:58:19,101 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-12 22:58:19,102 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-12 22:58:19,102 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-12 22:58:19,102 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41087
2019-06-12 22:58:19,104 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41087
2019-06-12 22:58:19,104 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-12 22:58:19,104 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:19,106 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2f78cf1{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-12 22:58:19,109 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3c5a621d{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:19,110 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7e3f356b{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:19,110 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@d94e6a{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:19,112 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-12 22:58:19,112 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-12 22:58:19,112 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-12 22:58:19,112 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-12 22:58:19,113 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-12 22:58:19,113 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-12 22:58:19,113 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38853
2019-06-12 22:58:19,114 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38853
2019-06-12 22:58:19,114 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:19,114 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-12 22:58:19,114 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-12 22:58:19,115 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45257
2019-06-12 22:58:19,115 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:19,115 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-12 22:58:19,115 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45257
2019-06-12 22:58:19,115 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-12 22:58:19,116 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45307
2019-06-12 22:58:19,117 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-12 22:58:19,118 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:19,117 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45307
2019-06-12 22:58:19,118 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@74a74e44{/,null,UNAVAILABLE}{/scm}
2019-06-12 22:58:19,119 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5998bbbb{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:19,119 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@76a30023{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:19,119 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7a910304{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:19,120 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-12 22:58:19,120 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:19,120 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:19,120 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-12 22:58:19,123 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-12 22:58:19,123 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-12 22:58:19,124 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@1800fcfd
2019-06-12 22:58:19,124 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-12 22:58:19,125 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:19,125 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: close
2019-06-12 22:58:19,127 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: shutdown group-10B05ECAAF57
2019-06-12 22:58:19,127 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-10B05ECAAF57,id=4f2b6765-c216-403b-a2b3-d11f171ddae4
2019-06-12 22:58:19,127 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: shutdown FollowerState
2019-06-12 22:58:19,127 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-4f2b6765-c216-403b-a2b3-d11f171ddae4-group-10B05ECAAF57: set stopIndex = -1
2019-06-12 22:58:19,127 INFO  impl.FollowerState (FollowerState.java:run(109)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 22:58:19,128 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-12 22:58:19,129 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4:group-10B05ECAAF57 closes. The last applied log index is -1
2019-06-12 22:58:19,131 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 22:58:19,132 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4-RaftLogWorker close()
2019-06-12 22:58:19,134 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: shutdown server with port 9858 now
2019-06-12 22:58:19,136 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 4f2b6765-c216-403b-a2b3-d11f171ddae4: shutdown server with port 9858 successfully
2019-06-12 22:58:19,140 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:19,154 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-12 22:58:19,154 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@63f5b18f{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-12 22:58:19,155 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3fe41dd1{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:19,155 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@27abfebe{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-12 22:58:19,156 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@51e15103{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:19,181 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,185 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,185 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,186 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-12 22:58:19,186 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-12 22:58:19,186 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-12 22:58:19,186 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-12 22:58:19,186 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-12 22:58:19,186 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-12 22:58:19,187 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:19,187 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:19,187 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:19,230 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:19,230 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:19,230 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-12 22:58:19,231 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@a6e7983
2019-06-12 22:58:19,231 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-12 22:58:19,234 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,247 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-12 22:58:19,247 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,262 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-12 22:58:19,264 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:19,264 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 36299
2019-06-12 22:58:19,267 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:19,268 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39679
2019-06-12 22:58:19,271 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:19,271 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41723
2019-06-12 22:58:19,276 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-12 22:58:19,277 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:19,278 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:19,279 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:19,280 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-12 22:58:19,280 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:19,280 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:19,284 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:41723
2019-06-12 22:58:19,284 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-12 22:58:19,285 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:41723
2019-06-12 22:58:19,285 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:19,290 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41723: starting
2019-06-12 22:58:19,309 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:39679
2019-06-12 22:58:19,309 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:39679
2019-06-12 22:58:19,309 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:19,309 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39679: starting
2019-06-12 22:58:19,325 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:36299
2019-06-12 22:58:19,325 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:36299
2019-06-12 22:58:19,325 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:19,330 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 36299: starting
2019-06-12 22:58:19,353 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44825
2019-06-12 22:58:19,354 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:19,366 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7755a152{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:19,366 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2c852689{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:19,370 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@66643c8a{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-12 22:58:19,371 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2a0d346b{HTTP/1.1,[http/1.1]}{0.0.0.0:44825}
2019-06-12 22:58:19,371 INFO  server.Server (Server.java:doStart(419)) - Started @10066ms
2019-06-12 22:58:19,372 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:44825
2019-06-12 22:58:19,374 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,375 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:19,376 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,377 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-12 22:58:19,377 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 9ede01c5-f867-4bb3-9287-c3ad0aab2caf
2019-06-12 22:58:19,377 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:19,377 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:19,378 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-12 22:58:19,382 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,382 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-12 22:58:19,382 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-12 22:58:19,383 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-12 22:58:19,384 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-12 22:58:19,385 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-12 22:58:19,385 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-12 22:58:19,385 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:19,385 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:19,385 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:19,526 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:19,527 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 35953
2019-06-12 22:58:19,539 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:19,539 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:35953
2019-06-12 22:58:19,539 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-12 22:58:19,540 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:19,541 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 35953: starting
2019-06-12 22:58:19,571 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-12 22:58:19,572 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:19,572 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:19,573 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:19,574 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-12 22:58:19,574 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:19,574 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:19,575 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37261
2019-06-12 22:58:19,575 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:19,582 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@e7a659e{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:19,583 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@79b36d14{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:19,586 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@62db6f0b{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-12 22:58:19,590 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@6d134767{HTTP/1.1,[http/1.1]}{0.0.0.0:37261}
2019-06-12 22:58:19,590 INFO  server.Server (Server.java:doStart(419)) - Started @10284ms
2019-06-12 22:58:19,591 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:37261
2019-06-12 22:58:19,594 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-12 22:58:19,594 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-rf5t8-2531498618 ip:192.168.19.23
2019-06-12 22:58:19,601 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:19,602 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/containers/hdds to VolumeSet
2019-06-12 22:58:19,602 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@5fe2a4a4
2019-06-12 22:58:19,602 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@5fe2a4a4
2019-06-12 22:58:19,617 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:19,617 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-12 22:58:19,618 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:19,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:19,618 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:19,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:19,619 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/ratis] (custom)
2019-06-12 22:58:19,619 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-12 22:58:19,621 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-12 22:58:19,622 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:19,622 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:19,624 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:19,624 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-12 22:58:19,625 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:19,625 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:19,625 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43709
2019-06-12 22:58:19,625 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:19,637 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@575fee75{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:19,638 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2b49192e{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-12 22:58:19,662 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@4c52b6f6{/,file:///tmp/jetty-0.0.0.0-43709-hddsDatanode-_-any-4477264136917251080.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-12 22:58:19,663 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@28226170{HTTP/1.1,[http/1.1]}{0.0.0.0:43709}
2019-06-12 22:58:19,663 INFO  server.Server (Server.java:doStart(419)) - Started @10358ms
2019-06-12 22:58:19,664 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:43709
Jun 12, 2019 10:58:19 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-12 22:58:19,803 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@3cdba3e8
2019-06-12 22:58:19,804 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:19,809 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:19,812 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/meta/datanode.id
2019-06-12 22:58:20,805 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:21,805 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:21,816 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:21,816 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:21,816 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 87422cd6-9ec8-4826-b105-08595c7bbd94 at port 9858
2019-06-12 22:58:21,824 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: start RPC server
2019-06-12 22:58:21,826 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-12 22:58:22,806 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:23,806 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:23,812 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 87422cd6-9ec8-4826-b105-08595c7bbd94{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}
2019-06-12 22:58:23,814 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-12 22:58:23,818 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-12 22:58:23,818 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-12 22:58:23,831 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: addNew group-B5899CD46803:[87422cd6-9ec8-4826-b105-08595c7bbd94:192.168.19.23:9858] returns group-B5899CD46803:java.util.concurrent.CompletableFuture@7451f85c[Not completed]
2019-06-12 22:58:23,832 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: new RaftServerImpl for group-B5899CD46803:[87422cd6-9ec8-4826-b105-08595c7bbd94:192.168.19.23:9858] with ContainerStateMachine:uninitialized
2019-06-12 22:58:23,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 22:58:23,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 22:58:23,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 22:58:23,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 22:58:23,833 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 ConfigurationManager, init=-1: [87422cd6-9ec8-4826-b105-08595c7bbd94:192.168.19.23:9858], old=null, confs=<EMPTY_MAP>
2019-06-12 22:58:23,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/ratis] (custom)
2019-06-12 22:58:23,834 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/ratis/685d48b7-ceaa-4c18-8929-b5899cd46803 does not exist. Creating ...
2019-06-12 22:58:23,836 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/ratis/685d48b7-ceaa-4c18-8929-b5899cd46803/in_use.lock acquired by nodename 31313@ozone-rf5t8-2531498618
2019-06-12 22:58:23,838 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/ratis/685d48b7-ceaa-4c18-8929-b5899cd46803 has been successfully formatted.
2019-06-12 22:58:23,838 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 22:58:23,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 22:58:23,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 22:58:23,839 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:23,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:23,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 22:58:23,840 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 87422cd6-9ec8-4826-b105-08595c7bbd94-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ebe9a8ef-8584-49eb-ab17-b0b09bf136bf/datanode-0/data/ratis/685d48b7-ceaa-4c18-8929-b5899cd46803
2019-06-12 22:58:23,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 22:58:23,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 22:58:23,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:23,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 22:58:23,840 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 22:58:23,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 22:58:23,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 22:58:23,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 22:58:23,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 22:58:23,841 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 22:58:23,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 22:58:23,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 22:58:23,842 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 22:58:23,842 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: start group-B5899CD46803
2019-06-12 22:58:23,842 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 22:58:23,842 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: start FollowerState
2019-06-12 22:58:23,843 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B5899CD46803,id=87422cd6-9ec8-4826-b105-08595c7bbd94
2019-06-12 22:58:23,849 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 685d48b7-ceaa-4c18-8929-b5899cd46803, Nodes: 87422cd6-9ec8-4826-b105-08595c7bbd94{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-12 22:58:24,806 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-12 22:58:24,884 INFO  interfaces.Container (KeyValueContainer.java:compactDB(356)) - Container 1560380304807 is closed with bcsId 0.
2019-06-12 22:58:24,890 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 77e4f6bc34dec118:77e4f6bc34dec118:0:0 : Message: Requested operation not allowed as ContainerState is CLOSED : Result: CLOSED_CONTAINER_IO
22:58:24.891 [grpc-default-executor-1] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1560380304807 locID: 1560380304838 bcsId: 0} | ret=FAILURE
java.lang.Exception: Requested operation not allowed as ContainerState is CLOSED
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-12 22:58:24,910 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: PutBlock : Trace ID: 709a860f1cf8cc2f:709a860f1cf8cc2f:0:0 : Message: Requested operation not allowed as ContainerState is CLOSED : Result: CLOSED_CONTAINER_IO
22:58:24.910 [grpc-default-executor-1] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1560380304807 locID: 1560380304838 bcsId: 0,size=1024]} | ret=FAILURE
java.lang.Exception: Requested operation not allowed as ContainerState is CLOSED
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-12 22:58:24,922 INFO  impl.FollowerState (FollowerState.java:run(101)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 changes to CANDIDATE, lastRpcTime:1079, electionTimeout:1079ms
2019-06-12 22:58:24,923 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: shutdown FollowerState
2019-06-12 22:58:24,923 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 22:58:24,925 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: start LeaderElection
2019-06-12 22:58:24,925 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: DeleteBlock : Trace ID: d1b4a1703d04660a:d1b4a1703d04660a:0:0 : Message: Requested operation not allowed as ContainerState is CLOSED : Result: CLOSED_CONTAINER_IO
22:58:24.926 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=DELETE_BLOCK {blockData=conID: 1560380304807 locID: 1560380304838 bcsId: 0} | ret=FAILURE
java.lang.Exception: Requested operation not allowed as ContainerState is CLOSED
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-12 22:58:24,930 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803:LeaderElection1: begin an election at term 1 for -1: [87422cd6-9ec8-4826-b105-08595c7bbd94:192.168.19.23:9858], old=null
2019-06-12 22:58:24,931 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: shutdown LeaderElection
2019-06-12 22:58:24,931 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-12 22:58:24,931 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 22:58:24,931 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-12 22:58:24,932 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-12 22:58:24,932 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 change Leader from null to 87422cd6-9ec8-4826-b105-08595c7bbd94 at term 1 for becomeLeader, leader elected after 1092ms
2019-06-12 22:58:24,932 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35953
2019-06-12 22:58:24,938 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 35953
2019-06-12 22:58:24,939 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:24,939 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-12 22:58:24,940 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 22:58:24,940 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 22:58:24,940 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@62db6f0b{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-12 22:58:24,940 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@6d134767{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:24,941 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@79b36d14{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:24,941 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@e7a659e{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:24,943 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 22:58:24,943 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 22:58:24,943 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-12 22:58:24,943 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-12 22:58:24,943 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-12 22:58:24,943 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-12 22:58:24,943 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-12 22:58:24,944 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-12 22:58:24,944 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 36299
2019-06-12 22:58:24,946 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 36299
2019-06-12 22:58:24,946 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-12 22:58:24,950 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:24,950 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-12 22:58:24,950 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39679
2019-06-12 22:58:24,956 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: start LeaderState
2019-06-12 22:58:24,959 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39679
2019-06-12 22:58:24,960 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:24,960 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-12 22:58:24,960 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-12 22:58:24,960 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41723
2019-06-12 22:58:24,962 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41723
2019-06-12 22:58:24,962 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-12 22:58:24,962 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:24,965 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@66643c8a{/,null,UNAVAILABLE}{/scm}
2019-06-12 22:58:24,966 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2a0d346b{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:24,966 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2c852689{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:24,966 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7755a152{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:24,967 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-12 22:58:24,967 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:24,967 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:24,968 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-12 22:58:24,970 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-12 22:58:24,970 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-12 22:58:24,970 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@3cdba3e8
2019-06-12 22:58:24,971 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-12 22:58:24,971 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:24,972 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: close
2019-06-12 22:58:24,972 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: shutdown group-B5899CD46803
2019-06-12 22:58:24,972 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B5899CD46803,id=87422cd6-9ec8-4826-b105-08595c7bbd94
2019-06-12 22:58:24,972 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: shutdown LeaderState
2019-06-12 22:58:24,973 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 87422cd6-9ec8-4826-b105-08595c7bbd94-PendingRequests: sendNotLeaderResponses
2019-06-12 22:58:24,974 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 87422cd6-9ec8-4826-b105-08595c7bbd94-RaftLogWorker: Starting segment from index:0
2019-06-12 22:58:24,976 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-12 22:58:24,977 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-87422cd6-9ec8-4826-b105-08595c7bbd94-group-B5899CD46803: set stopIndex = -1
2019-06-12 22:58:24,983 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 closes. The last applied log index is -1
2019-06-12 22:58:24,984 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 87422cd6-9ec8-4826-b105-08595c7bbd94:group-B5899CD46803 set configuration 0: [87422cd6-9ec8-4826-b105-08595c7bbd94:192.168.19.23:9858], old=null at 0
2019-06-12 22:58:25,068 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(243)) - 87422cd6-9ec8-4826-b105-08595c7bbd94-RaftLogWorker got closed and hit exception
java.nio.channels.ClosedByInterruptException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
	at sun.nio.ch.FileChannelImpl.size(FileChannelImpl.java:315)
	at org.apache.ratis.server.storage.LogOutputStream.<init>(LogOutputStream.java:68)
	at org.apache.ratis.server.storage.RaftLogWorker$StartLogSegment.execute(RaftLogWorker.java:466)
	at org.apache.ratis.server.storage.RaftLogWorker.run(RaftLogWorker.java:219)
	at java.lang.Thread.run(Thread.java:748)
2019-06-12 22:58:25,069 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 87422cd6-9ec8-4826-b105-08595c7bbd94-RaftLogWorker close()
2019-06-12 22:58:25,070 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: shutdown server with port 9858 now
2019-06-12 22:58:25,071 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 87422cd6-9ec8-4826-b105-08595c7bbd94: shutdown server with port 9858 successfully
2019-06-12 22:58:25,073 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:25,086 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-12 22:58:25,086 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@4c52b6f6{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-12 22:58:25,087 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@28226170{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:25,087 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2b49192e{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-12 22:58:25,087 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@575fee75{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:25,100 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,104 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,104 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,105 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-12 22:58:25,105 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-12 22:58:25,105 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-12 22:58:25,105 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-12 22:58:25,105 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-12 22:58:25,105 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-12 22:58:25,106 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:25,106 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:25,106 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:25,145 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:25,145 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:25,146 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-12 22:58:25,147 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@61e122b1
2019-06-12 22:58:25,147 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-12 22:58:25,149 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,163 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-12 22:58:25,163 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,178 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-12 22:58:25,179 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:25,180 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33913
2019-06-12 22:58:25,181 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:25,182 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45689
2019-06-12 22:58:25,186 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:25,187 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37913
2019-06-12 22:58:25,189 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-12 22:58:25,190 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:25,190 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:25,191 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:25,192 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-12 22:58:25,192 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:25,192 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:25,196 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:37913
2019-06-12 22:58:25,196 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-12 22:58:25,196 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:37913
2019-06-12 22:58:25,196 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:25,201 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37913: starting
2019-06-12 22:58:25,214 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:45689
2019-06-12 22:58:25,214 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:45689
2019-06-12 22:58:25,214 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:25,215 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45689: starting
2019-06-12 22:58:25,217 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:33913
2019-06-12 22:58:25,217 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:33913
2019-06-12 22:58:25,218 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:25,218 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33913: starting
2019-06-12 22:58:25,220 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39421
2019-06-12 22:58:25,221 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:25,225 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4f2b66eb{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:25,225 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@51f7799d{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:25,230 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@15ed7f64{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-12 22:58:25,230 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2a02d71f{HTTP/1.1,[http/1.1]}{0.0.0.0:39421}
2019-06-12 22:58:25,230 INFO  server.Server (Server.java:doStart(419)) - Started @15925ms
2019-06-12 22:58:25,231 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:39421
2019-06-12 22:58:25,236 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,236 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:25,238 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,239 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-12 22:58:25,239 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: f8915efa-663f-4d84-8594-30359b27b004
2019-06-12 22:58:25,239 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:25,239 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:25,239 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-12 22:58:25,244 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,244 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-12 22:58:25,244 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-12 22:58:25,245 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-12 22:58:25,245 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-12 22:58:25,245 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-12 22:58:25,245 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-12 22:58:25,245 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-12 22:58:25,245 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-12 22:58:25,246 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-12 22:58:25,246 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-12 22:58:25,246 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-12 22:58:25,246 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-12 22:58:25,246 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-12 22:58:25,246 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-12 22:58:25,246 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-12 22:58:25,247 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-12 22:58:25,247 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-12 22:58:25,247 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-12 22:58:25,247 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-12 22:58:25,247 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-12 22:58:25,247 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-12 22:58:25,247 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-12 22:58:25,248 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:25,248 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:25,248 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:25,390 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:25,391 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 34611
2019-06-12 22:58:25,402 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:25,402 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:34611
2019-06-12 22:58:25,402 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-12 22:58:25,402 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:25,403 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 34611: starting
2019-06-12 22:58:25,413 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-12 22:58:25,414 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:25,415 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:25,416 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:25,416 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-12 22:58:25,417 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:25,417 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:25,417 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 34441
2019-06-12 22:58:25,417 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:25,422 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3d027517{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:25,422 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6b202c62{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:25,425 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@5852e401{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-12 22:58:25,426 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@126cca28{HTTP/1.1,[http/1.1]}{0.0.0.0:34441}
2019-06-12 22:58:25,426 INFO  server.Server (Server.java:doStart(419)) - Started @16120ms
2019-06-12 22:58:25,427 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:34441
2019-06-12 22:58:25,429 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-12 22:58:25,429 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-rf5t8-2531498618 ip:192.168.19.23
2019-06-12 22:58:25,432 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:25,432 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/containers/hdds to VolumeSet
2019-06-12 22:58:25,432 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@741f8e26
2019-06-12 22:58:25,433 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@741f8e26
2019-06-12 22:58:25,470 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:25,470 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-12 22:58:25,470 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:25,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:25,470 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:25,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:25,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/ratis] (custom)
2019-06-12 22:58:25,472 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-12 22:58:25,505 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-12 22:58:25,506 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:25,507 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:25,508 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:25,509 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-12 22:58:25,509 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:25,509 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:25,509 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 36523
2019-06-12 22:58:25,510 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:25,511 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1480e94f{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:25,511 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@23ed850b{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-12 22:58:25,532 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@534cfa09{/,file:///tmp/jetty-0.0.0.0-36523-hddsDatanode-_-any-3027384760093987907.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-12 22:58:25,533 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@31f0c540{HTTP/1.1,[http/1.1]}{0.0.0.0:36523}
2019-06-12 22:58:25,533 INFO  server.Server (Server.java:doStart(419)) - Started @16227ms
2019-06-12 22:58:25,534 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:36523
Jun 12, 2019 10:58:25 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-12 22:58:25,649 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@3287c477
2019-06-12 22:58:25,649 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:25,651 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:25,653 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/meta/datanode.id
2019-06-12 22:58:26,650 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:27,650 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:27,657 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:27,658 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:27,659 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 08599d3f-a685-4874-8628-83206ceb3bdd at port 9858
2019-06-12 22:58:27,725 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 08599d3f-a685-4874-8628-83206ceb3bdd: start RPC server
2019-06-12 22:58:27,730 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 08599d3f-a685-4874-8628-83206ceb3bdd: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-12 22:58:28,650 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:29,651 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:29,653 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 08599d3f-a685-4874-8628-83206ceb3bdd{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}
2019-06-12 22:58:29,656 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-12 22:58:29,658 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-12 22:58:29,658 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-12 22:58:29,667 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 08599d3f-a685-4874-8628-83206ceb3bdd: addNew group-717130080FD1:[08599d3f-a685-4874-8628-83206ceb3bdd:192.168.19.23:9858] returns group-717130080FD1:java.util.concurrent.CompletableFuture@229355bd[Not completed]
2019-06-12 22:58:29,668 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 08599d3f-a685-4874-8628-83206ceb3bdd: new RaftServerImpl for group-717130080FD1:[08599d3f-a685-4874-8628-83206ceb3bdd:192.168.19.23:9858] with ContainerStateMachine:uninitialized
2019-06-12 22:58:29,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 22:58:29,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 22:58:29,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 22:58:29,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 22:58:29,669 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 08599d3f-a685-4874-8628-83206ceb3bdd:group-717130080FD1 ConfigurationManager, init=-1: [08599d3f-a685-4874-8628-83206ceb3bdd:192.168.19.23:9858], old=null, confs=<EMPTY_MAP>
2019-06-12 22:58:29,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/ratis] (custom)
2019-06-12 22:58:29,669 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/ratis/9c69ffa6-4483-4b20-82dc-717130080fd1 does not exist. Creating ...
2019-06-12 22:58:29,672 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/ratis/9c69ffa6-4483-4b20-82dc-717130080fd1/in_use.lock acquired by nodename 31313@ozone-rf5t8-2531498618
2019-06-12 22:58:29,674 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/ratis/9c69ffa6-4483-4b20-82dc-717130080fd1 has been successfully formatted.
2019-06-12 22:58:29,675 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 22:58:29,675 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 08599d3f-a685-4874-8628-83206ceb3bdd-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-632fba2d-e9a4-4694-9dd7-28794faff5b9/datanode-0/data/ratis/9c69ffa6-4483-4b20-82dc-717130080fd1
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:29,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 22:58:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 22:58:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 22:58:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 22:58:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 22:58:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 22:58:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 22:58:29,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 22:58:29,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 22:58:29,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 22:58:29,677 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 08599d3f-a685-4874-8628-83206ceb3bdd: start group-717130080FD1
2019-06-12 22:58:29,677 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 08599d3f-a685-4874-8628-83206ceb3bdd:group-717130080FD1 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 22:58:29,678 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 08599d3f-a685-4874-8628-83206ceb3bdd: start FollowerState
2019-06-12 22:58:29,678 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-717130080FD1,id=08599d3f-a685-4874-8628-83206ceb3bdd
2019-06-12 22:58:29,682 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 9c69ffa6-4483-4b20-82dc-717130080fd1, Nodes: 08599d3f-a685-4874-8628-83206ceb3bdd{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-12 22:58:30,651 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
22:58:30.748 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=UPDATE_CONTAINER {containerID=1560380310747, forceUpdate=false} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: ContainerID 1560380310747 does not exist
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:242) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-12 22:58:30,749 INFO  impl.HddsDispatcher (ContainerUtils.java:logAndReturnError(146)) - Operation: UpdateContainer : Trace ID: 98e5dc1b1457ea21:98e5dc1b1457ea21:0:0 : Message: ContainerID 1560380310747 does not exist : Result: CONTAINER_NOT_FOUND
2019-06-12 22:58:30,753 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-12 22:58:30,753 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-12 22:58:30,753 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-12 22:58:30,753 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 34611
2019-06-12 22:58:30,756 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 34611
2019-06-12 22:58:30,756 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-12 22:58:30,757 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:30,758 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@5852e401{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-12 22:58:30,759 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@126cca28{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:30,759 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6b202c62{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:30,759 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3d027517{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:30,760 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-12 22:58:30,760 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-12 22:58:30,761 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-12 22:58:30,761 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-12 22:58:30,761 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-12 22:58:30,761 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-12 22:58:30,761 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33913
2019-06-12 22:58:30,762 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33913
2019-06-12 22:58:30,763 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:30,763 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-12 22:58:30,763 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-12 22:58:30,763 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45689
2019-06-12 22:58:30,764 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-12 22:58:30,764 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-12 22:58:30,764 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37913
2019-06-12 22:58:30,764 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:30,765 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45689
2019-06-12 22:58:30,765 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-12 22:58:30,765 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:30,766 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@15ed7f64{/,null,UNAVAILABLE}{/scm}
2019-06-12 22:58:30,766 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37913
2019-06-12 22:58:30,770 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2a02d71f{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:30,770 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@51f7799d{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:30,770 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4f2b66eb{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:30,771 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-12 22:58:30,771 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:30,772 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:30,772 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-12 22:58:30,774 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-12 22:58:30,774 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-12 22:58:30,774 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@3287c477
2019-06-12 22:58:30,775 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-12 22:58:30,775 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:30,775 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 08599d3f-a685-4874-8628-83206ceb3bdd: close
2019-06-12 22:58:30,775 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 08599d3f-a685-4874-8628-83206ceb3bdd: shutdown group-717130080FD1
2019-06-12 22:58:30,775 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-717130080FD1,id=08599d3f-a685-4874-8628-83206ceb3bdd
2019-06-12 22:58:30,776 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 08599d3f-a685-4874-8628-83206ceb3bdd: shutdown FollowerState
2019-06-12 22:58:30,776 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-08599d3f-a685-4874-8628-83206ceb3bdd-group-717130080FD1: set stopIndex = -1
2019-06-12 22:58:30,776 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-12 22:58:30,776 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 08599d3f-a685-4874-8628-83206ceb3bdd:group-717130080FD1 closes. The last applied log index is -1
2019-06-12 22:58:30,776 INFO  impl.FollowerState (FollowerState.java:run(109)) - 08599d3f-a685-4874-8628-83206ceb3bdd: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 22:58:30,776 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 08599d3f-a685-4874-8628-83206ceb3bdd-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 22:58:30,777 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 08599d3f-a685-4874-8628-83206ceb3bdd-RaftLogWorker close()
2019-06-12 22:58:30,778 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 08599d3f-a685-4874-8628-83206ceb3bdd: shutdown server with port 9858 now
2019-06-12 22:58:30,778 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 08599d3f-a685-4874-8628-83206ceb3bdd: shutdown server with port 9858 successfully
2019-06-12 22:58:30,782 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:30,792 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-12 22:58:30,793 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@534cfa09{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-12 22:58:30,793 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@31f0c540{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:30,794 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@23ed850b{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-12 22:58:30,794 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1480e94f{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:30,812 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,816 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,817 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,817 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-12 22:58:30,817 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-12 22:58:30,817 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-12 22:58:30,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-12 22:58:30,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-12 22:58:30,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-12 22:58:30,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:30,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:30,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:30,856 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:30,856 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:30,857 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-12 22:58:30,858 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@433be907
2019-06-12 22:58:30,858 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-12 22:58:30,861 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,874 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-12 22:58:30,874 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,889 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-12 22:58:30,890 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:30,893 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41185
2019-06-12 22:58:30,895 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:30,896 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33819
2019-06-12 22:58:30,897 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:30,898 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38375
2019-06-12 22:58:30,900 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-12 22:58:30,901 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:30,901 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:30,903 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:30,903 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-12 22:58:30,904 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:30,904 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:30,909 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:38375
2019-06-12 22:58:30,909 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-12 22:58:30,913 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:38375
2019-06-12 22:58:30,914 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:30,914 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38375: starting
2019-06-12 22:58:30,922 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:33819
2019-06-12 22:58:30,922 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:33819
2019-06-12 22:58:30,923 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:30,929 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33819: starting
2019-06-12 22:58:30,931 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:41185
2019-06-12 22:58:30,931 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:41185
2019-06-12 22:58:30,931 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:30,931 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41185: starting
2019-06-12 22:58:30,935 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37309
2019-06-12 22:58:30,935 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:30,937 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5a296791{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:30,937 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3016601f{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:30,940 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3f18ecfe{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-12 22:58:30,940 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3f610a97{HTTP/1.1,[http/1.1]}{0.0.0.0:37309}
2019-06-12 22:58:30,943 INFO  server.Server (Server.java:doStart(419)) - Started @21638ms
2019-06-12 22:58:30,944 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:37309
2019-06-12 22:58:30,945 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,945 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:30,948 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,949 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-12 22:58:30,949 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: d8f645a2-7e2a-4f76-bf24-8478745af446
2019-06-12 22:58:30,949 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:30,949 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:30,949 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-12 22:58:30,956 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:30,956 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-12 22:58:30,956 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-12 22:58:30,956 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-12 22:58:30,957 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-12 22:58:30,958 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-12 22:58:30,959 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-12 22:58:30,959 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-12 22:58:30,959 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-12 22:58:30,959 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:30,959 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:30,959 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:31,107 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:31,109 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38479
2019-06-12 22:58:31,120 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:31,120 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:38479
2019-06-12 22:58:31,120 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-12 22:58:31,121 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:31,121 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38479: starting
2019-06-12 22:58:31,123 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-12 22:58:31,124 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:31,125 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:31,126 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:31,126 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-12 22:58:31,126 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:31,126 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:31,127 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 38827
2019-06-12 22:58:31,127 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:31,128 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@302c1936{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:31,128 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@47e2d90c{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:31,131 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@8e35c39{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-12 22:58:31,131 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5ea4e42{HTTP/1.1,[http/1.1]}{0.0.0.0:38827}
2019-06-12 22:58:31,131 INFO  server.Server (Server.java:doStart(419)) - Started @21826ms
2019-06-12 22:58:31,132 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:38827
2019-06-12 22:58:31,134 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-12 22:58:31,135 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-rf5t8-2531498618 ip:192.168.19.23
2019-06-12 22:58:31,141 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:31,141 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/containers/hdds to VolumeSet
2019-06-12 22:58:31,141 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@1e0a9ffd
2019-06-12 22:58:31,142 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@1e0a9ffd
2019-06-12 22:58:31,151 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 42469
2019-06-12 22:58:31,151 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:31,151 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42469 (custom)
2019-06-12 22:58:31,153 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:31,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:31,153 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:31,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:31,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/ratis] (custom)
2019-06-12 22:58:31,154 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 34035
2019-06-12 22:58:31,154 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-12 22:58:31,155 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-12 22:58:31,156 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:31,156 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:31,157 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:31,158 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-12 22:58:31,158 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:31,158 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:31,158 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 45651
2019-06-12 22:58:31,158 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:31,160 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@41686a9e{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:31,161 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1a282576{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-12 22:58:31,182 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@72153700{/,file:///tmp/jetty-0.0.0.0-45651-hddsDatanode-_-any-1812344812703848437.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-12 22:58:31,182 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@49b91f95{HTTP/1.1,[http/1.1]}{0.0.0.0:45651}
2019-06-12 22:58:31,183 INFO  server.Server (Server.java:doStart(419)) - Started @21877ms
2019-06-12 22:58:31,183 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:45651
Jun 12, 2019 10:58:31 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-12 22:58:31,301 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@8c23fbd
2019-06-12 22:58:31,301 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:31,303 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:31,304 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/meta/datanode.id
2019-06-12 22:58:32,302 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:33,302 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:33,309 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:33,311 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:33,311 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis ed349155-6281-4ffd-a9a1-fcb95eac8355 at port 42469
2019-06-12 22:58:33,318 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: start RPC server
2019-06-12 22:58:33,319 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: GrpcService started, listening on 0.0.0.0/0.0.0.0:42469
2019-06-12 22:58:34,303 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:35,303 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:35,306 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : ed349155-6281-4ffd-a9a1-fcb95eac8355{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}
2019-06-12 22:58:35,308 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-12 22:58:35,310 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-12 22:58:35,310 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-12 22:58:35,321 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: addNew group-D6D77F351A59:[ed349155-6281-4ffd-a9a1-fcb95eac8355:192.168.19.23:42469] returns group-D6D77F351A59:java.util.concurrent.CompletableFuture@1866380[Not completed]
2019-06-12 22:58:35,322 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: new RaftServerImpl for group-D6D77F351A59:[ed349155-6281-4ffd-a9a1-fcb95eac8355:192.168.19.23:42469] with ContainerStateMachine:uninitialized
2019-06-12 22:58:35,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 22:58:35,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 22:58:35,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 22:58:35,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 22:58:35,323 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 ConfigurationManager, init=-1: [ed349155-6281-4ffd-a9a1-fcb95eac8355:192.168.19.23:42469], old=null, confs=<EMPTY_MAP>
2019-06-12 22:58:35,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/ratis] (custom)
2019-06-12 22:58:35,323 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/ratis/d8b1bb09-d3bb-48c9-8cc0-d6d77f351a59 does not exist. Creating ...
2019-06-12 22:58:35,325 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/ratis/d8b1bb09-d3bb-48c9-8cc0-d6d77f351a59/in_use.lock acquired by nodename 31313@ozone-rf5t8-2531498618
2019-06-12 22:58:35,327 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/ratis/d8b1bb09-d3bb-48c9-8cc0-d6d77f351a59 has been successfully formatted.
2019-06-12 22:58:35,328 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 22:58:35,328 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new ed349155-6281-4ffd-a9a1-fcb95eac8355-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/ratis/d8b1bb09-d3bb-48c9-8cc0-d6d77f351a59
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 22:58:35,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 22:58:35,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 22:58:35,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 22:58:35,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 22:58:35,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 22:58:35,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 22:58:35,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 22:58:35,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 22:58:35,329 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: start group-D6D77F351A59
2019-06-12 22:58:35,329 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 22:58:35,329 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: start FollowerState
2019-06-12 22:58:35,330 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D6D77F351A59,id=ed349155-6281-4ffd-a9a1-fcb95eac8355
2019-06-12 22:58:35,334 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: d8b1bb09-d3bb-48c9-8cc0-d6d77f351a59, Nodes: ed349155-6281-4ffd-a9a1-fcb95eac8355{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-12 22:58:36,303 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-12 22:58:36,406 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /tmp/junit5415842327998296978/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:36,407 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /tmp/junit5415842327998296978/hdds to VolumeSet
2019-06-12 22:58:36,407 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@4f533f8e
2019-06-12 22:58:36,407 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@4f533f8e
2019-06-12 22:58:36,421 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 41481
2019-06-12 22:58:36,422 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:36,422 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:36,422 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 41481 (custom)
2019-06-12 22:58:36,422 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:36,423 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:36,423 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:36,423 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:36,423 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/ozone-meta/ratis] (custom)
2019-06-12 22:58:36,424 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - c2bb0586-4588-4185-9685-76bb33688078: found a subdirectory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/ozone-meta/ratis/snapshot
2019-06-12 22:58:36,424 WARN  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(197)) - c2bb0586-4588-4185-9685-76bb33688078: Failed to initialize the group directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/ozone-meta/ratis/snapshot.  Ignoring it
java.lang.IllegalArgumentException: Invalid UUID string: snapshot
	at java.util.UUID.fromString(UUID.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$0(RaftServerProxy.java:192)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$initGroups$1(RaftServerProxy.java:189)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.ratis.server.impl.RaftServerProxy.initGroups(RaftServerProxy.java:186)
	at org.apache.ratis.server.impl.ServerImplUtils.newRaftServer(ServerImplUtils.java:41)
	at org.apache.ratis.server.RaftServer$Builder.build(RaftServer.java:76)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.<init>(XceiverServerRatis.java:157)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.newXceiverServerRatis(XceiverServerRatis.java:411)
	at org.apache.hadoop.ozone.container.ozoneimpl.OzoneContainer.<init>(OzoneContainer.java:109)
	at org.apache.hadoop.ozone.container.ozoneimpl.TestOzoneContainer.testOzoneContainerStart(TestOzoneContainer.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-06-12 22:58:36,425 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:36,425 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:36,425 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis c2bb0586-4588-4185-9685-76bb33688078 at port 41481
2019-06-12 22:58:36,429 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - c2bb0586-4588-4185-9685-76bb33688078: start RPC server
2019-06-12 22:58:36,430 INFO  impl.FollowerState (FollowerState.java:run(101)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 changes to CANDIDATE, lastRpcTime:1100, electionTimeout:1100ms
2019-06-12 22:58:36,430 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: shutdown FollowerState
2019-06-12 22:58:36,430 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 22:58:36,430 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - c2bb0586-4588-4185-9685-76bb33688078: GrpcService started, listening on 0.0.0.0/0.0.0.0:41481
2019-06-12 22:58:36,430 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: start LeaderElection
2019-06-12 22:58:36,432 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:36,432 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:36,432 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:36,432 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - c2bb0586-4588-4185-9685-76bb33688078: close
2019-06-12 22:58:36,432 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - c2bb0586-4588-4185-9685-76bb33688078: shutdown server with port 41481 now
2019-06-12 22:58:36,433 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - c2bb0586-4588-4185-9685-76bb33688078: shutdown server with port 41481 successfully
2019-06-12 22:58:36,434 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:36,441 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59:LeaderElection2: begin an election at term 1 for -1: [ed349155-6281-4ffd-a9a1-fcb95eac8355:192.168.19.23:42469], old=null
2019-06-12 22:58:36,442 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: shutdown LeaderElection
2019-06-12 22:58:36,442 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 22:58:36,442 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 change Leader from null to ed349155-6281-4ffd-a9a1-fcb95eac8355 at term 1 for becomeLeader, leader elected after 1114ms
2019-06-12 22:58:36,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 22:58:36,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 22:58:36,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 22:58:36,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 22:58:36,443 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: start LeaderState
2019-06-12 22:58:36,443 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - ed349155-6281-4ffd-a9a1-fcb95eac8355-RaftLogWorker: Starting segment from index:0
2019-06-12 22:58:36,444 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:36,451 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:36,453 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 set configuration 0: [ed349155-6281-4ffd-a9a1-fcb95eac8355:192.168.19.23:42469], old=null at 0
2019-06-12 22:58:36,467 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-12 22:58:36,468 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-12 22:58:36,468 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-12 22:58:36,468 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38479
2019-06-12 22:58:36,482 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38479
2019-06-12 22:58:36,482 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:36,482 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-12 22:58:36,483 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@8e35c39{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-12 22:58:36,484 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5ea4e42{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:36,484 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@47e2d90c{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:36,485 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@302c1936{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:36,486 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-12 22:58:36,486 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-12 22:58:36,486 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-12 22:58:36,486 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-12 22:58:36,486 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - ed349155-6281-4ffd-a9a1-fcb95eac8355-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-83d81c91-1c09-4b40-94c3-6b6edb9a8221/datanode-0/data/ratis/d8b1bb09-d3bb-48c9-8cc0-d6d77f351a59/current/log_inprogress_0
2019-06-12 22:58:36,486 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-12 22:58:36,486 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-12 22:58:36,487 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41185
2019-06-12 22:58:36,490 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41185
2019-06-12 22:58:36,490 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:36,491 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-12 22:58:36,491 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-12 22:58:36,491 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33819
2019-06-12 22:58:36,493 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-12 22:58:36,493 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33819
2019-06-12 22:58:36,493 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-12 22:58:36,493 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:36,502 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38375
2019-06-12 22:58:36,506 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38375
2019-06-12 22:58:36,506 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:36,506 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-12 22:58:36,507 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3f18ecfe{/,null,UNAVAILABLE}{/scm}
2019-06-12 22:58:36,507 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3f610a97{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:36,508 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3016601f{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:36,508 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5a296791{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:36,508 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-12 22:58:36,509 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:36,509 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:36,509 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-12 22:58:36,511 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-12 22:58:36,511 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-12 22:58:36,511 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@8c23fbd
2019-06-12 22:58:36,512 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-12 22:58:36,512 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:36,512 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: close
2019-06-12 22:58:36,512 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: shutdown group-D6D77F351A59
2019-06-12 22:58:36,512 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D6D77F351A59,id=ed349155-6281-4ffd-a9a1-fcb95eac8355
2019-06-12 22:58:36,512 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: shutdown LeaderState
2019-06-12 22:58:36,513 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - ed349155-6281-4ffd-a9a1-fcb95eac8355-PendingRequests: sendNotLeaderResponses
2019-06-12 22:58:36,513 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-ed349155-6281-4ffd-a9a1-fcb95eac8355-group-D6D77F351A59: set stopIndex = -1
2019-06-12 22:58:36,513 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-12 22:58:36,514 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - ed349155-6281-4ffd-a9a1-fcb95eac8355:group-D6D77F351A59 closes. The last applied log index is -1
2019-06-12 22:58:36,521 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(243)) - ed349155-6281-4ffd-a9a1-fcb95eac8355-RaftLogWorker got closed and hit exception
java.nio.channels.ClosedByInterruptException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
	at sun.nio.ch.FileChannelImpl.write(FileChannelImpl.java:216)
	at org.apache.ratis.server.storage.BufferedWriteChannel.flushInternal(BufferedWriteChannel.java:138)
	at org.apache.ratis.server.storage.BufferedWriteChannel.flush(BufferedWriteChannel.java:122)
	at org.apache.ratis.server.storage.LogOutputStream.flush(LogOutputStream.java:165)
	at org.apache.ratis.server.storage.RaftLogWorker.flushWrites(RaftLogWorker.java:272)
	at org.apache.ratis.server.storage.RaftLogWorker.access$800(RaftLogWorker.java:50)
	at org.apache.ratis.server.storage.RaftLogWorker$WriteLog.execute(RaftLogWorker.java:394)
	at org.apache.ratis.server.storage.RaftLogWorker.run(RaftLogWorker.java:219)
	at java.lang.Thread.run(Thread.java:748)
2019-06-12 22:58:36,521 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - ed349155-6281-4ffd-a9a1-fcb95eac8355-RaftLogWorker close()
2019-06-12 22:58:36,523 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: shutdown server with port 42469 now
2019-06-12 22:58:36,523 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - ed349155-6281-4ffd-a9a1-fcb95eac8355: shutdown server with port 42469 successfully
2019-06-12 22:58:36,524 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:36,572 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-12 22:58:36,573 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@72153700{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-12 22:58:36,574 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@49b91f95{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:36,574 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1a282576{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-12 22:58:36,574 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@41686a9e{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:36,592 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,596 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,596 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,597 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-12 22:58:36,597 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-12 22:58:36,597 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-12 22:58:36,597 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-12 22:58:36,597 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-12 22:58:36,597 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-12 22:58:36,598 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:36,598 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:36,598 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:36,640 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:36,640 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:36,640 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-12 22:58:36,641 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@16a65229
2019-06-12 22:58:36,641 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-12 22:58:36,643 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,657 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-12 22:58:36,657 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,673 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-12 22:58:36,674 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:36,675 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45515
2019-06-12 22:58:36,677 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:36,677 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43885
2019-06-12 22:58:36,679 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:36,679 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 44329
2019-06-12 22:58:36,681 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-12 22:58:36,683 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:36,683 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:36,684 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:36,685 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-12 22:58:36,685 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:36,685 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:36,690 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44329
2019-06-12 22:58:36,690 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-12 22:58:36,691 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:44329
2019-06-12 22:58:36,691 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:36,694 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 44329: starting
2019-06-12 22:58:36,699 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43885
2019-06-12 22:58:36,699 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:43885
2019-06-12 22:58:36,699 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:36,699 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43885: starting
2019-06-12 22:58:36,704 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:45515
2019-06-12 22:58:36,704 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:45515
2019-06-12 22:58:36,704 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:36,705 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45515: starting
2019-06-12 22:58:36,706 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46211
2019-06-12 22:58:36,706 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:36,708 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@75848277{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:36,708 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@43c536f9{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:36,712 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7139796c{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-12 22:58:36,713 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3905db8e{HTTP/1.1,[http/1.1]}{0.0.0.0:46211}
2019-06-12 22:58:36,713 INFO  server.Server (Server.java:doStart(419)) - Started @27407ms
2019-06-12 22:58:36,713 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:46211
2019-06-12 22:58:36,720 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,720 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:36,723 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,724 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-12 22:58:36,724 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: cadb6336-cfc5-4578-85a3-ed9768ec5606
2019-06-12 22:58:36,724 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:36,724 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:36,724 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-12 22:58:36,732 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-12 22:58:36,733 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-12 22:58:36,734 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-12 22:58:36,735 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:36,735 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:36,735 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:36,886 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:36,887 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43915
2019-06-12 22:58:36,897 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:36,897 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:43915
2019-06-12 22:58:36,897 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-12 22:58:36,898 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:36,899 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43915: starting
2019-06-12 22:58:36,901 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-12 22:58:36,902 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:36,902 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:36,903 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:36,904 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-12 22:58:36,904 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:36,904 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:36,905 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46727
2019-06-12 22:58:36,905 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:36,906 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2b1fb51d{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:36,906 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@69af1225{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:36,909 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@27b9b18c{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-12 22:58:36,909 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2dbb3b85{HTTP/1.1,[http/1.1]}{0.0.0.0:46727}
2019-06-12 22:58:36,909 INFO  server.Server (Server.java:doStart(419)) - Started @27604ms
2019-06-12 22:58:36,910 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:46727
2019-06-12 22:58:36,912 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-12 22:58:36,913 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-rf5t8-2531498618 ip:192.168.19.23
2019-06-12 22:58:36,942 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:36,943 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/containers/hdds to VolumeSet
2019-06-12 22:58:36,943 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@31151983
2019-06-12 22:58:36,943 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@31151983
2019-06-12 22:58:36,958 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:36,958 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-12 22:58:36,958 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:36,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:36,958 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:36,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:36,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/ratis] (custom)
2019-06-12 22:58:36,959 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-12 22:58:36,961 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-12 22:58:36,963 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:36,963 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:36,964 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:36,964 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-12 22:58:36,965 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:36,965 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:36,965 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37695
2019-06-12 22:58:36,965 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:36,966 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@750f459d{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:36,967 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@637db876{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-12 22:58:36,987 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@55a18507{/,file:///tmp/jetty-0.0.0.0-37695-hddsDatanode-_-any-320844427658401637.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-12 22:58:36,988 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@78e806aa{HTTP/1.1,[http/1.1]}{0.0.0.0:37695}
2019-06-12 22:58:36,989 INFO  server.Server (Server.java:doStart(419)) - Started @27684ms
2019-06-12 22:58:36,990 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:37695
Jun 12, 2019 10:58:36 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-12 22:58:37,091 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@6b46ecbc
2019-06-12 22:58:37,092 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:37,109 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:37,110 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/meta/datanode.id
2019-06-12 22:58:38,092 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:39,093 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:39,116 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:39,116 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:39,116 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e at port 9858
2019-06-12 22:58:39,119 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: start RPC server
2019-06-12 22:58:39,121 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-12 22:58:40,093 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:41,093 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:41,111 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}
2019-06-12 22:58:41,113 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-12 22:58:41,114 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-12 22:58:41,114 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-12 22:58:41,125 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: addNew group-B3DAA35E118A:[8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:192.168.19.23:9858] returns group-B3DAA35E118A:java.util.concurrent.CompletableFuture@475177e2[Not completed]
2019-06-12 22:58:41,126 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: new RaftServerImpl for group-B3DAA35E118A:[8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:192.168.19.23:9858] with ContainerStateMachine:uninitialized
2019-06-12 22:58:41,126 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 22:58:41,126 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 22:58:41,127 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 22:58:41,127 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 22:58:41,127 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A ConfigurationManager, init=-1: [8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:192.168.19.23:9858], old=null, confs=<EMPTY_MAP>
2019-06-12 22:58:41,127 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/ratis] (custom)
2019-06-12 22:58:41,127 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/ratis/fb44e4ed-3c12-42e6-a363-b3daa35e118a does not exist. Creating ...
2019-06-12 22:58:41,129 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/ratis/fb44e4ed-3c12-42e6-a363-b3daa35e118a/in_use.lock acquired by nodename 31313@ozone-rf5t8-2531498618
2019-06-12 22:58:41,131 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/ratis/fb44e4ed-3c12-42e6-a363-b3daa35e118a has been successfully formatted.
2019-06-12 22:58:41,132 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 22:58:41,132 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/ratis/fb44e4ed-3c12-42e6-a363-b3daa35e118a
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 22:58:41,132 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 22:58:41,133 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 22:58:41,133 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 22:58:41,133 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 22:58:41,133 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 22:58:41,133 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 22:58:41,133 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 22:58:41,134 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: start group-B3DAA35E118A
2019-06-12 22:58:41,134 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 22:58:41,134 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: start FollowerState
2019-06-12 22:58:41,134 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B3DAA35E118A,id=8ab4b860-fc04-45e6-bb68-7ba1a4c1576e
2019-06-12 22:58:41,138 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: fb44e4ed-3c12-42e6-a363-b3daa35e118a, Nodes: 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-12 22:58:42,094 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-12 22:58:42,152 INFO  impl.FollowerState (FollowerState.java:run(101)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A changes to CANDIDATE, lastRpcTime:1018, electionTimeout:1018ms
2019-06-12 22:58:42,152 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: shutdown FollowerState
2019-06-12 22:58:42,152 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 22:58:42,152 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: start LeaderElection
2019-06-12 22:58:42,157 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A:LeaderElection3: begin an election at term 1 for -1: [8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:192.168.19.23:9858], old=null
2019-06-12 22:58:42,157 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: shutdown LeaderElection
2019-06-12 22:58:42,158 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 22:58:42,158 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A change Leader from null to 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e at term 1 for becomeLeader, leader elected after 1026ms
2019-06-12 22:58:42,158 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 22:58:42,158 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 22:58:42,158 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 22:58:42,159 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 22:58:42,159 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: start LeaderState
2019-06-12 22:58:42,159 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e-RaftLogWorker: Starting segment from index:0
2019-06-12 22:58:42,159 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A set configuration 0: [8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:192.168.19.23:9858], old=null at 0
2019-06-12 22:58:42,199 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-433e902e-af21-4d8c-bfb9-5ade309590e4/datanode-0/data/ratis/fb44e4ed-3c12-42e6-a363-b3daa35e118a/current/log_inprogress_0
2019-06-12 22:58:46,474 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-12 22:58:46,474 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-12 22:58:46,474 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-12 22:58:46,474 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43915
2019-06-12 22:58:46,476 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-12 22:58:46,477 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43915
2019-06-12 22:58:46,477 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@27b9b18c{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-12 22:58:46,479 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:46,481 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2dbb3b85{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:46,481 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@69af1225{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:46,481 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2b1fb51d{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:46,486 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-12 22:58:46,486 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-12 22:58:46,486 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-12 22:58:46,486 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-12 22:58:46,486 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-12 22:58:46,486 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-12 22:58:46,487 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45515
2019-06-12 22:58:46,491 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45515
2019-06-12 22:58:46,491 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-12 22:58:46,491 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:46,491 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-12 22:58:46,491 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43885
2019-06-12 22:58:46,493 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:46,493 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-12 22:58:46,493 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-12 22:58:46,493 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44329
2019-06-12 22:58:46,493 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43885
2019-06-12 22:58:46,495 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 44329
2019-06-12 22:58:46,495 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-12 22:58:46,495 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:46,496 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7139796c{/,null,UNAVAILABLE}{/scm}
2019-06-12 22:58:46,497 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3905db8e{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:46,497 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@43c536f9{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:46,497 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@75848277{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:46,498 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-12 22:58:46,498 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:46,499 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:46,499 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-12 22:58:46,500 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-12 22:58:46,501 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-12 22:58:46,501 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@6b46ecbc
2019-06-12 22:58:46,501 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-12 22:58:46,501 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:46,501 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: close
2019-06-12 22:58:46,502 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: shutdown group-B3DAA35E118A
2019-06-12 22:58:46,502 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B3DAA35E118A,id=8ab4b860-fc04-45e6-bb68-7ba1a4c1576e
2019-06-12 22:58:46,502 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: shutdown LeaderState
2019-06-12 22:58:46,502 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e-PendingRequests: sendNotLeaderResponses
2019-06-12 22:58:46,502 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-8ab4b860-fc04-45e6-bb68-7ba1a4c1576e-group-B3DAA35E118A: set stopIndex = 0
2019-06-12 22:58:46,502 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-12 22:58:46,504 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e:group-B3DAA35E118A closes. The last applied log index is 0
2019-06-12 22:58:46,504 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 22:58:46,505 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e-RaftLogWorker close()
2019-06-12 22:58:46,506 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: shutdown server with port 9858 now
2019-06-12 22:58:46,507 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 8ab4b860-fc04-45e6-bb68-7ba1a4c1576e: shutdown server with port 9858 successfully
2019-06-12 22:58:46,512 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:46,533 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-12 22:58:46,534 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@55a18507{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-12 22:58:46,534 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@78e806aa{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:46,535 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@637db876{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-12 22:58:46,535 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@750f459d{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:46,583 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,586 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,586 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,587 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-12 22:58:46,587 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-12 22:58:46,587 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-12 22:58:46,587 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-12 22:58:46,587 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-12 22:58:46,588 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-12 22:58:46,588 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:46,588 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:46,588 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:46,640 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:46,641 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:46,641 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-12 22:58:46,642 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@20c9f3a5
2019-06-12 22:58:46,642 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-12 22:58:46,645 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,659 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-12 22:58:46,660 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,687 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-12 22:58:46,688 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:46,689 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33683
2019-06-12 22:58:46,690 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:46,693 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43887
2019-06-12 22:58:46,695 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:46,696 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39231
2019-06-12 22:58:46,699 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-12 22:58:46,701 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:46,701 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:46,703 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:46,705 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-12 22:58:46,705 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:46,706 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:46,713 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:39231
2019-06-12 22:58:46,713 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-12 22:58:46,713 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:39231
2019-06-12 22:58:46,714 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:46,714 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39231: starting
2019-06-12 22:58:46,730 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43887
2019-06-12 22:58:46,730 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:43887
2019-06-12 22:58:46,730 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:46,731 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43887: starting
2019-06-12 22:58:46,732 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:33683
2019-06-12 22:58:46,732 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:33683
2019-06-12 22:58:46,733 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:46,733 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33683: starting
2019-06-12 22:58:46,737 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44095
2019-06-12 22:58:46,737 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:46,764 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@aa8dbbb{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:46,764 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7511f6b3{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:46,776 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@4b61114d{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-12 22:58:46,777 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@50f5fd44{HTTP/1.1,[http/1.1]}{0.0.0.0:44095}
2019-06-12 22:58:46,777 INFO  server.Server (Server.java:doStart(419)) - Started @37472ms
2019-06-12 22:58:46,779 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:44095
2019-06-12 22:58:46,781 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,788 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:46,791 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,791 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-12 22:58:46,791 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 329a7b8f-eeb7-45de-a4ea-e9b018763899
2019-06-12 22:58:46,791 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:46,792 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:46,792 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-12 22:58:46,797 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:46,797 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-12 22:58:46,797 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-12 22:58:46,798 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-12 22:58:46,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-12 22:58:46,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-12 22:58:46,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-12 22:58:46,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-12 22:58:46,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:46,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:46,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:46,994 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:46,998 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41387
2019-06-12 22:58:47,012 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:47,012 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:41387
2019-06-12 22:58:47,012 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-12 22:58:47,013 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:47,013 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41387: starting
2019-06-12 22:58:47,067 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-12 22:58:47,068 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:47,068 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:47,070 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:47,070 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-12 22:58:47,070 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:47,071 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:47,072 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 41227
2019-06-12 22:58:47,072 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:47,073 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2319de29{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:47,074 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4dec1af3{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:47,078 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3c67a9e7{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-12 22:58:47,079 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2fe6a342{HTTP/1.1,[http/1.1]}{0.0.0.0:41227}
2019-06-12 22:58:47,079 INFO  server.Server (Server.java:doStart(419)) - Started @37774ms
2019-06-12 22:58:47,082 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:41227
2019-06-12 22:58:47,086 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-12 22:58:47,087 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-rf5t8-2531498618 ip:192.168.19.23
2019-06-12 22:58:47,095 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:47,095 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/containers/hdds to VolumeSet
2019-06-12 22:58:47,095 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@118d94dd
2019-06-12 22:58:47,102 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@118d94dd
2019-06-12 22:58:47,116 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 33271
2019-06-12 22:58:47,117 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:47,118 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33271 (custom)
2019-06-12 22:58:47,118 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:47,118 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:47,118 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:47,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:47,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/ratis] (custom)
2019-06-12 22:58:47,119 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 37157
2019-06-12 22:58:47,120 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-12 22:58:47,121 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-12 22:58:47,122 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:47,122 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:47,124 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:47,124 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-12 22:58:47,124 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:47,124 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:47,125 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 36867
2019-06-12 22:58:47,125 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:47,128 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3a7d35a1{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:47,128 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@214717f6{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-12 22:58:47,157 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@12b73912{/,file:///tmp/jetty-0.0.0.0-36867-hddsDatanode-_-any-9045253851181251099.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-12 22:58:47,157 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2787dd94{HTTP/1.1,[http/1.1]}{0.0.0.0:36867}
2019-06-12 22:58:47,158 INFO  server.Server (Server.java:doStart(419)) - Started @37853ms
2019-06-12 22:58:47,191 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:36867
Jun 12, 2019 10:58:47 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-12 22:58:47,339 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@6c3f71c
2019-06-12 22:58:47,341 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:47,358 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:47,367 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/meta/datanode.id
2019-06-12 22:58:48,342 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:49,342 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:49,368 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:49,369 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:49,369 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 6a2c0d20-50f4-429d-b36b-351ca7b059a6 at port 33271
2019-06-12 22:58:49,373 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: start RPC server
2019-06-12 22:58:49,378 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: GrpcService started, listening on 0.0.0.0/0.0.0.0:33271
2019-06-12 22:58:50,342 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:51,342 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:51,361 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 6a2c0d20-50f4-429d-b36b-351ca7b059a6{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}
2019-06-12 22:58:51,362 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-12 22:58:51,366 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-12 22:58:51,366 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-12 22:58:51,377 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: addNew group-588A6DCB9937:[6a2c0d20-50f4-429d-b36b-351ca7b059a6:192.168.19.23:33271] returns group-588A6DCB9937:java.util.concurrent.CompletableFuture@6631e6d1[Not completed]
2019-06-12 22:58:51,378 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: new RaftServerImpl for group-588A6DCB9937:[6a2c0d20-50f4-429d-b36b-351ca7b059a6:192.168.19.23:33271] with ContainerStateMachine:uninitialized
2019-06-12 22:58:51,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 22:58:51,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 22:58:51,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 22:58:51,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 22:58:51,379 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6:group-588A6DCB9937 ConfigurationManager, init=-1: [6a2c0d20-50f4-429d-b36b-351ca7b059a6:192.168.19.23:33271], old=null, confs=<EMPTY_MAP>
2019-06-12 22:58:51,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/ratis] (custom)
2019-06-12 22:58:51,379 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/ratis/71906037-5e65-4e92-8973-588a6dcb9937 does not exist. Creating ...
2019-06-12 22:58:51,381 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/ratis/71906037-5e65-4e92-8973-588a6dcb9937/in_use.lock acquired by nodename 31313@ozone-rf5t8-2531498618
2019-06-12 22:58:51,383 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/ratis/71906037-5e65-4e92-8973-588a6dcb9937 has been successfully formatted.
2019-06-12 22:58:51,383 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 22:58:51,383 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 22:58:51,384 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 6a2c0d20-50f4-429d-b36b-351ca7b059a6-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/datanode-0/data/ratis/71906037-5e65-4e92-8973-588a6dcb9937
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 22:58:51,384 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 22:58:51,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 22:58:51,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 22:58:51,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 22:58:51,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 22:58:51,385 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 22:58:51,385 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: start group-588A6DCB9937
2019-06-12 22:58:51,385 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6:group-588A6DCB9937 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 22:58:51,385 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: start FollowerState
2019-06-12 22:58:51,386 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-588A6DCB9937,id=6a2c0d20-50f4-429d-b36b-351ca7b059a6
2019-06-12 22:58:51,392 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 71906037-5e65-4e92-8973-588a6dcb9937, Nodes: 6a2c0d20-50f4-429d-b36b-351ca7b059a6{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-12 22:58:52,343 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-12 22:58:52,348 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /tmp/junit2754862170573375010/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:52,348 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /tmp/junit2754862170573375010/hdds to VolumeSet
2019-06-12 22:58:52,348 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@2dd28f82
2019-06-12 22:58:52,349 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@2dd28f82
2019-06-12 22:58:52,358 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 35827
2019-06-12 22:58:52,359 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:52,359 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:52,359 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35827 (custom)
2019-06-12 22:58:52,359 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:52,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:52,359 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:52,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:52,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/ozone-meta/ratis] (custom)
2019-06-12 22:58:52,360 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5: found a subdirectory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/ozone-meta/ratis/snapshot
2019-06-12 22:58:52,360 WARN  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(197)) - 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5: Failed to initialize the group directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e77eddec-cc6f-43eb-b1db-2b5dfdfec792/ozone-meta/ratis/snapshot.  Ignoring it
java.lang.IllegalArgumentException: Invalid UUID string: snapshot
	at java.util.UUID.fromString(UUID.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$0(RaftServerProxy.java:192)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$initGroups$1(RaftServerProxy.java:189)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.ratis.server.impl.RaftServerProxy.initGroups(RaftServerProxy.java:186)
	at org.apache.ratis.server.impl.ServerImplUtils.newRaftServer(ServerImplUtils.java:41)
	at org.apache.ratis.server.RaftServer$Builder.build(RaftServer.java:76)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.<init>(XceiverServerRatis.java:157)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.newXceiverServerRatis(XceiverServerRatis.java:411)
	at org.apache.hadoop.ozone.container.ozoneimpl.OzoneContainer.<init>(OzoneContainer.java:109)
	at org.apache.hadoop.ozone.container.ozoneimpl.TestOzoneContainer.testCreateOzoneContainer(TestOzoneContainer.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-06-12 22:58:52,361 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:52,361 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:52,361 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5 at port 35827
2019-06-12 22:58:52,374 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5: start RPC server
2019-06-12 22:58:52,375 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5: GrpcService started, listening on 0.0.0.0/0.0.0.0:35827
2019-06-12 22:58:52,400 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:52,400 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5: close
2019-06-12 22:58:52,400 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5: shutdown server with port 35827 now
2019-06-12 22:58:52,401 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 3b5a2807-39b2-4dee-be6e-0e2e8c7f94c5: shutdown server with port 35827 successfully
2019-06-12 22:58:52,402 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:52,412 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-12 22:58:52,412 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-12 22:58:52,412 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-12 22:58:52,412 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41387
2019-06-12 22:58:52,414 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41387
2019-06-12 22:58:52,416 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-12 22:58:52,416 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:52,417 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3c67a9e7{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-12 22:58:52,417 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2fe6a342{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:52,417 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4dec1af3{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:52,417 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2319de29{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:52,419 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-12 22:58:52,419 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-12 22:58:52,419 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-12 22:58:52,419 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-12 22:58:52,419 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-12 22:58:52,419 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-12 22:58:52,419 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33683
2019-06-12 22:58:52,420 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:52,420 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-12 22:58:52,420 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-12 22:58:52,420 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43887
2019-06-12 22:58:52,420 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33683
2019-06-12 22:58:52,422 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43887
2019-06-12 22:58:52,422 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-12 22:58:52,422 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-12 22:58:52,423 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39231
2019-06-12 22:58:52,422 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:52,424 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:52,425 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39231
2019-06-12 22:58:52,426 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-12 22:58:52,426 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@4b61114d{/,null,UNAVAILABLE}{/scm}
2019-06-12 22:58:52,427 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@50f5fd44{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:52,427 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7511f6b3{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:52,427 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@aa8dbbb{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:52,427 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-12 22:58:52,427 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:52,428 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:52,428 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-12 22:58:52,429 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-12 22:58:52,430 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-12 22:58:52,430 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@6c3f71c
2019-06-12 22:58:52,430 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-12 22:58:52,430 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:52,430 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: close
2019-06-12 22:58:52,430 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: shutdown group-588A6DCB9937
2019-06-12 22:58:52,430 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-588A6DCB9937,id=6a2c0d20-50f4-429d-b36b-351ca7b059a6
2019-06-12 22:58:52,430 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: shutdown FollowerState
2019-06-12 22:58:52,431 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-6a2c0d20-50f4-429d-b36b-351ca7b059a6-group-588A6DCB9937: set stopIndex = -1
2019-06-12 22:58:52,431 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-12 22:58:52,431 INFO  impl.FollowerState (FollowerState.java:run(109)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 22:58:52,431 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6:group-588A6DCB9937 closes. The last applied log index is -1
2019-06-12 22:58:52,432 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 22:58:52,432 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6-RaftLogWorker close()
2019-06-12 22:58:52,432 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: shutdown server with port 33271 now
2019-06-12 22:58:52,433 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 6a2c0d20-50f4-429d-b36b-351ca7b059a6: shutdown server with port 33271 successfully
2019-06-12 22:58:52,436 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:52,443 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-12 22:58:52,444 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@12b73912{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-12 22:58:52,444 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2787dd94{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:52,445 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@214717f6{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-12 22:58:52,445 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3a7d35a1{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:52,457 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,460 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,460 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,460 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-12 22:58:52,460 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-12 22:58:52,461 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-12 22:58:52,461 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-12 22:58:52,461 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-12 22:58:52,461 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-12 22:58:52,461 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:52,461 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:52,461 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:52,499 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:52,500 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-12 22:58:52,500 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-12 22:58:52,501 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@3f298400
2019-06-12 22:58:52,501 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-12 22:58:52,503 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,516 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-12 22:58:52,516 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,533 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-12 22:58:52,534 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:52,534 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46379
2019-06-12 22:58:52,536 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:52,537 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 34553
2019-06-12 22:58:52,538 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:52,538 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41455
2019-06-12 22:58:52,540 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-12 22:58:52,541 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:52,542 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:52,543 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:52,543 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-12 22:58:52,543 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:52,543 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:52,546 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:41455
2019-06-12 22:58:52,546 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-12 22:58:52,546 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:41455
2019-06-12 22:58:52,546 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:52,550 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41455: starting
2019-06-12 22:58:52,551 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34553
2019-06-12 22:58:52,551 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:34553
2019-06-12 22:58:52,551 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:52,552 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 34553: starting
2019-06-12 22:58:52,553 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:46379
2019-06-12 22:58:52,553 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:46379
2019-06-12 22:58:52,554 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:52,554 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46379: starting
2019-06-12 22:58:52,555 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 32939
2019-06-12 22:58:52,555 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:52,556 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@12d8dff4{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:52,557 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2b0ab139{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:52,559 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7a0929da{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-12 22:58:52,560 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5cb2ea60{HTTP/1.1,[http/1.1]}{0.0.0.0:32939}
2019-06-12 22:58:52,560 INFO  server.Server (Server.java:doStart(419)) - Started @43255ms
2019-06-12 22:58:52,561 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:32939
2019-06-12 22:58:52,562 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,562 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:52,564 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,564 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-12 22:58:52,564 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 4dd66b88-1075-4419-bad7-050c15555fcd
2019-06-12 22:58:52,564 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:52,564 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-12 22:58:52,565 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-12 22:58:52,569 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,570 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-12 22:58:52,570 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-12 22:58:52,570 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-12 22:58:52,570 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-12 22:58:52,570 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-12 22:58:52,570 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-12 22:58:52,571 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-12 22:58:52,572 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-12 22:58:52,573 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-12 22:58:52,573 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-12 22:58:52,573 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-12 22:58:52,713 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-12 22:58:52,713 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 36009
2019-06-12 22:58:52,722 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-12 22:58:52,722 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:36009
2019-06-12 22:58:52,723 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-12 22:58:52,723 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-12 22:58:52,723 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 36009: starting
2019-06-12 22:58:52,726 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-12 22:58:52,727 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:52,727 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:52,729 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:52,729 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-12 22:58:52,729 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:52,729 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:52,730 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33003
2019-06-12 22:58:52,730 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:52,731 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2070de51{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:52,732 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@49cdc4f{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-12 22:58:52,735 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@10240e6b{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-12 22:58:52,735 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@201d2633{HTTP/1.1,[http/1.1]}{0.0.0.0:33003}
2019-06-12 22:58:52,735 INFO  server.Server (Server.java:doStart(419)) - Started @43430ms
2019-06-12 22:58:52,736 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:33003
2019-06-12 22:58:52,738 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-12 22:58:52,738 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-rf5t8-2531498618 ip:192.168.19.23
2019-06-12 22:58:52,742 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-12 22:58:52,742 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/containers/hdds to VolumeSet
2019-06-12 22:58:52,742 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@297fe219
2019-06-12 22:58:52,743 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@297fe219
2019-06-12 22:58:52,752 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 22:58:52,752 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-12 22:58:52,752 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 22:58:52,752 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:52,753 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 22:58:52,753 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 22:58:52,753 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/ratis] (custom)
2019-06-12 22:58:52,753 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-12 22:58:52,754 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-12 22:58:52,755 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-12 22:58:52,755 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-12 22:58:52,756 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-12 22:58:52,756 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-12 22:58:52,757 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-12 22:58:52,757 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-12 22:58:52,757 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44591
2019-06-12 22:58:52,757 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-12 22:58:52,758 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@40d149b1{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-12 22:58:52,759 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@321ce6b4{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-12 22:58:52,779 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3b76b09{/,file:///tmp/jetty-0.0.0.0-44591-hddsDatanode-_-any-6339741250132219223.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-12 22:58:52,779 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1bc7ab1{HTTP/1.1,[http/1.1]}{0.0.0.0:44591}
2019-06-12 22:58:52,780 INFO  server.Server (Server.java:doStart(419)) - Started @43475ms
2019-06-12 22:58:52,781 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:44591
Jun 12, 2019 10:58:52 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-12 22:58:52,880 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@1eb9c2a9
2019-06-12 22:58:52,880 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:52,882 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-12 22:58:52,883 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/meta/datanode.id
2019-06-12 22:58:53,880 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:54,881 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:54,897 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-12 22:58:54,897 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-12 22:58:54,897 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis e9a31e11-382b-4732-95fe-f1c349fa4556 at port 9858
2019-06-12 22:58:54,911 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - e9a31e11-382b-4732-95fe-f1c349fa4556: start RPC server
2019-06-12 22:58:54,946 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - e9a31e11-382b-4732-95fe-f1c349fa4556: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-12 22:58:55,881 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:56,881 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-12 22:58:56,884 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : e9a31e11-382b-4732-95fe-f1c349fa4556{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}
2019-06-12 22:58:56,886 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-12 22:58:56,887 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-12 22:58:56,887 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-12 22:58:56,898 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - e9a31e11-382b-4732-95fe-f1c349fa4556: addNew group-8BF409AA8F10:[e9a31e11-382b-4732-95fe-f1c349fa4556:192.168.19.23:9858] returns group-8BF409AA8F10:java.util.concurrent.CompletableFuture@371fd85d[Not completed]
2019-06-12 22:58:56,901 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - e9a31e11-382b-4732-95fe-f1c349fa4556: new RaftServerImpl for group-8BF409AA8F10:[e9a31e11-382b-4732-95fe-f1c349fa4556:192.168.19.23:9858] with ContainerStateMachine:uninitialized
2019-06-12 22:58:56,903 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 22:58:56,903 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 22:58:56,903 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 22:58:56,903 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 22:58:56,903 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - e9a31e11-382b-4732-95fe-f1c349fa4556:group-8BF409AA8F10 ConfigurationManager, init=-1: [e9a31e11-382b-4732-95fe-f1c349fa4556:192.168.19.23:9858], old=null, confs=<EMPTY_MAP>
2019-06-12 22:58:56,903 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/ratis] (custom)
2019-06-12 22:58:56,904 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/ratis/b8e3c11d-71e7-40a6-a705-8bf409aa8f10 does not exist. Creating ...
2019-06-12 22:58:56,906 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/ratis/b8e3c11d-71e7-40a6-a705-8bf409aa8f10/in_use.lock acquired by nodename 31313@ozone-rf5t8-2531498618
2019-06-12 22:58:56,908 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/ratis/b8e3c11d-71e7-40a6-a705-8bf409aa8f10 has been successfully formatted.
2019-06-12 22:58:56,908 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 22:58:56,908 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new e9a31e11-382b-4732-95fe-f1c349fa4556-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5cf05ba1-2b3e-4051-b842-f88729dba131/datanode-0/data/ratis/b8e3c11d-71e7-40a6-a705-8bf409aa8f10
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 22:58:56,908 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 22:58:56,909 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 22:58:56,910 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - e9a31e11-382b-4732-95fe-f1c349fa4556: start group-8BF409AA8F10
2019-06-12 22:58:56,910 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e9a31e11-382b-4732-95fe-f1c349fa4556:group-8BF409AA8F10 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 22:58:56,910 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e9a31e11-382b-4732-95fe-f1c349fa4556: start FollowerState
2019-06-12 22:58:56,910 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF409AA8F10,id=e9a31e11-382b-4732-95fe-f1c349fa4556
2019-06-12 22:58:56,913 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: b8e3c11d-71e7-40a6-a705-8bf409aa8f10, Nodes: e9a31e11-382b-4732-95fe-f1c349fa4556{ip: 192.168.19.23, host: ozone-rf5t8-2531498618, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-12 22:58:57,882 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-12 22:58:57,931 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: DeleteContainer : Trace ID: 66f260c7e1b1ce56:66f260c7e1b1ce56:0:0 : Message: Deletion of Open Container is not allowed. : Result: DELETE_ON_OPEN_CONTAINER
22:58:57.932 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=DELETE_CONTAINER {containerID=1560380337882, forceDelete=false} | ret=FAILURE
java.lang.Exception: Deletion of Open Container is not allowed.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-12 22:58:57,946 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-12 22:58:57,947 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-12 22:58:57,947 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-12 22:58:57,947 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 36009
2019-06-12 22:58:57,954 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 36009
2019-06-12 22:58:57,956 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:57,957 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-12 22:58:57,961 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@10240e6b{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-12 22:58:57,961 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@201d2633{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:57,962 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@49cdc4f{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:57,962 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2070de51{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:57,964 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-12 22:58:57,964 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-12 22:58:57,964 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-12 22:58:57,964 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-12 22:58:57,964 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-12 22:58:57,964 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-12 22:58:57,965 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46379
2019-06-12 22:58:57,968 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46379
2019-06-12 22:58:57,977 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:57,978 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-12 22:58:57,978 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-12 22:58:57,978 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 34553
2019-06-12 22:58:57,983 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 34553
2019-06-12 22:58:57,990 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-12 22:58:57,990 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-12 22:58:57,991 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41455
2019-06-12 22:58:57,991 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-12 22:58:57,992 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:57,992 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7a0929da{/,null,UNAVAILABLE}{/scm}
2019-06-12 22:58:57,993 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5cb2ea60{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:57,993 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2b0ab139{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-12 22:58:57,993 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@12d8dff4{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-12 22:58:57,994 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-12 22:58:57,997 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41455
2019-06-12 22:58:58,004 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-12 22:58:58,005 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:58,005 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-12 22:58:58,006 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-12 22:58:58,008 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-12 22:58:58,008 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-12 22:58:58,009 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@1eb9c2a9
2019-06-12 22:58:58,009 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-12 22:58:58,018 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-12 22:58:58,018 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - e9a31e11-382b-4732-95fe-f1c349fa4556: close
2019-06-12 22:58:58,018 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - e9a31e11-382b-4732-95fe-f1c349fa4556: shutdown group-8BF409AA8F10
2019-06-12 22:58:58,018 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF409AA8F10,id=e9a31e11-382b-4732-95fe-f1c349fa4556
2019-06-12 22:58:58,019 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - e9a31e11-382b-4732-95fe-f1c349fa4556: shutdown FollowerState
2019-06-12 22:58:58,019 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-e9a31e11-382b-4732-95fe-f1c349fa4556-group-8BF409AA8F10: set stopIndex = -1
2019-06-12 22:58:58,019 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-12 22:58:58,019 INFO  impl.FollowerState (FollowerState.java:run(109)) - e9a31e11-382b-4732-95fe-f1c349fa4556: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 22:58:58,021 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - e9a31e11-382b-4732-95fe-f1c349fa4556:group-8BF409AA8F10 closes. The last applied log index is -1
2019-06-12 22:58:58,024 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - e9a31e11-382b-4732-95fe-f1c349fa4556-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 22:58:58,024 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - e9a31e11-382b-4732-95fe-f1c349fa4556-RaftLogWorker close()
2019-06-12 22:58:58,025 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - e9a31e11-382b-4732-95fe-f1c349fa4556: shutdown server with port 9858 now
2019-06-12 22:58:58,030 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - e9a31e11-382b-4732-95fe-f1c349fa4556: shutdown server with port 9858 successfully
2019-06-12 22:58:58,034 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-12 22:58:58,057 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-12 22:58:58,058 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3b76b09{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-12 22:58:58,059 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1bc7ab1{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-12 22:58:58,060 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@321ce6b4{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-12 22:58:58,060 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@40d149b1{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}

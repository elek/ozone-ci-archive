2019-06-12 14:55:57,249 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 14:55:57,350 INFO  ozone.RatisTestHelper (RatisTestHelper.java:initRatisConf(109)) - dfs.container.ratis.rpc.type = GRPC
2019-06-12 14:55:57,403 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 14:55:57,413 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42619 (custom)
2019-06-12 14:55:57,414 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 14:55:57,416 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:57,417 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 14:55:57,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 14:55:57,463 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b] (custom)
2019-06-12 14:55:57,467 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis dc170314-50d5-4dbc-930b-0f6d97a09d4b at port 42619
2019-06-12 14:55:57,478 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: start RPC server
2019-06-12 14:55:57,480 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: GrpcService started, listening on 0.0.0.0/0.0.0.0:42619
2019-06-12 14:55:57,566 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: addNew group-B30916B76B53:[dc170314-50d5-4dbc-930b-0f6d97a09d4b:0.0.0.0:42619] returns group-B30916B76B53:java.util.concurrent.CompletableFuture@367cfb95[Not completed]
2019-06-12 14:55:57,572 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: new RaftServerImpl for group-B30916B76B53:[dc170314-50d5-4dbc-930b-0f6d97a09d4b:0.0.0.0:42619] with ContainerStateMachine:uninitialized
2019-06-12 14:55:57,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 14:55:57,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 14:55:57,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 14:55:57,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 14:55:57,581 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 ConfigurationManager, init=-1: [dc170314-50d5-4dbc-930b-0f6d97a09d4b:0.0.0.0:42619], old=null, confs=<EMPTY_MAP>
2019-06-12 14:55:57,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b] (custom)
2019-06-12 14:55:57,588 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b/551450ca-699d-4542-a047-b30916b76b53 does not exist. Creating ...
2019-06-12 14:55:57,597 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b/551450ca-699d-4542-a047-b30916b76b53/in_use.lock acquired by nodename 5554@ozone-nqbcb-3364917721
2019-06-12 14:55:57,605 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b/551450ca-699d-4542-a047-b30916b76b53 has been successfully formatted.
2019-06-12 14:55:57,607 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 14:55:57,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 14:55:57,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 14:55:57,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:57,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:57,617 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 14:55:57,620 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new dc170314-50d5-4dbc-930b-0f6d97a09d4b-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b/551450ca-699d-4542-a047-b30916b76b53
2019-06-12 14:55:57,620 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 14:55:57,621 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 14:55:57,622 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:57,622 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 14:55:57,623 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 14:55:57,623 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 14:55:57,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 14:55:57,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 14:55:57,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 14:55:57,627 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 14:55:57,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 14:55:57,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 14:55:57,634 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 14:55:57,650 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: start group-B30916B76B53
2019-06-12 14:55:57,651 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 14:55:57,651 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: start FollowerState
2019-06-12 14:55:57,693 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B30916B76B53,id=dc170314-50d5-4dbc-930b-0f6d97a09d4b
2019-06-12 14:55:57,741 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-B3236A2A8097->dc170314-50d5-4dbc-930b-0f6d97a09d4b: receive RaftClientReply:client-B3236A2A8097->dc170314-50d5-4dbc-930b-0f6d97a09d4b@group-B30916B76B53, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server dc170314-50d5-4dbc-930b-0f6d97a09d4b is not the leader (null). Request must be sent to leader., logIndex=0, commits[dc170314-50d5-4dbc-930b-0f6d97a09d4b:c-1]
2019-06-12 14:55:58,748 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-B3236A2A8097->dc170314-50d5-4dbc-930b-0f6d97a09d4b: receive RaftClientReply:client-B3236A2A8097->dc170314-50d5-4dbc-930b-0f6d97a09d4b@group-B30916B76B53, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server dc170314-50d5-4dbc-930b-0f6d97a09d4b is not the leader (null). Request must be sent to leader., logIndex=0, commits[dc170314-50d5-4dbc-930b-0f6d97a09d4b:c-1]
2019-06-12 14:55:58,796 INFO  impl.FollowerState (FollowerState.java:run(101)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 changes to CANDIDATE, lastRpcTime:1144, electionTimeout:1144ms
2019-06-12 14:55:58,796 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: shutdown FollowerState
2019-06-12 14:55:58,796 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 14:55:58,797 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: start LeaderElection
2019-06-12 14:55:58,800 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53:LeaderElection1: begin an election at term 1 for -1: [dc170314-50d5-4dbc-930b-0f6d97a09d4b:0.0.0.0:42619], old=null
2019-06-12 14:55:58,801 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: shutdown LeaderElection
2019-06-12 14:55:58,801 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 14:55:58,801 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 change Leader from null to dc170314-50d5-4dbc-930b-0f6d97a09d4b at term 1 for becomeLeader, leader elected after 1194ms
2019-06-12 14:55:58,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 14:55:58,805 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 14:55:58,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 14:55:58,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 14:55:58,814 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: start LeaderState
2019-06-12 14:55:58,826 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b-RaftLogWorker: Starting segment from index:0
2019-06-12 14:55:58,833 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 set configuration 0: [dc170314-50d5-4dbc-930b-0f6d97a09d4b:0.0.0.0:42619], old=null at 0
2019-06-12 14:55:58,954 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b/551450ca-699d-4542-a047-b30916b76b53/current/log_inprogress_0
2019-06-12 14:55:59,763 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 14:55:59,767 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-B3236A2A8097->dc170314-50d5-4dbc-930b-0f6d97a09d4b: receive RaftClientReply:client-B3236A2A8097->dc170314-50d5-4dbc-930b-0f6d97a09d4b@group-B30916B76B53, cid=1, SUCCESS, logIndex=1, commits[dc170314-50d5-4dbc-930b-0f6d97a09d4b:c2]
2019-06-12 14:55:59,769 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 14:55:59,782 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-7FAE466F0003->dc170314-50d5-4dbc-930b-0f6d97a09d4b: receive RaftClientReply:client-7FAE466F0003->dc170314-50d5-4dbc-930b-0f6d97a09d4b@group-B30916B76B53, cid=2, SUCCESS, logIndex=3, commits[dc170314-50d5-4dbc-930b-0f6d97a09d4b:c3]
2019-06-12 14:55:59,785 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: close
2019-06-12 14:55:59,786 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: shutdown group-B30916B76B53
2019-06-12 14:55:59,787 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B30916B76B53,id=dc170314-50d5-4dbc-930b-0f6d97a09d4b
2019-06-12 14:55:59,787 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: shutdown LeaderState
2019-06-12 14:55:59,788 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:55:59,788 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b-PendingRequests: sendNotLeaderResponses
2019-06-12 14:55:59,788 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 1-OrderedRequestStreamObserver1: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:55:59,790 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-dc170314-50d5-4dbc-930b-0f6d97a09d4b-group-B30916B76B53: set stopIndex = 4
2019-06-12 14:55:59,790 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:3)
2019-06-12 14:55:59,793 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dc170314-50d5-4dbc-930b-0f6d97a09d4b/551450ca-699d-4542-a047-b30916b76b53/sm/snapshot.1_3
2019-06-12 14:55:59,800 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b:group-B30916B76B53 closes. The last applied log index is 4
2019-06-12 14:55:59,801 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 14:55:59,802 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b-RaftLogWorker close()
2019-06-12 14:55:59,803 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: shutdown server with port 42619 now
2019-06-12 14:55:59,804 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - dc170314-50d5-4dbc-930b-0f6d97a09d4b: shutdown server with port 42619 successfully
2019-06-12 14:55:59,823 INFO  ozone.RatisTestHelper (RatisTestHelper.java:initRatisConf(109)) - dfs.container.ratis.rpc.type = GRPC
2019-06-12 14:55:59,824 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 14:55:59,825 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 45011 (custom)
2019-06-12 14:55:59,825 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 14:55:59,825 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:59,825 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 14:55:59,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 14:55:59,826 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608] (custom)
2019-06-12 14:55:59,826 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis fb915d3a-3995-49a8-aa03-ee16d6c99608 at port 45011
2019-06-12 14:55:59,848 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: start RPC server
2019-06-12 14:55:59,849 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: GrpcService started, listening on 0.0.0.0/0.0.0.0:45011
Jun 12, 2019 2:55:59 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=17, target=0.0.0.0:42619} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 12, 2019 2:55:59 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=9, target=0.0.0.0:46201} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connectToDatanode(XceiverClientGrpc.java:163)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connect(XceiverClientGrpc.java:120)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:227)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServer(TestSecureContainerServer.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2019-06-12 14:55:59,879 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: addNew group-ED58EC5FE31B:[86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011] returns group-ED58EC5FE31B:java.util.concurrent.CompletableFuture@5a83a40f[Not completed]
2019-06-12 14:55:59,882 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: new RaftServerImpl for group-ED58EC5FE31B:[86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011] with ContainerStateMachine:uninitialized
2019-06-12 14:55:59,882 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 14:55:59,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 14:55:59,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 14:55:59,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 14:55:59,883 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B ConfigurationManager, init=-1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null, confs=<EMPTY_MAP>
2019-06-12 14:55:59,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608] (custom)
2019-06-12 14:55:59,884 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b does not exist. Creating ...
2019-06-12 14:55:59,886 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/in_use.lock acquired by nodename 5554@ozone-nqbcb-3364917721
2019-06-12 14:55:59,888 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b has been successfully formatted.
2019-06-12 14:55:59,888 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 14:55:59,888 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 14:55:59,889 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new fb915d3a-3995-49a8-aa03-ee16d6c99608-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 14:55:59,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 14:55:59,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 14:55:59,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 14:55:59,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 14:55:59,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 14:55:59,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 14:55:59,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 14:55:59,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 14:55:59,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 14:55:59,891 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: start group-ED58EC5FE31B
2019-06-12 14:55:59,891 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 14:55:59,891 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: start FollowerState
2019-06-12 14:55:59,892 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED58EC5FE31B,id=fb915d3a-3995-49a8-aa03-ee16d6c99608
2019-06-12 14:55:59,899 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 14:55:59,899 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38207 (custom)
2019-06-12 14:55:59,899 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 14:55:59,900 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:59,900 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 14:55:59,900 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 14:55:59,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850] (custom)
2019-06-12 14:55:59,901 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 86728170-fbb3-42b2-9fc5-32753afd0850 at port 38207
2019-06-12 14:55:59,906 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 86728170-fbb3-42b2-9fc5-32753afd0850: start RPC server
2019-06-12 14:55:59,907 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 86728170-fbb3-42b2-9fc5-32753afd0850: GrpcService started, listening on 0.0.0.0/0.0.0.0:38207
2019-06-12 14:55:59,927 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 86728170-fbb3-42b2-9fc5-32753afd0850: addNew group-ED58EC5FE31B:[86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011] returns group-ED58EC5FE31B:java.util.concurrent.CompletableFuture@1847b696[Not completed]
2019-06-12 14:55:59,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 86728170-fbb3-42b2-9fc5-32753afd0850: new RaftServerImpl for group-ED58EC5FE31B:[86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011] with ContainerStateMachine:uninitialized
2019-06-12 14:55:59,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 14:55:59,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 14:55:59,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 14:55:59,929 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 14:55:59,929 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B ConfigurationManager, init=-1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null, confs=<EMPTY_MAP>
2019-06-12 14:55:59,930 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850] (custom)
2019-06-12 14:55:59,930 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b does not exist. Creating ...
2019-06-12 14:55:59,932 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/in_use.lock acquired by nodename 5554@ozone-nqbcb-3364917721
2019-06-12 14:55:59,934 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b has been successfully formatted.
2019-06-12 14:55:59,934 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 14:55:59,934 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 14:55:59,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 14:55:59,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:59,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:59,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 14:55:59,935 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 86728170-fbb3-42b2-9fc5-32753afd0850-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b
2019-06-12 14:55:59,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 14:55:59,935 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 14:55:59,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:59,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 14:55:59,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 14:55:59,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 14:55:59,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 14:55:59,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 14:55:59,936 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 14:55:59,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 14:55:59,939 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 14:55:59,939 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 14:55:59,940 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 14:55:59,940 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 86728170-fbb3-42b2-9fc5-32753afd0850: start group-ED58EC5FE31B
2019-06-12 14:55:59,940 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 14:55:59,940 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 86728170-fbb3-42b2-9fc5-32753afd0850: start FollowerState
2019-06-12 14:55:59,940 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED58EC5FE31B,id=86728170-fbb3-42b2-9fc5-32753afd0850
2019-06-12 14:55:59,944 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 14:55:59,945 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 34543 (custom)
2019-06-12 14:55:59,945 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 14:55:59,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:59,945 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 14:55:59,946 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 14:55:59,946 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db] (custom)
2019-06-12 14:55:59,947 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis e3662219-110f-424a-948a-7f8e6847f1db at port 34543
2019-06-12 14:55:59,956 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - e3662219-110f-424a-948a-7f8e6847f1db: start RPC server
2019-06-12 14:55:59,957 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - e3662219-110f-424a-948a-7f8e6847f1db: GrpcService started, listening on 0.0.0.0/0.0.0.0:34543
2019-06-12 14:55:59,972 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - e3662219-110f-424a-948a-7f8e6847f1db: addNew group-ED58EC5FE31B:[86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011] returns group-ED58EC5FE31B:java.util.concurrent.CompletableFuture@39df28c3[Not completed]
2019-06-12 14:55:59,972 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - e3662219-110f-424a-948a-7f8e6847f1db: new RaftServerImpl for group-ED58EC5FE31B:[86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011] with ContainerStateMachine:uninitialized
2019-06-12 14:55:59,973 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 14:55:59,973 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 14:55:59,973 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 14:55:59,973 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 14:55:59,973 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B ConfigurationManager, init=-1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null, confs=<EMPTY_MAP>
2019-06-12 14:55:59,973 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db] (custom)
2019-06-12 14:55:59,973 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b does not exist. Creating ...
2019-06-12 14:55:59,976 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/in_use.lock acquired by nodename 5554@ozone-nqbcb-3364917721
2019-06-12 14:55:59,978 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b has been successfully formatted.
2019-06-12 14:55:59,978 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 14:55:59,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 14:55:59,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 14:55:59,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:55:59,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:59,978 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 14:55:59,978 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new e3662219-110f-424a-948a-7f8e6847f1db-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b
2019-06-12 14:55:59,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 14:55:59,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 14:55:59,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 14:55:59,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 14:55:59,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 14:55:59,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 14:55:59,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 14:55:59,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 14:55:59,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 14:55:59,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 14:55:59,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 14:55:59,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 14:55:59,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 14:55:59,981 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - e3662219-110f-424a-948a-7f8e6847f1db: start group-ED58EC5FE31B
2019-06-12 14:55:59,981 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 14:55:59,981 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3662219-110f-424a-948a-7f8e6847f1db: start FollowerState
2019-06-12 14:55:59,981 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED58EC5FE31B,id=e3662219-110f-424a-948a-7f8e6847f1db
2019-06-12 14:55:59,992 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-EDA74D8355ED->fb915d3a-3995-49a8-aa03-ee16d6c99608: receive RaftClientReply:client-EDA74D8355ED->fb915d3a-3995-49a8-aa03-ee16d6c99608@group-ED58EC5FE31B, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server fb915d3a-3995-49a8-aa03-ee16d6c99608 is not the leader (86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207). Request must be sent to leader., logIndex=0, commits[fb915d3a-3995-49a8-aa03-ee16d6c99608:c-1]
2019-06-12 14:55:59,995 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:56:01,003 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-EDA74D8355ED->e3662219-110f-424a-948a-7f8e6847f1db: receive RaftClientReply:client-EDA74D8355ED->e3662219-110f-424a-948a-7f8e6847f1db@group-ED58EC5FE31B, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server e3662219-110f-424a-948a-7f8e6847f1db is not the leader (86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207). Request must be sent to leader., logIndex=0, commits[e3662219-110f-424a-948a-7f8e6847f1db:c-1]
2019-06-12 14:56:01,005 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:56:01,038 INFO  impl.FollowerState (FollowerState.java:run(101)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B changes to CANDIDATE, lastRpcTime:1146, electionTimeout:1146ms
2019-06-12 14:56:01,038 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown FollowerState
2019-06-12 14:56:01,038 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 14:56:01,038 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: start LeaderElection
2019-06-12 14:56:01,041 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B:LeaderElection2: begin an election at term 1 for -1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:01,049 INFO  impl.FollowerState (FollowerState.java:run(101)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B changes to CANDIDATE, lastRpcTime:1109, electionTimeout:1109ms
2019-06-12 14:56:01,050 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown FollowerState
2019-06-12 14:56:01,050 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 14:56:01,050 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 86728170-fbb3-42b2-9fc5-32753afd0850: start LeaderElection
2019-06-12 14:56:01,054 INFO  impl.FollowerState (FollowerState.java:run(101)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B changes to CANDIDATE, lastRpcTime:1072, electionTimeout:1071ms
2019-06-12 14:56:01,054 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown FollowerState
2019-06-12 14:56:01,054 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 14:56:01,054 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3662219-110f-424a-948a-7f8e6847f1db: start LeaderElection
2019-06-12 14:56:01,055 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B:LeaderElection3: begin an election at term 1 for -1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:01,059 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B changes role from CANDIDATE to FOLLOWER at term 1 for recognizeCandidate:fb915d3a-3995-49a8-aa03-ee16d6c99608
2019-06-12 14:56:01,059 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown LeaderElection
2019-06-12 14:56:01,059 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3662219-110f-424a-948a-7f8e6847f1db: start FollowerState
2019-06-12 14:56:01,066 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B:LeaderElection4: begin an election at term 2 for -1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:01,068 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B:LeaderElection2: Election REJECTED; received 2 response(s) [fb915d3a-3995-49a8-aa03-ee16d6c99608->86728170-fbb3-42b2-9fc5-32753afd0850,false-t1, fb915d3a-3995-49a8-aa03-ee16d6c99608->e3662219-110f-424a-948a-7f8e6847f1db,false-t1] and 0 exception(s); fb915d3a-3995-49a8-aa03-ee16d6c99608:t1, leader=null, voted=fb915d3a-3995-49a8-aa03-ee16d6c99608, raftlog=fb915d3a-3995-49a8-aa03-ee16d6c99608-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:01,074 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B:LeaderElection3: Election DISCOVERED_A_NEW_TERM; received 1 response(s) [86728170-fbb3-42b2-9fc5-32753afd0850->e3662219-110f-424a-948a-7f8e6847f1db,false-t2] and 0 exception(s); 86728170-fbb3-42b2-9fc5-32753afd0850:t1, leader=null, voted=86728170-fbb3-42b2-9fc5-32753afd0850, raftlog=86728170-fbb3-42b2-9fc5-32753afd0850-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:01,074 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-06-12 14:56:01,075 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-06-12 14:56:01,080 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown LeaderElection
2019-06-12 14:56:01,080 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B:LeaderElection4: Election REJECTED; received 0 response(s) [] and 0 exception(s); e3662219-110f-424a-948a-7f8e6847f1db:t2, leader=null, voted=e3662219-110f-424a-948a-7f8e6847f1db, raftlog=e3662219-110f-424a-948a-7f8e6847f1db-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:01,079 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown LeaderElection
2019-06-12 14:56:01,081 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: start FollowerState
2019-06-12 14:56:01,080 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 86728170-fbb3-42b2-9fc5-32753afd0850: start FollowerState
2019-06-12 14:56:01,092 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B changes role from FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:e3662219-110f-424a-948a-7f8e6847f1db
2019-06-12 14:56:01,092 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown FollowerState
2019-06-12 14:56:01,092 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 86728170-fbb3-42b2-9fc5-32753afd0850: start FollowerState
2019-06-12 14:56:01,092 INFO  impl.FollowerState (FollowerState.java:run(109)) - 86728170-fbb3-42b2-9fc5-32753afd0850: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 14:56:01,094 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B changes role from FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:e3662219-110f-424a-948a-7f8e6847f1db
2019-06-12 14:56:01,095 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown FollowerState
2019-06-12 14:56:01,095 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: start FollowerState
2019-06-12 14:56:01,095 INFO  impl.FollowerState (FollowerState.java:run(109)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 14:56:02,013 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-EDA74D8355ED->fb915d3a-3995-49a8-aa03-ee16d6c99608: receive RaftClientReply:client-EDA74D8355ED->fb915d3a-3995-49a8-aa03-ee16d6c99608@group-ED58EC5FE31B, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server fb915d3a-3995-49a8-aa03-ee16d6c99608 is not the leader (86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207). Request must be sent to leader., logIndex=0, commits[fb915d3a-3995-49a8-aa03-ee16d6c99608:c-1]
2019-06-12 14:56:02,015 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 1-OrderedRequestStreamObserver1: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:56:02,077 INFO  impl.FollowerState (FollowerState.java:run(101)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B changes to CANDIDATE, lastRpcTime:1017, electionTimeout:1015ms
2019-06-12 14:56:02,077 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown FollowerState
2019-06-12 14:56:02,077 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B changes role from FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-06-12 14:56:02,077 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3662219-110f-424a-948a-7f8e6847f1db: start LeaderElection
2019-06-12 14:56:02,080 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B:LeaderElection5: begin an election at term 3 for -1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:02,082 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B changes role from FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:e3662219-110f-424a-948a-7f8e6847f1db
2019-06-12 14:56:02,082 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown FollowerState
2019-06-12 14:56:02,082 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 86728170-fbb3-42b2-9fc5-32753afd0850: start FollowerState
2019-06-12 14:56:02,083 INFO  impl.FollowerState (FollowerState.java:run(109)) - 86728170-fbb3-42b2-9fc5-32753afd0850: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 14:56:02,083 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B changes role from FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:e3662219-110f-424a-948a-7f8e6847f1db
2019-06-12 14:56:02,083 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown FollowerState
2019-06-12 14:56:02,085 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: start FollowerState
2019-06-12 14:56:02,086 INFO  impl.FollowerState (FollowerState.java:run(109)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 14:56:02,091 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B:LeaderElection5: Election PASSED; received 1 response(s) [e3662219-110f-424a-948a-7f8e6847f1db->86728170-fbb3-42b2-9fc5-32753afd0850,true-t3] and 0 exception(s); e3662219-110f-424a-948a-7f8e6847f1db:t3, leader=null, voted=e3662219-110f-424a-948a-7f8e6847f1db, raftlog=e3662219-110f-424a-948a-7f8e6847f1db-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null
2019-06-12 14:56:02,091 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown LeaderElection
2019-06-12 14:56:02,091 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-06-12 14:56:02,091 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B change Leader from null to e3662219-110f-424a-948a-7f8e6847f1db at term 3 for becomeLeader, leader elected after 2113ms
2019-06-12 14:56:02,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 14:56:02,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 14:56:02,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 14:56:02,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 14:56:02,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-06-12 14:56:02,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:56:02,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2019-06-12 14:56:02,095 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-06-12 14:56:02,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 14:56:02,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 14:56:02,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-06-12 14:56:02,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 14:56:02,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2019-06-12 14:56:02,096 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-06-12 14:56:02,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 14:56:02,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 14:56:02,096 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e3662219-110f-424a-948a-7f8e6847f1db: start LeaderState
2019-06-12 14:56:02,096 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - e3662219-110f-424a-948a-7f8e6847f1db-RaftLogWorker: Starting segment from index:0
2019-06-12 14:56:02,113 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B set configuration 0: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null at 0
2019-06-12 14:56:02,188 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - e3662219-110f-424a-948a-7f8e6847f1db-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/current/log_inprogress_0
2019-06-12 14:56:02,194 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B change Leader from null to e3662219-110f-424a-948a-7f8e6847f1db at term 3 for appendEntries, leader elected after 2259ms
2019-06-12 14:56:02,194 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B change Leader from null to e3662219-110f-424a-948a-7f8e6847f1db at term 3 for appendEntries, leader elected after 2305ms
2019-06-12 14:56:02,211 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B set configuration 0: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null at 0
2019-06-12 14:56:02,211 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B set configuration 0: [86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207, e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543, fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011], old=null at 0
2019-06-12 14:56:02,211 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - fb915d3a-3995-49a8-aa03-ee16d6c99608-RaftLogWorker: Starting segment from index:0
2019-06-12 14:56:02,211 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 86728170-fbb3-42b2-9fc5-32753afd0850-RaftLogWorker: Starting segment from index:0
2019-06-12 14:56:02,247 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - fb915d3a-3995-49a8-aa03-ee16d6c99608-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/current/log_inprogress_0
2019-06-12 14:56:02,265 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 86728170-fbb3-42b2-9fc5-32753afd0850-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/current/log_inprogress_0
Jun 12, 2019 2:56:03 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=43, target=0.0.0.0:38207} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 12, 2019 2:56:03 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=51, target=0.0.0.0:34543} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 12, 2019 2:56:03 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=35, target=0.0.0.0:45011} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2019-06-12 14:56:03,026 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-EDA74D8355ED->86728170-fbb3-42b2-9fc5-32753afd0850: receive RaftClientReply:client-EDA74D8355ED->86728170-fbb3-42b2-9fc5-32753afd0850@group-ED58EC5FE31B, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server 86728170-fbb3-42b2-9fc5-32753afd0850 is not the leader (e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543). Request must be sent to leader., logIndex=0, commits[86728170-fbb3-42b2-9fc5-32753afd0850:c0, e3662219-110f-424a-948a-7f8e6847f1db:c0, fb915d3a-3995-49a8-aa03-ee16d6c99608:c0]
2019-06-12 14:56:03,028 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:56:04,039 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 14:56:04,045 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 14:56:04,045 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 14:56:04,047 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-EDA74D8355ED->e3662219-110f-424a-948a-7f8e6847f1db: receive RaftClientReply:client-EDA74D8355ED->e3662219-110f-424a-948a-7f8e6847f1db@group-ED58EC5FE31B, cid=6, SUCCESS, logIndex=1, commits[e3662219-110f-424a-948a-7f8e6847f1db:c1, 86728170-fbb3-42b2-9fc5-32753afd0850:c0, fb915d3a-3995-49a8-aa03-ee16d6c99608:c0]
2019-06-12 14:56:04,047 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 14:56:04,057 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-8BE0331A32E0->fb915d3a-3995-49a8-aa03-ee16d6c99608: receive RaftClientReply:client-8BE0331A32E0->fb915d3a-3995-49a8-aa03-ee16d6c99608@group-ED58EC5FE31B, cid=7, FAILED org.apache.ratis.protocol.NotLeaderException: Server fb915d3a-3995-49a8-aa03-ee16d6c99608 is not the leader (e3662219-110f-424a-948a-7f8e6847f1db:0.0.0.0:34543). Request must be sent to leader., logIndex=0, commits[fb915d3a-3995-49a8-aa03-ee16d6c99608:c1, 86728170-fbb3-42b2-9fc5-32753afd0850:c0, e3662219-110f-424a-948a-7f8e6847f1db:c1]
2019-06-12 14:56:04,059 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 2-OrderedRequestStreamObserver2: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:56:05,074 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-8BE0331A32E0->e3662219-110f-424a-948a-7f8e6847f1db: receive RaftClientReply:client-8BE0331A32E0->e3662219-110f-424a-948a-7f8e6847f1db@group-ED58EC5FE31B, cid=7, SUCCESS, logIndex=3, commits[e3662219-110f-424a-948a-7f8e6847f1db:c3, 86728170-fbb3-42b2-9fc5-32753afd0850:c2, fb915d3a-3995-49a8-aa03-ee16d6c99608:c2]
2019-06-12 14:56:05,077 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: close
2019-06-12 14:56:05,077 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown group-ED58EC5FE31B
2019-06-12 14:56:05,078 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED58EC5FE31B,id=fb915d3a-3995-49a8-aa03-ee16d6c99608
2019-06-12 14:56:05,078 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown FollowerState
2019-06-12 14:56:05,078 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-fb915d3a-3995-49a8-aa03-ee16d6c99608-group-ED58EC5FE31B: set stopIndex = 3
2019-06-12 14:56:05,078 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:3, i:3)
2019-06-12 14:56:05,078 INFO  impl.FollowerState (FollowerState.java:run(109)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 14:56:05,078 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/fb915d3a-3995-49a8-aa03-ee16d6c99608/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/sm/snapshot.3_3
2019-06-12 14:56:05,079 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - fb915d3a-3995-49a8-aa03-ee16d6c99608:group-ED58EC5FE31B closes. The last applied log index is 3
2019-06-12 14:56:05,079 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - fb915d3a-3995-49a8-aa03-ee16d6c99608-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 14:56:05,080 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - fb915d3a-3995-49a8-aa03-ee16d6c99608-RaftLogWorker close()
2019-06-12 14:56:05,081 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown server with port 45011 now
2019-06-12 14:56:05,083 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: appendEntries onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:56:05,083 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - e3662219-110f-424a-948a-7f8e6847f1db: Failed appendEntries to fb915d3a-3995-49a8-aa03-ee16d6c99608:0.0.0.0:45011: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2019-06-12 14:56:05,083 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - fb915d3a-3995-49a8-aa03-ee16d6c99608: shutdown server with port 45011 successfully
2019-06-12 14:56:05,085 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 86728170-fbb3-42b2-9fc5-32753afd0850: close
2019-06-12 14:56:05,086 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(50)) - e3662219-110f-424a-948a-7f8e6847f1db->fb915d3a-3995-49a8-aa03-ee16d6c99608: nextIndex: updateUnconditionally 5 -> 0
2019-06-12 14:56:05,086 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown group-ED58EC5FE31B
2019-06-12 14:56:05,087 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED58EC5FE31B,id=86728170-fbb3-42b2-9fc5-32753afd0850
2019-06-12 14:56:05,087 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown FollowerState
2019-06-12 14:56:05,087 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-86728170-fbb3-42b2-9fc5-32753afd0850-group-ED58EC5FE31B: set stopIndex = 3
2019-06-12 14:56:05,087 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:3, i:3)
2019-06-12 14:56:05,088 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/86728170-fbb3-42b2-9fc5-32753afd0850/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/sm/snapshot.3_3
2019-06-12 14:56:05,088 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 86728170-fbb3-42b2-9fc5-32753afd0850:group-ED58EC5FE31B closes. The last applied log index is 3
2019-06-12 14:56:05,087 INFO  impl.FollowerState (FollowerState.java:run(109)) - 86728170-fbb3-42b2-9fc5-32753afd0850: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 14:56:05,089 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 86728170-fbb3-42b2-9fc5-32753afd0850-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 14:56:05,092 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 86728170-fbb3-42b2-9fc5-32753afd0850-RaftLogWorker close()
2019-06-12 14:56:05,093 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown server with port 38207 now
2019-06-12 14:56:05,094 WARN  server.GrpcServerProtocolService (LogUtils.java:warn(134)) - 86728170-fbb3-42b2-9fc5-32753afd0850: appendEntries onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 14:56:05,095 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 86728170-fbb3-42b2-9fc5-32753afd0850: shutdown server with port 38207 successfully
2019-06-12 14:56:05,095 WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - e3662219-110f-424a-948a-7f8e6847f1db: Failed appendEntries to 86728170-fbb3-42b2-9fc5-32753afd0850:0.0.0.0:38207: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2019-06-12 14:56:05,096 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(50)) - e3662219-110f-424a-948a-7f8e6847f1db->86728170-fbb3-42b2-9fc5-32753afd0850: nextIndex: updateUnconditionally 5 -> 0
2019-06-12 14:56:05,097 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - e3662219-110f-424a-948a-7f8e6847f1db: close
2019-06-12 14:56:05,097 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown group-ED58EC5FE31B
2019-06-12 14:56:05,098 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED58EC5FE31B,id=e3662219-110f-424a-948a-7f8e6847f1db
2019-06-12 14:56:05,098 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown LeaderState
2019-06-12 14:56:05,098 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - e3662219-110f-424a-948a-7f8e6847f1db-PendingRequests: sendNotLeaderResponses
2019-06-12 14:56:05,098 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(142)) - GrpcLogAppender(e3662219-110f-424a-948a-7f8e6847f1db -> 86728170-fbb3-42b2-9fc5-32753afd0850): Wait interrupted by java.lang.InterruptedException
2019-06-12 14:56:05,100 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-e3662219-110f-424a-948a-7f8e6847f1db-group-ED58EC5FE31B: set stopIndex = 4
2019-06-12 14:56:05,100 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:3, i:3)
2019-06-12 14:56:05,100 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(142)) - GrpcLogAppender(e3662219-110f-424a-948a-7f8e6847f1db -> fb915d3a-3995-49a8-aa03-ee16d6c99608): Wait interrupted by java.lang.InterruptedException
2019-06-12 14:56:05,101 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/e3662219-110f-424a-948a-7f8e6847f1db/7a7c96d2-95ec-42a0-bd4a-ed58ec5fe31b/sm/snapshot.3_3
2019-06-12 14:56:05,102 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - e3662219-110f-424a-948a-7f8e6847f1db:group-ED58EC5FE31B closes. The last applied log index is 4
2019-06-12 14:56:05,102 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - e3662219-110f-424a-948a-7f8e6847f1db-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 14:56:05,103 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - e3662219-110f-424a-948a-7f8e6847f1db-RaftLogWorker close()
2019-06-12 14:56:05,103 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown server with port 34543 now
2019-06-12 14:56:05,104 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - e3662219-110f-424a-948a-7f8e6847f1db: shutdown server with port 34543 successfully

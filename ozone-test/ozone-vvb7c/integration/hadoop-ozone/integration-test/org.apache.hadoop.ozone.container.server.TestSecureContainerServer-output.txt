2019-06-12 17:55:12,191 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 17:55:12,309 INFO  ozone.RatisTestHelper (RatisTestHelper.java:initRatisConf(109)) - dfs.container.ratis.rpc.type = GRPC
2019-06-12 17:55:12,384 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 17:55:12,395 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40931 (custom)
2019-06-12 17:55:12,397 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 17:55:12,399 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:12,400 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 17:55:12,401 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 17:55:12,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8] (custom)
2019-06-12 17:55:12,482 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 4da74c10-eb43-4062-9539-2392f0e6e0b8 at port 40931
2019-06-12 17:55:12,526 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: start RPC server
2019-06-12 17:55:12,528 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: GrpcService started, listening on 0.0.0.0/0.0.0.0:40931
2019-06-12 17:55:12,619 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: addNew group-B7D506EC655C:[4da74c10-eb43-4062-9539-2392f0e6e0b8:0.0.0.0:40931] returns group-B7D506EC655C:java.util.concurrent.CompletableFuture@66be3de1[Not completed]
2019-06-12 17:55:12,625 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: new RaftServerImpl for group-B7D506EC655C:[4da74c10-eb43-4062-9539-2392f0e6e0b8:0.0.0.0:40931] with ContainerStateMachine:uninitialized
2019-06-12 17:55:12,626 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 17:55:12,628 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 17:55:12,632 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 17:55:12,633 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 17:55:12,639 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C ConfigurationManager, init=-1: [4da74c10-eb43-4062-9539-2392f0e6e0b8:0.0.0.0:40931], old=null, confs=<EMPTY_MAP>
2019-06-12 17:55:12,639 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8] (custom)
2019-06-12 17:55:12,645 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8/45cd01ec-7f26-45b7-b990-b7d506ec655c does not exist. Creating ...
2019-06-12 17:55:12,653 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8/45cd01ec-7f26-45b7-b990-b7d506ec655c/in_use.lock acquired by nodename 3151@ozone-vvb7c-3239282013
2019-06-12 17:55:12,659 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8/45cd01ec-7f26-45b7-b990-b7d506ec655c has been successfully formatted.
2019-06-12 17:55:12,661 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 17:55:12,661 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 17:55:12,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 17:55:12,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:12,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:12,672 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 17:55:12,678 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 4da74c10-eb43-4062-9539-2392f0e6e0b8-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8/45cd01ec-7f26-45b7-b990-b7d506ec655c
2019-06-12 17:55:12,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 17:55:12,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 17:55:12,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:12,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 17:55:12,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 17:55:12,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 17:55:12,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 17:55:12,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 17:55:12,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 17:55:12,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 17:55:12,692 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 17:55:12,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 17:55:12,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 17:55:12,709 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: start group-B7D506EC655C
2019-06-12 17:55:12,710 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 17:55:12,711 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: start FollowerState
2019-06-12 17:55:12,760 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B7D506EC655C,id=4da74c10-eb43-4062-9539-2392f0e6e0b8
2019-06-12 17:55:12,846 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-0F7D1615B252->4da74c10-eb43-4062-9539-2392f0e6e0b8: receive RaftClientReply:client-0F7D1615B252->4da74c10-eb43-4062-9539-2392f0e6e0b8@group-B7D506EC655C, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4da74c10-eb43-4062-9539-2392f0e6e0b8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[4da74c10-eb43-4062-9539-2392f0e6e0b8:c-1]
2019-06-12 17:55:13,732 INFO  impl.FollowerState (FollowerState.java:run(101)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C changes to CANDIDATE, lastRpcTime:1021, electionTimeout:1021ms
2019-06-12 17:55:13,733 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: shutdown FollowerState
2019-06-12 17:55:13,733 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 17:55:13,734 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: start LeaderElection
2019-06-12 17:55:13,737 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C:LeaderElection1: begin an election at term 1 for -1: [4da74c10-eb43-4062-9539-2392f0e6e0b8:0.0.0.0:40931], old=null
2019-06-12 17:55:13,738 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: shutdown LeaderElection
2019-06-12 17:55:13,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 17:55:13,739 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C change Leader from null to 4da74c10-eb43-4062-9539-2392f0e6e0b8 at term 1 for becomeLeader, leader elected after 1077ms
2019-06-12 17:55:13,742 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 17:55:13,743 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 17:55:13,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 17:55:13,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 17:55:13,751 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: start LeaderState
2019-06-12 17:55:13,762 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8-RaftLogWorker: Starting segment from index:0
2019-06-12 17:55:13,771 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C set configuration 0: [4da74c10-eb43-4062-9539-2392f0e6e0b8:0.0.0.0:40931], old=null at 0
2019-06-12 17:55:13,934 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8/45cd01ec-7f26-45b7-b990-b7d506ec655c/current/log_inprogress_0
2019-06-12 17:55:14,934 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 17:55:14,941 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-0F7D1615B252->4da74c10-eb43-4062-9539-2392f0e6e0b8: receive RaftClientReply:client-0F7D1615B252->4da74c10-eb43-4062-9539-2392f0e6e0b8@group-B7D506EC655C, cid=1, SUCCESS, logIndex=1, commits[4da74c10-eb43-4062-9539-2392f0e6e0b8:c2]
2019-06-12 17:55:14,943 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 17:55:14,959 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-7A2EA3D857C8->4da74c10-eb43-4062-9539-2392f0e6e0b8: receive RaftClientReply:client-7A2EA3D857C8->4da74c10-eb43-4062-9539-2392f0e6e0b8@group-B7D506EC655C, cid=2, SUCCESS, logIndex=3, commits[4da74c10-eb43-4062-9539-2392f0e6e0b8:c4]
2019-06-12 17:55:14,964 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: close
2019-06-12 17:55:14,966 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: shutdown group-B7D506EC655C
2019-06-12 17:55:14,966 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B7D506EC655C,id=4da74c10-eb43-4062-9539-2392f0e6e0b8
2019-06-12 17:55:14,967 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: shutdown LeaderState
2019-06-12 17:55:14,967 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8-PendingRequests: sendNotLeaderResponses
2019-06-12 17:55:14,968 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 17:55:14,970 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-4da74c10-eb43-4062-9539-2392f0e6e0b8-group-B7D506EC655C: set stopIndex = 4
2019-06-12 17:55:14,970 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:4)
2019-06-12 17:55:14,970 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4da74c10-eb43-4062-9539-2392f0e6e0b8/45cd01ec-7f26-45b7-b990-b7d506ec655c/sm/snapshot.1_4
2019-06-12 17:55:14,980 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8:group-B7D506EC655C closes. The last applied log index is 4
2019-06-12 17:55:14,981 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 17:55:14,982 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8-RaftLogWorker close()
2019-06-12 17:55:14,984 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: shutdown server with port 40931 now
2019-06-12 17:55:14,987 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 4da74c10-eb43-4062-9539-2392f0e6e0b8: shutdown server with port 40931 successfully
2019-06-12 17:55:15,025 INFO  ozone.RatisTestHelper (RatisTestHelper.java:initRatisConf(109)) - dfs.container.ratis.rpc.type = GRPC
2019-06-12 17:55:15,030 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 17:55:15,030 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 38821 (custom)
2019-06-12 17:55:15,032 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 17:55:15,032 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:15,034 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 17:55:15,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 17:55:15,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d] (custom)
2019-06-12 17:55:15,036 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 7167a0ef-7760-43d1-b937-8e571d85855d at port 38821
2019-06-12 17:55:15,043 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 7167a0ef-7760-43d1-b937-8e571d85855d: start RPC server
2019-06-12 17:55:15,045 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 7167a0ef-7760-43d1-b937-8e571d85855d: GrpcService started, listening on 0.0.0.0/0.0.0.0:38821
Jun 12, 2019 5:55:15 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=17, target=0.0.0.0:40931} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 12, 2019 5:55:15 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=9, target=0.0.0.0:45271} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connectToDatanode(XceiverClientGrpc.java:163)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connect(XceiverClientGrpc.java:120)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:227)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServer(TestSecureContainerServer.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2019-06-12 17:55:15,142 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 7167a0ef-7760-43d1-b937-8e571d85855d: addNew group-607CE1D60FE7:[7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501] returns group-607CE1D60FE7:java.util.concurrent.CompletableFuture@696e2bc6[Not completed]
2019-06-12 17:55:15,147 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 7167a0ef-7760-43d1-b937-8e571d85855d: new RaftServerImpl for group-607CE1D60FE7:[7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501] with ContainerStateMachine:uninitialized
2019-06-12 17:55:15,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 17:55:15,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 17:55:15,148 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 17:55:15,148 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 17:55:15,148 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 ConfigurationManager, init=-1: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null, confs=<EMPTY_MAP>
2019-06-12 17:55:15,148 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d] (custom)
2019-06-12 17:55:15,148 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7 does not exist. Creating ...
2019-06-12 17:55:15,151 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/in_use.lock acquired by nodename 3151@ozone-vvb7c-3239282013
2019-06-12 17:55:15,153 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7 has been successfully formatted.
2019-06-12 17:55:15,153 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 17:55:15,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 17:55:15,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 17:55:15,154 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 7167a0ef-7760-43d1-b937-8e571d85855d-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 17:55:15,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 17:55:15,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 17:55:15,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 17:55:15,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 17:55:15,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 17:55:15,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 17:55:15,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 17:55:15,156 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 17:55:15,156 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 17:55:15,156 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 7167a0ef-7760-43d1-b937-8e571d85855d: start group-607CE1D60FE7
2019-06-12 17:55:15,156 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 17:55:15,156 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 7167a0ef-7760-43d1-b937-8e571d85855d: start FollowerState
2019-06-12 17:55:15,157 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-607CE1D60FE7,id=7167a0ef-7760-43d1-b937-8e571d85855d
2019-06-12 17:55:15,162 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 17:55:15,162 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 34501 (custom)
2019-06-12 17:55:15,162 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 17:55:15,163 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:15,163 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 17:55:15,163 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 17:55:15,164 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4] (custom)
2019-06-12 17:55:15,164 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 1b2cbc3b-1197-460f-985f-0b07a8c4bee4 at port 34501
2019-06-12 17:55:15,173 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: start RPC server
2019-06-12 17:55:15,175 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: GrpcService started, listening on 0.0.0.0/0.0.0.0:34501
2019-06-12 17:55:15,203 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: addNew group-607CE1D60FE7:[7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501] returns group-607CE1D60FE7:java.util.concurrent.CompletableFuture@32007d2b[Not completed]
2019-06-12 17:55:15,204 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: new RaftServerImpl for group-607CE1D60FE7:[7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501] with ContainerStateMachine:uninitialized
2019-06-12 17:55:15,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 17:55:15,205 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 17:55:15,205 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 17:55:15,205 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 17:55:15,205 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:group-607CE1D60FE7 ConfigurationManager, init=-1: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null, confs=<EMPTY_MAP>
2019-06-12 17:55:15,205 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4] (custom)
2019-06-12 17:55:15,206 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7 does not exist. Creating ...
2019-06-12 17:55:15,208 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/in_use.lock acquired by nodename 3151@ozone-vvb7c-3239282013
2019-06-12 17:55:15,210 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7 has been successfully formatted.
2019-06-12 17:55:15,210 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 17:55:15,210 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 17:55:15,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 17:55:15,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:15,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:15,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 17:55:15,211 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 1b2cbc3b-1197-460f-985f-0b07a8c4bee4-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7
2019-06-12 17:55:15,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 17:55:15,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 17:55:15,211 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:15,212 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 17:55:15,212 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 17:55:15,212 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 17:55:15,212 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 17:55:15,212 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 17:55:15,212 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 17:55:15,213 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 17:55:15,215 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 17:55:15,216 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 17:55:15,216 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 17:55:15,216 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: start group-607CE1D60FE7
2019-06-12 17:55:15,216 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:group-607CE1D60FE7 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 17:55:15,216 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: start FollowerState
2019-06-12 17:55:15,219 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-607CE1D60FE7,id=1b2cbc3b-1197-460f-985f-0b07a8c4bee4
2019-06-12 17:55:15,224 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 17:55:15,224 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 34109 (custom)
2019-06-12 17:55:15,224 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 17:55:15,225 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:15,225 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 17:55:15,225 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 17:55:15,226 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f] (custom)
2019-06-12 17:55:15,226 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 897f7d6a-27e3-4810-85fc-0f727f028d0f at port 34109
2019-06-12 17:55:15,252 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: start RPC server
2019-06-12 17:55:15,253 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: GrpcService started, listening on 0.0.0.0/0.0.0.0:34109
2019-06-12 17:55:15,294 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: addNew group-607CE1D60FE7:[7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501] returns group-607CE1D60FE7:java.util.concurrent.CompletableFuture@70209ac2[Not completed]
2019-06-12 17:55:15,296 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: new RaftServerImpl for group-607CE1D60FE7:[7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501] with ContainerStateMachine:uninitialized
2019-06-12 17:55:15,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 17:55:15,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 17:55:15,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 17:55:15,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 17:55:15,298 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f:group-607CE1D60FE7 ConfigurationManager, init=-1: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null, confs=<EMPTY_MAP>
2019-06-12 17:55:15,298 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f] (custom)
2019-06-12 17:55:15,298 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7 does not exist. Creating ...
2019-06-12 17:55:15,301 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/in_use.lock acquired by nodename 3151@ozone-vvb7c-3239282013
2019-06-12 17:55:15,304 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7 has been successfully formatted.
2019-06-12 17:55:15,304 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 17:55:15,304 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 17:55:15,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 17:55:15,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:15,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:15,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 17:55:15,305 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 897f7d6a-27e3-4810-85fc-0f727f028d0f-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7
2019-06-12 17:55:15,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 17:55:15,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 17:55:15,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 17:55:15,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 17:55:15,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 17:55:15,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 17:55:15,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 17:55:15,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 17:55:15,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 17:55:15,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 17:55:15,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 17:55:15,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 17:55:15,309 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 17:55:15,310 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: start group-607CE1D60FE7
2019-06-12 17:55:15,310 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f:group-607CE1D60FE7 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 17:55:15,310 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: start FollowerState
2019-06-12 17:55:15,311 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-607CE1D60FE7,id=897f7d6a-27e3-4810-85fc-0f727f028d0f
2019-06-12 17:55:15,331 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-44F559EAC3A7->7167a0ef-7760-43d1-b937-8e571d85855d: receive RaftClientReply:client-44F559EAC3A7->7167a0ef-7760-43d1-b937-8e571d85855d@group-607CE1D60FE7, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server 7167a0ef-7760-43d1-b937-8e571d85855d is not the leader (1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501). Request must be sent to leader., logIndex=0, commits[7167a0ef-7760-43d1-b937-8e571d85855d:c-1]
2019-06-12 17:55:15,338 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 17:55:16,309 INFO  impl.FollowerState (FollowerState.java:run(101)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 changes to CANDIDATE, lastRpcTime:1153, electionTimeout:1153ms
2019-06-12 17:55:16,310 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 7167a0ef-7760-43d1-b937-8e571d85855d: shutdown FollowerState
2019-06-12 17:55:16,311 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 17:55:16,311 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 7167a0ef-7760-43d1-b937-8e571d85855d: start LeaderElection
2019-06-12 17:55:16,316 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7:LeaderElection2: begin an election at term 1 for -1: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null
2019-06-12 17:55:16,364 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f:group-607CE1D60FE7 changes role from FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:7167a0ef-7760-43d1-b937-8e571d85855d
2019-06-12 17:55:16,365 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: shutdown FollowerState
2019-06-12 17:55:16,365 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: start FollowerState
2019-06-12 17:55:16,365 INFO  impl.FollowerState (FollowerState.java:run(109)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 17:55:16,366 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:group-607CE1D60FE7 changes role from FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:7167a0ef-7760-43d1-b937-8e571d85855d
2019-06-12 17:55:16,366 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: shutdown FollowerState
2019-06-12 17:55:16,366 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: start FollowerState
2019-06-12 17:55:16,366 INFO  impl.FollowerState (FollowerState.java:run(109)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 17:55:16,388 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7:LeaderElection2: Election PASSED; received 1 response(s) [7167a0ef-7760-43d1-b937-8e571d85855d->1b2cbc3b-1197-460f-985f-0b07a8c4bee4,true-t1] and 0 exception(s); 7167a0ef-7760-43d1-b937-8e571d85855d:t1, leader=null, voted=7167a0ef-7760-43d1-b937-8e571d85855d, raftlog=7167a0ef-7760-43d1-b937-8e571d85855d-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null
2019-06-12 17:55:16,388 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 7167a0ef-7760-43d1-b937-8e571d85855d: shutdown LeaderElection
2019-06-12 17:55:16,388 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 17:55:16,388 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 change Leader from null to 7167a0ef-7760-43d1-b937-8e571d85855d at term 1 for becomeLeader, leader elected after 1235ms
2019-06-12 17:55:16,396 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 17:55:16,396 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 17:55:16,397 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 17:55:16,397 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 17:55:16,399 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-06-12 17:55:16,399 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:16,400 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2019-06-12 17:55:16,402 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-44F559EAC3A7->1b2cbc3b-1197-460f-985f-0b07a8c4bee4: receive RaftClientReply:client-44F559EAC3A7->1b2cbc3b-1197-460f-985f-0b07a8c4bee4@group-607CE1D60FE7, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server 1b2cbc3b-1197-460f-985f-0b07a8c4bee4 is not the leader (7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821). Request must be sent to leader., logIndex=0, commits[1b2cbc3b-1197-460f-985f-0b07a8c4bee4:c-1]
2019-06-12 17:55:16,404 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-06-12 17:55:16,407 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 17:55:16,407 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 17:55:16,415 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 17:55:16,415 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-06-12 17:55:16,415 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 17:55:16,415 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2019-06-12 17:55:16,415 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-06-12 17:55:16,416 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 17:55:16,416 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 17:55:16,416 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 7167a0ef-7760-43d1-b937-8e571d85855d: start LeaderState
2019-06-12 17:55:16,416 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 7167a0ef-7760-43d1-b937-8e571d85855d-RaftLogWorker: Starting segment from index:0
2019-06-12 17:55:16,439 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 set configuration 0: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null at 0
2019-06-12 17:55:16,473 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:group-607CE1D60FE7 change Leader from null to 7167a0ef-7760-43d1-b937-8e571d85855d at term 1 for appendEntries, leader elected after 1262ms
2019-06-12 17:55:16,474 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 7167a0ef-7760-43d1-b937-8e571d85855d-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/current/log_inprogress_0
2019-06-12 17:55:16,474 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f:group-607CE1D60FE7 change Leader from null to 7167a0ef-7760-43d1-b937-8e571d85855d at term 1 for appendEntries, leader elected after 1169ms
2019-06-12 17:55:16,512 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:group-607CE1D60FE7 set configuration 0: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null at 0
2019-06-12 17:55:16,512 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4-RaftLogWorker: Starting segment from index:0
2019-06-12 17:55:16,512 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f:group-607CE1D60FE7 set configuration 0: [7167a0ef-7760-43d1-b937-8e571d85855d:0.0.0.0:38821, 897f7d6a-27e3-4810-85fc-0f727f028d0f:0.0.0.0:34109, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:0.0.0.0:34501], old=null at 0
2019-06-12 17:55:16,513 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f-RaftLogWorker: Starting segment from index:0
2019-06-12 17:55:16,562 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/current/log_inprogress_0
2019-06-12 17:55:16,563 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/current/log_inprogress_0
2019-06-12 17:55:17,439 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 17:55:17,444 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 17:55:17,461 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 17:55:17,467 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-44F559EAC3A7->7167a0ef-7760-43d1-b937-8e571d85855d: receive RaftClientReply:client-44F559EAC3A7->7167a0ef-7760-43d1-b937-8e571d85855d@group-607CE1D60FE7, cid=6, SUCCESS, logIndex=1, commits[7167a0ef-7760-43d1-b937-8e571d85855d:c1, 897f7d6a-27e3-4810-85fc-0f727f028d0f:c0, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:c0]
2019-06-12 17:55:17,468 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 17:55:17,518 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-3EA573F157A4->7167a0ef-7760-43d1-b937-8e571d85855d: receive RaftClientReply:client-3EA573F157A4->7167a0ef-7760-43d1-b937-8e571d85855d@group-607CE1D60FE7, cid=7, SUCCESS, logIndex=3, commits[7167a0ef-7760-43d1-b937-8e571d85855d:c3, 897f7d6a-27e3-4810-85fc-0f727f028d0f:c2, 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:c1]
2019-06-12 17:55:17,527 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 7167a0ef-7760-43d1-b937-8e571d85855d: close
2019-06-12 17:55:17,527 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 7167a0ef-7760-43d1-b937-8e571d85855d: shutdown group-607CE1D60FE7
2019-06-12 17:55:17,528 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-607CE1D60FE7,id=7167a0ef-7760-43d1-b937-8e571d85855d
2019-06-12 17:55:17,528 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 7167a0ef-7760-43d1-b937-8e571d85855d: shutdown LeaderState
2019-06-12 17:55:17,528 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 7167a0ef-7760-43d1-b937-8e571d85855d-PendingRequests: sendNotLeaderResponses
2019-06-12 17:55:17,531 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(142)) - GrpcLogAppender(7167a0ef-7760-43d1-b937-8e571d85855d -> 897f7d6a-27e3-4810-85fc-0f727f028d0f): Wait interrupted by java.lang.InterruptedException
2019-06-12 17:55:17,531 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(142)) - GrpcLogAppender(7167a0ef-7760-43d1-b937-8e571d85855d -> 1b2cbc3b-1197-460f-985f-0b07a8c4bee4): Wait interrupted by java.lang.InterruptedException
2019-06-12 17:55:17,534 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-7167a0ef-7760-43d1-b937-8e571d85855d-group-607CE1D60FE7: set stopIndex = 4
2019-06-12 17:55:17,534 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:3)
2019-06-12 17:55:17,539 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/7167a0ef-7760-43d1-b937-8e571d85855d/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/sm/snapshot.1_3
2019-06-12 17:55:17,539 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(104)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: appendEntries completed
2019-06-12 17:55:17,540 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(104)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: appendEntries completed
2019-06-12 17:55:17,541 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 7167a0ef-7760-43d1-b937-8e571d85855d:group-607CE1D60FE7 closes. The last applied log index is 4
2019-06-12 17:55:17,550 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 7167a0ef-7760-43d1-b937-8e571d85855d-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 17:55:17,554 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(277)) - 7167a0ef-7760-43d1-b937-8e571d85855d: follower 7167a0ef-7760-43d1-b937-8e571d85855d->1b2cbc3b-1197-460f-985f-0b07a8c4bee4(c3,m4,n5, attendVote=true, lastRpcSendTime=57, lastRpcResponseTime=48) response Completed
2019-06-12 17:55:17,559 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(277)) - 7167a0ef-7760-43d1-b937-8e571d85855d: follower 7167a0ef-7760-43d1-b937-8e571d85855d->897f7d6a-27e3-4810-85fc-0f727f028d0f(c3,m4,n5, attendVote=true, lastRpcSendTime=61, lastRpcResponseTime=53) response Completed
2019-06-12 17:55:17,561 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(50)) - 7167a0ef-7760-43d1-b937-8e571d85855d->1b2cbc3b-1197-460f-985f-0b07a8c4bee4: nextIndex: updateUnconditionally 5 -> -1
2019-06-12 17:55:17,563 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 7167a0ef-7760-43d1-b937-8e571d85855d-RaftLogWorker close()
2019-06-12 17:55:17,564 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(50)) - 7167a0ef-7760-43d1-b937-8e571d85855d->897f7d6a-27e3-4810-85fc-0f727f028d0f: nextIndex: updateUnconditionally 5 -> -1
2019-06-12 17:55:17,565 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 7167a0ef-7760-43d1-b937-8e571d85855d: shutdown server with port 38821 now
2019-06-12 17:55:17,568 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 7167a0ef-7760-43d1-b937-8e571d85855d: shutdown server with port 38821 successfully
2019-06-12 17:55:17,583 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: close
2019-06-12 17:55:17,583 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: shutdown group-607CE1D60FE7
2019-06-12 17:55:17,583 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-607CE1D60FE7,id=1b2cbc3b-1197-460f-985f-0b07a8c4bee4
2019-06-12 17:55:17,584 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: shutdown FollowerState
2019-06-12 17:55:17,584 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-1b2cbc3b-1197-460f-985f-0b07a8c4bee4-group-607CE1D60FE7: set stopIndex = 3
2019-06-12 17:55:17,584 INFO  impl.FollowerState (FollowerState.java:run(109)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 17:55:17,585 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:3)
2019-06-12 17:55:17,586 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/1b2cbc3b-1197-460f-985f-0b07a8c4bee4/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/sm/snapshot.1_3
2019-06-12 17:55:17,589 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4:group-607CE1D60FE7 closes. The last applied log index is 3
2019-06-12 17:55:17,590 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 17:55:17,591 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4-RaftLogWorker close()
2019-06-12 17:55:17,591 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: shutdown server with port 34501 now
2019-06-12 17:55:17,594 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 1b2cbc3b-1197-460f-985f-0b07a8c4bee4: shutdown server with port 34501 successfully
2019-06-12 17:55:17,598 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: close
2019-06-12 17:55:17,598 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: shutdown group-607CE1D60FE7
2019-06-12 17:55:17,599 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-607CE1D60FE7,id=897f7d6a-27e3-4810-85fc-0f727f028d0f
2019-06-12 17:55:17,599 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: shutdown FollowerState
2019-06-12 17:55:17,599 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-897f7d6a-27e3-4810-85fc-0f727f028d0f-group-607CE1D60FE7: set stopIndex = 3
2019-06-12 17:55:17,603 INFO  impl.FollowerState (FollowerState.java:run(109)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 17:55:17,603 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:3)
2019-06-12 17:55:17,603 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/897f7d6a-27e3-4810-85fc-0f727f028d0f/dbcc02a1-a0db-49cd-ba8f-607ce1d60fe7/sm/snapshot.1_3
2019-06-12 17:55:17,604 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f:group-607CE1D60FE7 closes. The last applied log index is 3
2019-06-12 17:55:17,607 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 17:55:17,609 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f-RaftLogWorker close()
2019-06-12 17:55:17,610 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: shutdown server with port 34109 now
2019-06-12 17:55:17,612 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 897f7d6a-27e3-4810-85fc-0f727f028d0f: shutdown server with port 34109 successfully

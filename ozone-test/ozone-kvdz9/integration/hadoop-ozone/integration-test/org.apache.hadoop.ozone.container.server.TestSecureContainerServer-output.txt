2019-06-12 21:03:23,241 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 21:03:23,338 INFO  ozone.RatisTestHelper (RatisTestHelper.java:initRatisConf(109)) - dfs.container.ratis.rpc.type = GRPC
2019-06-12 21:03:23,396 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 21:03:23,404 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44467 (custom)
2019-06-12 21:03:23,405 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 21:03:23,407 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:23,408 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 21:03:23,409 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 21:03:23,454 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4] (custom)
2019-06-12 21:03:23,458 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis c4832fa3-0572-4108-a6c9-4d1555af8cc4 at port 44467
2019-06-12 21:03:23,491 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: start RPC server
2019-06-12 21:03:23,492 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: GrpcService started, listening on 0.0.0.0/0.0.0.0:44467
2019-06-12 21:03:23,561 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: addNew group-34DEC9EAD39B:[c4832fa3-0572-4108-a6c9-4d1555af8cc4:0.0.0.0:44467] returns group-34DEC9EAD39B:java.util.concurrent.CompletableFuture@45d56b63[Not completed]
2019-06-12 21:03:23,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: new RaftServerImpl for group-34DEC9EAD39B:[c4832fa3-0572-4108-a6c9-4d1555af8cc4:0.0.0.0:44467] with ContainerStateMachine:uninitialized
2019-06-12 21:03:23,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 21:03:23,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 21:03:23,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 21:03:23,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 21:03:23,575 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B ConfigurationManager, init=-1: [c4832fa3-0572-4108-a6c9-4d1555af8cc4:0.0.0.0:44467], old=null, confs=<EMPTY_MAP>
2019-06-12 21:03:23,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4] (custom)
2019-06-12 21:03:23,580 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4/484e0a0e-9fe5-4976-b531-34dec9ead39b does not exist. Creating ...
2019-06-12 21:03:23,588 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4/484e0a0e-9fe5-4976-b531-34dec9ead39b/in_use.lock acquired by nodename 3597@ozone-kvdz9-1409474171
2019-06-12 21:03:23,595 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4/484e0a0e-9fe5-4976-b531-34dec9ead39b has been successfully formatted.
2019-06-12 21:03:23,596 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 21:03:23,597 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 21:03:23,598 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 21:03:23,600 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:23,602 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:23,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 21:03:23,609 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new c4832fa3-0572-4108-a6c9-4d1555af8cc4-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4/484e0a0e-9fe5-4976-b531-34dec9ead39b
2019-06-12 21:03:23,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 21:03:23,610 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 21:03:23,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:23,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 21:03:23,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 21:03:23,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 21:03:23,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 21:03:23,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 21:03:23,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 21:03:23,616 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 21:03:23,621 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 21:03:23,622 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 21:03:23,622 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 21:03:23,635 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: start group-34DEC9EAD39B
2019-06-12 21:03:23,636 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 21:03:23,637 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: start FollowerState
2019-06-12 21:03:23,681 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-34DEC9EAD39B,id=c4832fa3-0572-4108-a6c9-4d1555af8cc4
2019-06-12 21:03:23,733 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-3EF934E38ADE->c4832fa3-0572-4108-a6c9-4d1555af8cc4: receive RaftClientReply:client-3EF934E38ADE->c4832fa3-0572-4108-a6c9-4d1555af8cc4@group-34DEC9EAD39B, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server c4832fa3-0572-4108-a6c9-4d1555af8cc4 is not the leader (null). Request must be sent to leader., logIndex=0, commits[c4832fa3-0572-4108-a6c9-4d1555af8cc4:c-1]
2019-06-12 21:03:24,741 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-3EF934E38ADE->c4832fa3-0572-4108-a6c9-4d1555af8cc4: receive RaftClientReply:client-3EF934E38ADE->c4832fa3-0572-4108-a6c9-4d1555af8cc4@group-34DEC9EAD39B, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server c4832fa3-0572-4108-a6c9-4d1555af8cc4 is not the leader (null). Request must be sent to leader., logIndex=0, commits[c4832fa3-0572-4108-a6c9-4d1555af8cc4:c-1]
2019-06-12 21:03:24,797 INFO  impl.FollowerState (FollowerState.java:run(101)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B changes to CANDIDATE, lastRpcTime:1159, electionTimeout:1159ms
2019-06-12 21:03:24,797 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: shutdown FollowerState
2019-06-12 21:03:24,797 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 21:03:24,798 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: start LeaderElection
2019-06-12 21:03:24,801 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B:LeaderElection1: begin an election at term 1 for -1: [c4832fa3-0572-4108-a6c9-4d1555af8cc4:0.0.0.0:44467], old=null
2019-06-12 21:03:24,802 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: shutdown LeaderElection
2019-06-12 21:03:24,802 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 21:03:24,803 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B change Leader from null to c4832fa3-0572-4108-a6c9-4d1555af8cc4 at term 1 for becomeLeader, leader elected after 1206ms
2019-06-12 21:03:24,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 21:03:24,807 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 21:03:24,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 21:03:24,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 21:03:24,816 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: start LeaderState
2019-06-12 21:03:24,829 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4-RaftLogWorker: Starting segment from index:0
2019-06-12 21:03:24,838 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B set configuration 0: [c4832fa3-0572-4108-a6c9-4d1555af8cc4:0.0.0.0:44467], old=null at 0
2019-06-12 21:03:24,971 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4/484e0a0e-9fe5-4976-b531-34dec9ead39b/current/log_inprogress_0
2019-06-12 21:03:25,756 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 21:03:25,760 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-3EF934E38ADE->c4832fa3-0572-4108-a6c9-4d1555af8cc4: receive RaftClientReply:client-3EF934E38ADE->c4832fa3-0572-4108-a6c9-4d1555af8cc4@group-34DEC9EAD39B, cid=1, SUCCESS, logIndex=1, commits[c4832fa3-0572-4108-a6c9-4d1555af8cc4:c2]
2019-06-12 21:03:25,762 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 21:03:25,781 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-943FA4A5584E->c4832fa3-0572-4108-a6c9-4d1555af8cc4: receive RaftClientReply:client-943FA4A5584E->c4832fa3-0572-4108-a6c9-4d1555af8cc4@group-34DEC9EAD39B, cid=2, SUCCESS, logIndex=3, commits[c4832fa3-0572-4108-a6c9-4d1555af8cc4:c3]
2019-06-12 21:03:25,788 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 21:03:25,788 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 1-OrderedRequestStreamObserver1: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 21:03:25,788 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: close
2019-06-12 21:03:25,789 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: shutdown group-34DEC9EAD39B
2019-06-12 21:03:25,790 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-34DEC9EAD39B,id=c4832fa3-0572-4108-a6c9-4d1555af8cc4
2019-06-12 21:03:25,790 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: shutdown LeaderState
2019-06-12 21:03:25,790 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4-PendingRequests: sendNotLeaderResponses
2019-06-12 21:03:25,793 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-c4832fa3-0572-4108-a6c9-4d1555af8cc4-group-34DEC9EAD39B: set stopIndex = 4
2019-06-12 21:03:25,793 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:3)
2019-06-12 21:03:25,798 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/c4832fa3-0572-4108-a6c9-4d1555af8cc4/484e0a0e-9fe5-4976-b531-34dec9ead39b/sm/snapshot.1_3
2019-06-12 21:03:25,804 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4:group-34DEC9EAD39B closes. The last applied log index is 4
2019-06-12 21:03:25,805 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 21:03:25,806 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4-RaftLogWorker close()
2019-06-12 21:03:25,807 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: shutdown server with port 44467 now
2019-06-12 21:03:25,809 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - c4832fa3-0572-4108-a6c9-4d1555af8cc4: shutdown server with port 44467 successfully
2019-06-12 21:03:25,831 INFO  ozone.RatisTestHelper (RatisTestHelper.java:initRatisConf(109)) - dfs.container.ratis.rpc.type = GRPC
2019-06-12 21:03:25,832 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 21:03:25,833 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44767 (custom)
2019-06-12 21:03:25,833 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 21:03:25,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:25,834 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 21:03:25,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 21:03:25,835 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928] (custom)
2019-06-12 21:03:25,835 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 723833f3-b4ae-49cb-89f6-a7d1640bb928 at port 44767
2019-06-12 21:03:25,850 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: start RPC server
2019-06-12 21:03:25,854 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: GrpcService started, listening on 0.0.0.0/0.0.0.0:44767
Jun 12, 2019 9:03:25 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=17, target=0.0.0.0:44467} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 12, 2019 9:03:25 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=9, target=0.0.0.0:35907} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connectToDatanode(XceiverClientGrpc.java:163)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connect(XceiverClientGrpc.java:120)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:227)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServer(TestSecureContainerServer.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2019-06-12 21:03:25,878 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: addNew group-9AA8112262AA:[dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767] returns group-9AA8112262AA:java.util.concurrent.CompletableFuture@16742834[Not completed]
2019-06-12 21:03:25,882 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: new RaftServerImpl for group-9AA8112262AA:[dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767] with ContainerStateMachine:uninitialized
2019-06-12 21:03:25,882 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 21:03:25,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 21:03:25,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 21:03:25,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 21:03:25,883 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA ConfigurationManager, init=-1: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null, confs=<EMPTY_MAP>
2019-06-12 21:03:25,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928] (custom)
2019-06-12 21:03:25,884 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa does not exist. Creating ...
2019-06-12 21:03:25,886 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/in_use.lock acquired by nodename 3597@ozone-kvdz9-1409474171
2019-06-12 21:03:25,888 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa has been successfully formatted.
2019-06-12 21:03:25,888 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 21:03:25,888 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 21:03:25,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 21:03:25,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:25,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:25,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 21:03:25,889 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 723833f3-b4ae-49cb-89f6-a7d1640bb928-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa
2019-06-12 21:03:25,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 21:03:25,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 21:03:25,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:25,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 21:03:25,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 21:03:25,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 21:03:25,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 21:03:25,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 21:03:25,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 21:03:25,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 21:03:25,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 21:03:25,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 21:03:25,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 21:03:25,891 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: start group-9AA8112262AA
2019-06-12 21:03:25,892 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 21:03:25,892 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: start FollowerState
2019-06-12 21:03:25,893 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AA8112262AA,id=723833f3-b4ae-49cb-89f6-a7d1640bb928
2019-06-12 21:03:25,896 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 21:03:25,897 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33627 (custom)
2019-06-12 21:03:25,897 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 21:03:25,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:25,897 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 21:03:25,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 21:03:25,898 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50] (custom)
2019-06-12 21:03:25,898 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 4c9015e1-933f-4a1d-847f-e42db7891d50 at port 33627
2019-06-12 21:03:25,933 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: start RPC server
2019-06-12 21:03:25,936 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: GrpcService started, listening on 0.0.0.0/0.0.0.0:33627
2019-06-12 21:03:25,962 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: addNew group-9AA8112262AA:[dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767] returns group-9AA8112262AA:java.util.concurrent.CompletableFuture@75c18192[Not completed]
2019-06-12 21:03:25,962 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: new RaftServerImpl for group-9AA8112262AA:[dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767] with ContainerStateMachine:uninitialized
2019-06-12 21:03:25,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 21:03:25,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 21:03:25,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 21:03:25,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 21:03:25,964 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA ConfigurationManager, init=-1: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null, confs=<EMPTY_MAP>
2019-06-12 21:03:25,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50] (custom)
2019-06-12 21:03:25,964 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa does not exist. Creating ...
2019-06-12 21:03:25,967 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/in_use.lock acquired by nodename 3597@ozone-kvdz9-1409474171
2019-06-12 21:03:25,969 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa has been successfully formatted.
2019-06-12 21:03:25,969 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 21:03:25,969 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 21:03:25,970 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 21:03:25,970 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:25,970 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:25,970 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 21:03:25,970 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 4c9015e1-933f-4a1d-847f-e42db7891d50-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa
2019-06-12 21:03:25,970 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 21:03:25,970 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 21:03:25,971 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 21:03:25,972 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 21:03:25,972 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 21:03:25,972 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 21:03:25,972 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: start group-9AA8112262AA
2019-06-12 21:03:25,973 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 21:03:25,973 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: start FollowerState
2019-06-12 21:03:25,974 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AA8112262AA,id=4c9015e1-933f-4a1d-847f-e42db7891d50
2019-06-12 21:03:25,980 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-12 21:03:25,981 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42037 (custom)
2019-06-12 21:03:25,981 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-12 21:03:25,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:25,981 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-12 21:03:25,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 21:03:25,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0] (custom)
2019-06-12 21:03:25,982 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis dbbf6597-a240-4f8f-bdbc-6e1128e852c0 at port 42037
2019-06-12 21:03:25,990 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: start RPC server
2019-06-12 21:03:25,991 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: GrpcService started, listening on 0.0.0.0/0.0.0.0:42037
2019-06-12 21:03:26,014 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: addNew group-9AA8112262AA:[dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767] returns group-9AA8112262AA:java.util.concurrent.CompletableFuture@5fce93d0[Not completed]
2019-06-12 21:03:26,014 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: new RaftServerImpl for group-9AA8112262AA:[dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767] with ContainerStateMachine:uninitialized
2019-06-12 21:03:26,015 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-12 21:03:26,015 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-12 21:03:26,015 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-12 21:03:26,015 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 21:03:26,016 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0:group-9AA8112262AA ConfigurationManager, init=-1: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null, confs=<EMPTY_MAP>
2019-06-12 21:03:26,016 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0] (custom)
2019-06-12 21:03:26,016 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa does not exist. Creating ...
2019-06-12 21:03:26,019 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/in_use.lock acquired by nodename 3597@ozone-kvdz9-1409474171
2019-06-12 21:03:26,021 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa has been successfully formatted.
2019-06-12 21:03:26,021 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-12 21:03:26,021 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-12 21:03:26,021 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-12 21:03:26,021 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:26,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:26,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-12 21:03:26,022 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new dbbf6597-a240-4f8f-bdbc-6e1128e852c0-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa
2019-06-12 21:03:26,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-12 21:03:26,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-12 21:03:26,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-12 21:03:26,022 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-12 21:03:26,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-12 21:03:26,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-12 21:03:26,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-12 21:03:26,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-12 21:03:26,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-12 21:03:26,023 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-12 21:03:26,024 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-12 21:03:26,025 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-12 21:03:26,025 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-12 21:03:26,025 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: start group-9AA8112262AA
2019-06-12 21:03:26,025 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0:group-9AA8112262AA changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-12 21:03:26,025 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: start FollowerState
2019-06-12 21:03:26,025 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AA8112262AA,id=dbbf6597-a240-4f8f-bdbc-6e1128e852c0
2019-06-12 21:03:26,038 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-15F332A3E631->723833f3-b4ae-49cb-89f6-a7d1640bb928: receive RaftClientReply:client-15F332A3E631->723833f3-b4ae-49cb-89f6-a7d1640bb928@group-9AA8112262AA, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server 723833f3-b4ae-49cb-89f6-a7d1640bb928 is not the leader (4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627). Request must be sent to leader., logIndex=0, commits[723833f3-b4ae-49cb-89f6-a7d1640bb928:c-1]
2019-06-12 21:03:26,040 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 21:03:27,015 INFO  impl.FollowerState (FollowerState.java:run(101)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA changes to CANDIDATE, lastRpcTime:1123, electionTimeout:1123ms
2019-06-12 21:03:27,016 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: shutdown FollowerState
2019-06-12 21:03:27,016 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 21:03:27,016 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: start LeaderElection
2019-06-12 21:03:27,019 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA:LeaderElection2: begin an election at term 1 for -1: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null
2019-06-12 21:03:27,023 INFO  impl.FollowerState (FollowerState.java:run(101)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA changes to CANDIDATE, lastRpcTime:1050, electionTimeout:1050ms
2019-06-12 21:03:27,024 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: shutdown FollowerState
2019-06-12 21:03:27,024 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-12 21:03:27,024 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: start LeaderElection
2019-06-12 21:03:27,031 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA:LeaderElection3: begin an election at term 1 for -1: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null
2019-06-12 21:03:27,044 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0:group-9AA8112262AA changes role from FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:723833f3-b4ae-49cb-89f6-a7d1640bb928
2019-06-12 21:03:27,044 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: shutdown FollowerState
2019-06-12 21:03:27,045 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: start FollowerState
2019-06-12 21:03:27,045 INFO  impl.FollowerState (FollowerState.java:run(109)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 21:03:27,061 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA:LeaderElection2: Election PASSED; received 2 response(s) [723833f3-b4ae-49cb-89f6-a7d1640bb928->dbbf6597-a240-4f8f-bdbc-6e1128e852c0,true-t1, 723833f3-b4ae-49cb-89f6-a7d1640bb928->4c9015e1-933f-4a1d-847f-e42db7891d50,false-t1] and 0 exception(s); 723833f3-b4ae-49cb-89f6-a7d1640bb928:t1, leader=null, voted=723833f3-b4ae-49cb-89f6-a7d1640bb928, raftlog=723833f3-b4ae-49cb-89f6-a7d1640bb928-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null
2019-06-12 21:03:27,062 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: shutdown LeaderElection
2019-06-12 21:03:27,062 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-12 21:03:27,062 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA change Leader from null to 723833f3-b4ae-49cb-89f6-a7d1640bb928 at term 1 for becomeLeader, leader elected after 1173ms
2019-06-12 21:03:27,062 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-12 21:03:27,062 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-12 21:03:27,063 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-12 21:03:27,063 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-12 21:03:27,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-06-12 21:03:27,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:27,070 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-15F332A3E631->dbbf6597-a240-4f8f-bdbc-6e1128e852c0: receive RaftClientReply:client-15F332A3E631->dbbf6597-a240-4f8f-bdbc-6e1128e852c0@group-9AA8112262AA, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server dbbf6597-a240-4f8f-bdbc-6e1128e852c0 is not the leader (4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627). Request must be sent to leader., logIndex=0, commits[dbbf6597-a240-4f8f-bdbc-6e1128e852c0:c-1]
2019-06-12 21:03:27,071 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2019-06-12 21:03:27,072 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-06-12 21:03:27,072 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 21:03:27,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 21:03:27,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-06-12 21:03:27,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-12 21:03:27,073 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2019-06-12 21:03:27,074 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-06-12 21:03:27,074 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-12 21:03:27,075 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-12 21:03:27,075 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: start LeaderState
2019-06-12 21:03:27,075 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928-RaftLogWorker: Starting segment from index:0
2019-06-12 21:03:27,079 WARN  client.GrpcClientProtocolService (LogUtils.java:warn(134)) - 0-OrderedRequestStreamObserver0: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
2019-06-12 21:03:27,095 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA set configuration 0: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null at 0
2019-06-12 21:03:27,112 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(738)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928-LEADER: Withhold vote from candidate 4c9015e1-933f-4a1d-847f-e42db7891d50 with term 1. State: leader=723833f3-b4ae-49cb-89f6-a7d1640bb928, term=1, lastRpcElapsed=null
2019-06-12 21:03:27,176 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/current/log_inprogress_0
2019-06-12 21:03:27,182 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA:LeaderElection3: Election REJECTED; received 2 response(s) [4c9015e1-933f-4a1d-847f-e42db7891d50->dbbf6597-a240-4f8f-bdbc-6e1128e852c0,false-t1, 4c9015e1-933f-4a1d-847f-e42db7891d50->723833f3-b4ae-49cb-89f6-a7d1640bb928,false-t1] and 0 exception(s); 4c9015e1-933f-4a1d-847f-e42db7891d50:t1, leader=null, voted=4c9015e1-933f-4a1d-847f-e42db7891d50, raftlog=4c9015e1-933f-4a1d-847f-e42db7891d50-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null
2019-06-12 21:03:27,186 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-06-12 21:03:27,186 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: shutdown LeaderElection
2019-06-12 21:03:27,186 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: start FollowerState
2019-06-12 21:03:27,190 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0:group-9AA8112262AA change Leader from null to 723833f3-b4ae-49cb-89f6-a7d1640bb928 at term 1 for appendEntries, leader elected after 1168ms
2019-06-12 21:03:27,190 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA change Leader from null to 723833f3-b4ae-49cb-89f6-a7d1640bb928 at term 1 for appendEntries, leader elected after 1220ms
2019-06-12 21:03:27,206 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA set configuration 0: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null at 0
2019-06-12 21:03:27,206 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0:group-9AA8112262AA set configuration 0: [dbbf6597-a240-4f8f-bdbc-6e1128e852c0:0.0.0.0:42037, 4c9015e1-933f-4a1d-847f-e42db7891d50:0.0.0.0:33627, 723833f3-b4ae-49cb-89f6-a7d1640bb928:0.0.0.0:44767], old=null at 0
2019-06-12 21:03:27,207 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 4c9015e1-933f-4a1d-847f-e42db7891d50-RaftLogWorker: Starting segment from index:0
2019-06-12 21:03:27,207 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0-RaftLogWorker: Starting segment from index:0
2019-06-12 21:03:27,246 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/current/log_inprogress_0
2019-06-12 21:03:27,246 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 4c9015e1-933f-4a1d-847f-e42db7891d50-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/current/log_inprogress_0
Jun 12, 2019 9:03:28 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=43, target=0.0.0.0:33627} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 12, 2019 9:03:28 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=51, target=0.0.0.0:42037} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

Jun 12, 2019 9:03:28 PM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=35, target=0.0.0.0:44767} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:118)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:61)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:107)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:91)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:401)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:270)
	at org.apache.hadoop.ozone.RatisTestHelper.initXceiverServerRatis(RatisTestHelper.java:135)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.lambda$runTestClientServerRatis$4(TestSecureContainerServer.java:159)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServer(TestSecureContainerServer.java:184)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.runTestClientServerRatis(TestSecureContainerServer.java:155)
	at org.apache.hadoop.ozone.container.server.TestSecureContainerServer.testClientServerRatisGrpc(TestSecureContainerServer.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2019-06-12 21:03:28,089 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 21:03:28,094 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-15F332A3E631->723833f3-b4ae-49cb-89f6-a7d1640bb928: receive RaftClientReply:client-15F332A3E631->723833f3-b4ae-49cb-89f6-a7d1640bb928@group-9AA8112262AA, cid=6, SUCCESS, logIndex=1, commits[723833f3-b4ae-49cb-89f6-a7d1640bb928:c1, dbbf6597-a240-4f8f-bdbc-6e1128e852c0:c0, 4c9015e1-933f-4a1d-847f-e42db7891d50:c0]
2019-06-12 21:03:28,094 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 21:03:28,094 INFO  ratis.ContainerStateMachine (ContainerUtils.java:logAndReturnError(146)) - Operation: CreateContainer : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-06-12 21:03:28,095 INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-06-12 21:03:28,134 INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(254)) - client-606CFE436E44->723833f3-b4ae-49cb-89f6-a7d1640bb928: receive RaftClientReply:client-606CFE436E44->723833f3-b4ae-49cb-89f6-a7d1640bb928@group-9AA8112262AA, cid=7, SUCCESS, logIndex=3, commits[723833f3-b4ae-49cb-89f6-a7d1640bb928:c4, dbbf6597-a240-4f8f-bdbc-6e1128e852c0:c3, 4c9015e1-933f-4a1d-847f-e42db7891d50:c2]
2019-06-12 21:03:28,137 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: close
2019-06-12 21:03:28,138 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: shutdown group-9AA8112262AA
2019-06-12 21:03:28,138 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AA8112262AA,id=723833f3-b4ae-49cb-89f6-a7d1640bb928
2019-06-12 21:03:28,138 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: shutdown LeaderState
2019-06-12 21:03:28,139 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928-PendingRequests: sendNotLeaderResponses
2019-06-12 21:03:28,139 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(142)) - GrpcLogAppender(723833f3-b4ae-49cb-89f6-a7d1640bb928 -> dbbf6597-a240-4f8f-bdbc-6e1128e852c0): Wait interrupted by java.lang.InterruptedException
2019-06-12 21:03:28,139 WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(142)) - GrpcLogAppender(723833f3-b4ae-49cb-89f6-a7d1640bb928 -> 4c9015e1-933f-4a1d-847f-e42db7891d50): Wait interrupted by java.lang.InterruptedException
2019-06-12 21:03:28,142 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(104)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: appendEntries completed
2019-06-12 21:03:28,143 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-723833f3-b4ae-49cb-89f6-a7d1640bb928-group-9AA8112262AA: set stopIndex = 4
2019-06-12 21:03:28,143 INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(104)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: appendEntries completed
2019-06-12 21:03:28,143 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:4)
2019-06-12 21:03:28,143 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/723833f3-b4ae-49cb-89f6-a7d1640bb928/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/sm/snapshot.1_4
2019-06-12 21:03:28,144 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(277)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: follower 723833f3-b4ae-49cb-89f6-a7d1640bb928->dbbf6597-a240-4f8f-bdbc-6e1128e852c0(c3,m4,n5, attendVote=true, lastRpcSendTime=31, lastRpcResponseTime=22) response Completed
2019-06-12 21:03:28,144 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928:group-9AA8112262AA closes. The last applied log index is 4
2019-06-12 21:03:28,145 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 21:03:28,146 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(50)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928->dbbf6597-a240-4f8f-bdbc-6e1128e852c0: nextIndex: updateUnconditionally 5 -> 0
2019-06-12 21:03:28,149 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928-RaftLogWorker close()
2019-06-12 21:03:28,149 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: shutdown server with port 44767 now
2019-06-12 21:03:28,150 INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(277)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: follower 723833f3-b4ae-49cb-89f6-a7d1640bb928->4c9015e1-933f-4a1d-847f-e42db7891d50(c3,m4,n5, attendVote=true, lastRpcSendTime=36, lastRpcResponseTime=23) response Completed
2019-06-12 21:03:28,153 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928: shutdown server with port 44767 successfully
2019-06-12 21:03:28,153 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(50)) - 723833f3-b4ae-49cb-89f6-a7d1640bb928->4c9015e1-933f-4a1d-847f-e42db7891d50: nextIndex: updateUnconditionally 5 -> -1
2019-06-12 21:03:28,155 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: close
2019-06-12 21:03:28,156 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: shutdown group-9AA8112262AA
2019-06-12 21:03:28,156 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AA8112262AA,id=4c9015e1-933f-4a1d-847f-e42db7891d50
2019-06-12 21:03:28,156 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: shutdown FollowerState
2019-06-12 21:03:28,156 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-4c9015e1-933f-4a1d-847f-e42db7891d50-group-9AA8112262AA: set stopIndex = 3
2019-06-12 21:03:28,156 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:3)
2019-06-12 21:03:28,157 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/4c9015e1-933f-4a1d-847f-e42db7891d50/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/sm/snapshot.1_3
2019-06-12 21:03:28,156 INFO  impl.FollowerState (FollowerState.java:run(109)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 21:03:28,158 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4c9015e1-933f-4a1d-847f-e42db7891d50:group-9AA8112262AA closes. The last applied log index is 3
2019-06-12 21:03:28,158 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 4c9015e1-933f-4a1d-847f-e42db7891d50-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 21:03:28,159 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 4c9015e1-933f-4a1d-847f-e42db7891d50-RaftLogWorker close()
2019-06-12 21:03:28,160 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: shutdown server with port 33627 now
2019-06-12 21:03:28,163 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 4c9015e1-933f-4a1d-847f-e42db7891d50: shutdown server with port 33627 successfully
2019-06-12 21:03:28,167 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: close
2019-06-12 21:03:28,167 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: shutdown group-9AA8112262AA
2019-06-12 21:03:28,168 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AA8112262AA,id=dbbf6597-a240-4f8f-bdbc-6e1128e852c0
2019-06-12 21:03:28,168 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: shutdown FollowerState
2019-06-12 21:03:28,168 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-dbbf6597-a240-4f8f-bdbc-6e1128e852c0-group-9AA8112262AA: set stopIndex = 3
2019-06-12 21:03:28,168 INFO  impl.FollowerState (FollowerState.java:run(109)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-12 21:03:28,168 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:1, i:3)
2019-06-12 21:03:28,169 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(249)) - Taking a snapshot to file /opt/src/hadoop-ozone/integration-test/target/test-dir/dfs/dbbf6597-a240-4f8f-bdbc-6e1128e852c0/7d43c12d-0bd4-4c05-bf9f-9aa8112262aa/sm/snapshot.1_3
2019-06-12 21:03:28,169 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0:group-9AA8112262AA closes. The last applied log index is 3
2019-06-12 21:03:28,169 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-12 21:03:28,170 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0-RaftLogWorker close()
2019-06-12 21:03:28,171 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: shutdown server with port 42037 now
2019-06-12 21:03:28,172 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - dbbf6597-a240-4f8f-bdbc-6e1128e852c0: shutdown server with port 42037 successfully

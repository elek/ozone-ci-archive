2019-06-14 10:19:31,063 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:31,150 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:31,154 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:31,171 INFO  util.log (Log.java:initialized(192)) - Logging initialized @1452ms
2019-06-14 10:19:31,266 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-14 10:19:31,266 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-14 10:19:31,266 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-14 10:19:31,266 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-14 10:19:31,266 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-14 10:19:31,267 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-14 10:19:31,277 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:31,277 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:31,279 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:31,358 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:31,358 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:31,362 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-14 10:19:31,429 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@7d8c82b7
2019-06-14 10:19:31,431 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-14 10:19:31,488 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:31,508 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-14 10:19:31,510 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:31,565 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-06-14 10:19:31,950 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:31,976 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 40057
2019-06-14 10:19:31,997 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:32,005 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 42083
2019-06-14 10:19:32,019 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:32,021 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43021
2019-06-14 10:19:32,039 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-14 10:19:32,187 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:32,193 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:32,207 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:32,211 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-14 10:19:32,211 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:32,212 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:32,247 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:43021
2019-06-14 10:19:32,305 WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-06-14 10:19:32,323 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-06-14 10:19:32,323 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-06-14 10:19:32,554 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:43021
2019-06-14 10:19:32,558 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:32,558 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43021: starting
2019-06-14 10:19:32,561 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:42083
2019-06-14 10:19:32,562 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:42083
2019-06-14 10:19:32,562 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:32,563 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 42083: starting
2019-06-14 10:19:32,567 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:40057
2019-06-14 10:19:32,567 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:40057
2019-06-14 10:19:32,582 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:32,585 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 40057: starting
2019-06-14 10:19:32,592 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33403
2019-06-14 10:19:32,594 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:32,641 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3849b062{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:32,642 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3d980024{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:32,671 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@336de41e{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-14 10:19:32,676 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@449cc8d1{HTTP/1.1,[http/1.1]}{0.0.0.0:33403}
2019-06-14 10:19:32,676 INFO  server.Server (Server.java:doStart(419)) - Started @2957ms
2019-06-14 10:19:32,679 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:33403
2019-06-14 10:19:32,690 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:32,690 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:32,794 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:32,796 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-14 10:19:32,796 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 27a2b8c6-cfcc-4f51-acf7-ae1cad8ff0b1
2019-06-14 10:19:32,798 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:32,799 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:32,799 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-14 10:19:33,029 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:33,036 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-14 10:19:33,036 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-14 10:19:33,037 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-14 10:19:33,037 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-14 10:19:33,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-14 10:19:33,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-14 10:19:33,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-14 10:19:33,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-14 10:19:33,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-14 10:19:33,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-14 10:19:33,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-14 10:19:33,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-14 10:19:33,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-14 10:19:33,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-14 10:19:33,042 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-14 10:19:33,042 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-14 10:19:33,043 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-14 10:19:33,043 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-14 10:19:33,043 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-14 10:19:33,044 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-14 10:19:33,044 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-14 10:19:33,044 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-14 10:19:33,045 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:33,045 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:33,045 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:33,296 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:33,303 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45009
2019-06-14 10:19:33,342 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:33,343 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:45009
2019-06-14 10:19:33,343 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-14 10:19:33,345 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:33,346 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45009: starting
2019-06-14 10:19:33,375 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-14 10:19:33,377 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:33,377 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:33,380 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:33,380 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-14 10:19:33,381 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:33,381 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:33,383 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 35321
2019-06-14 10:19:33,383 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:33,390 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@34a2d92c{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:33,391 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5964fe8c{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:33,395 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@310efc5d{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-14 10:19:33,396 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@68bb5a22{HTTP/1.1,[http/1.1]}{0.0.0.0:35321}
2019-06-14 10:19:33,396 INFO  server.Server (Server.java:doStart(419)) - Started @3677ms
2019-06-14 10:19:33,396 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:35321
2019-06-14 10:19:33,577 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-14 10:19:33,661 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-mm759-2607770056 ip:192.168.105.157
2019-06-14 10:19:33,690 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:19:33,691 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/containers/hdds to VolumeSet
2019-06-14 10:19:33,694 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@774a7b95
2019-06-14 10:19:33,716 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@774a7b95
2019-06-14 10:19:33,866 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:19:33,876 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-14 10:19:33,877 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:19:33,879 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:33,879 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:19:33,880 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:19:34,045 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/ratis] (custom)
2019-06-14 10:19:34,082 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-14 10:19:34,123 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-14 10:19:34,125 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:34,126 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:34,127 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:34,128 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-14 10:19:34,128 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:34,129 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:34,136 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37649
2019-06-14 10:19:34,136 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:34,140 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@32ee6e5b{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:34,141 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1e456d9f{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-14 10:19:34,208 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@5f3e6ad2{/,file:///tmp/jetty-0.0.0.0-37649-hddsDatanode-_-any-6817976021722744701.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-14 10:19:34,210 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3a1261e7{HTTP/1.1,[http/1.1]}{0.0.0.0:37649}
2019-06-14 10:19:34,210 INFO  server.Server (Server.java:doStart(419)) - Started @4491ms
2019-06-14 10:19:34,211 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:37649
Jun 14, 2019 10:19:34 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-14 10:19:35,383 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@27bee9f9
2019-06-14 10:19:35,394 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:35,444 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:35,570 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/meta/datanode.id
2019-06-14 10:19:36,395 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:37,395 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:37,483 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:19:37,483 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:19:37,483 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 278cd8ef-0595-4280-a19a-fb79b07dc3bd at port 9858
2019-06-14 10:19:37,498 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: start RPC server
2019-06-14 10:19:37,648 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-14 10:19:38,396 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:39,396 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:39,468 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 278cd8ef-0595-4280-a19a-fb79b07dc3bd{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}
2019-06-14 10:19:39,478 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-14 10:19:39,478 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-14 10:19:39,478 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-14 10:19:39,941 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: addNew group-3BF874E1EFE5:[278cd8ef-0595-4280-a19a-fb79b07dc3bd:192.168.105.157:9858] returns group-3BF874E1EFE5:java.util.concurrent.CompletableFuture@5b93d79e[Not completed]
2019-06-14 10:19:39,954 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: new RaftServerImpl for group-3BF874E1EFE5:[278cd8ef-0595-4280-a19a-fb79b07dc3bd:192.168.105.157:9858] with ContainerStateMachine:uninitialized
2019-06-14 10:19:39,955 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-14 10:19:39,956 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-14 10:19:39,956 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-14 10:19:39,957 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-14 10:19:39,961 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd:group-3BF874E1EFE5 ConfigurationManager, init=-1: [278cd8ef-0595-4280-a19a-fb79b07dc3bd:192.168.105.157:9858], old=null, confs=<EMPTY_MAP>
2019-06-14 10:19:39,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/ratis] (custom)
2019-06-14 10:19:39,968 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/ratis/e2467730-9fed-4e5d-95cb-3bf874e1efe5 does not exist. Creating ...
2019-06-14 10:19:39,972 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/ratis/e2467730-9fed-4e5d-95cb-3bf874e1efe5/in_use.lock acquired by nodename 4545@ozone-mm759-2607770056
2019-06-14 10:19:39,976 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/ratis/e2467730-9fed-4e5d-95cb-3bf874e1efe5 has been successfully formatted.
2019-06-14 10:19:39,977 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-14 10:19:39,977 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-14 10:19:39,979 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-14 10:19:39,980 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:39,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:39,986 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-14 10:19:39,988 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 278cd8ef-0595-4280-a19a-fb79b07dc3bd-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-28892f92-c672-45f4-a66b-23ed56e547a4/datanode-0/data/ratis/e2467730-9fed-4e5d-95cb-3bf874e1efe5
2019-06-14 10:19:39,988 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-14 10:19:39,989 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-14 10:19:39,990 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:39,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-14 10:19:39,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-14 10:19:39,991 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-14 10:19:39,992 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-14 10:19:39,992 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-14 10:19:39,993 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-14 10:19:39,995 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-14 10:19:40,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-14 10:19:40,003 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-14 10:19:40,004 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-14 10:19:40,017 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: start group-3BF874E1EFE5
2019-06-14 10:19:40,018 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd:group-3BF874E1EFE5 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-14 10:19:40,019 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: start FollowerState
2019-06-14 10:19:40,021 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3BF874E1EFE5,id=278cd8ef-0595-4280-a19a-fb79b07dc3bd
2019-06-14 10:19:40,160 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: e2467730-9fed-4e5d-95cb-3bf874e1efe5, Nodes: 278cd8ef-0595-4280-a19a-fb79b07dc3bd{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-14 10:19:40,397 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-14 10:19:40,791 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-14 10:19:40,791 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-14 10:19:40,791 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-14 10:19:40,797 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45009
2019-06-14 10:19:40,798 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-14 10:19:40,798 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45009
2019-06-14 10:19:40,801 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:40,804 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@310efc5d{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-14 10:19:40,802 ERROR server.GrpcXceiverService (GrpcXceiverService.java:onError(85)) - {}: ContainerCommand send on error. Exception: {}
org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:517)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:272)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingServerCallListener.onCancel(PartialForwardingServerCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onCancel(ForwardingServerCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onCancel(ForwardingServerCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onCancel(Contexts.java:96)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingServerCallListener.onCancel(PartialForwardingServerCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onCancel(ForwardingServerCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onCancel(ForwardingServerCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:293)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:741)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-06-14 10:19:40,814 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@68bb5a22{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:40,815 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5964fe8c{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:40,816 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@34a2d92c{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:40,819 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-14 10:19:40,819 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-14 10:19:40,819 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-14 10:19:40,819 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-14 10:19:40,820 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-14 10:19:40,820 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-14 10:19:40,820 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 40057
2019-06-14 10:19:40,824 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 40057
2019-06-14 10:19:40,825 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:40,825 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-14 10:19:40,825 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-14 10:19:40,825 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42083
2019-06-14 10:19:40,828 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 42083
2019-06-14 10:19:40,830 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:40,830 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-14 10:19:40,831 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-14 10:19:40,831 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43021
2019-06-14 10:19:40,833 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43021
2019-06-14 10:19:40,834 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:40,834 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-14 10:19:40,834 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@336de41e{/,null,UNAVAILABLE}{/scm}
2019-06-14 10:19:40,835 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@449cc8d1{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:40,836 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3d980024{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:40,836 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3849b062{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:40,839 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-14 10:19:40,840 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:40,840 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:40,840 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-14 10:19:40,845 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-14 10:19:40,845 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-14 10:19:40,846 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@27bee9f9
2019-06-14 10:19:40,847 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-14 10:19:40,847 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:19:40,848 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: close
2019-06-14 10:19:40,850 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: shutdown group-3BF874E1EFE5
2019-06-14 10:19:40,851 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3BF874E1EFE5,id=278cd8ef-0595-4280-a19a-fb79b07dc3bd
2019-06-14 10:19:40,851 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: shutdown FollowerState
2019-06-14 10:19:40,851 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-278cd8ef-0595-4280-a19a-fb79b07dc3bd-group-3BF874E1EFE5: set stopIndex = -1
2019-06-14 10:19:40,852 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-14 10:19:40,853 INFO  impl.FollowerState (FollowerState.java:run(109)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-14 10:19:40,854 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd:group-3BF874E1EFE5 closes. The last applied log index is -1
2019-06-14 10:19:40,857 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-14 10:19:40,858 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd-RaftLogWorker close()
2019-06-14 10:19:40,859 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: shutdown server with port 9858 now
2019-06-14 10:19:40,862 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 278cd8ef-0595-4280-a19a-fb79b07dc3bd: shutdown server with port 9858 successfully
2019-06-14 10:19:40,881 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:19:40,890 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-14 10:19:40,901 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@5f3e6ad2{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-14 10:19:40,902 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3a1261e7{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:40,904 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1e456d9f{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-14 10:19:40,904 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@32ee6e5b{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:40,950 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:40,960 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:40,960 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:40,961 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-14 10:19:40,961 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-14 10:19:40,962 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-14 10:19:40,962 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-14 10:19:40,962 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-14 10:19:40,962 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-14 10:19:40,962 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:40,962 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:40,963 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:41,030 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:41,031 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:41,033 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-14 10:19:41,035 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@59bd0217
2019-06-14 10:19:41,035 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-14 10:19:41,039 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:41,055 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-14 10:19:41,061 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:41,085 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-14 10:19:41,092 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:41,095 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41135
2019-06-14 10:19:41,102 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:41,105 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39789
2019-06-14 10:19:41,107 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:41,109 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38981
2019-06-14 10:19:41,118 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-14 10:19:41,119 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:41,121 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:41,123 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:41,123 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-14 10:19:41,123 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:41,124 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:41,135 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:38981
2019-06-14 10:19:41,136 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-14 10:19:41,136 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:38981
2019-06-14 10:19:41,136 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:41,141 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38981: starting
2019-06-14 10:19:41,152 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:39789
2019-06-14 10:19:41,152 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:39789
2019-06-14 10:19:41,152 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:41,169 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:41135
2019-06-14 10:19:41,176 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:41135
2019-06-14 10:19:41,152 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39789: starting
2019-06-14 10:19:41,181 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:41,185 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41135: starting
2019-06-14 10:19:41,211 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43113
2019-06-14 10:19:41,211 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:41,223 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5b6b0935{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:41,224 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2b1d29e1{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:41,227 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@670480bd{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-14 10:19:41,234 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@68ed52fa{HTTP/1.1,[http/1.1]}{0.0.0.0:43113}
2019-06-14 10:19:41,234 INFO  server.Server (Server.java:doStart(419)) - Started @11515ms
2019-06-14 10:19:41,235 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:43113
2019-06-14 10:19:41,235 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:41,243 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:41,244 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:41,244 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-14 10:19:41,244 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: eaba1b65-4314-44e4-b3c9-9b825769c5a9
2019-06-14 10:19:41,244 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:41,244 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:41,244 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-14 10:19:41,256 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:41,257 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-14 10:19:41,257 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-14 10:19:41,257 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-14 10:19:41,257 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-14 10:19:41,257 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-14 10:19:41,257 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-14 10:19:41,258 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-14 10:19:41,258 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-14 10:19:41,258 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-14 10:19:41,260 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-14 10:19:41,260 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-14 10:19:41,260 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-14 10:19:41,260 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-14 10:19:41,261 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-14 10:19:41,261 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-14 10:19:41,261 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-14 10:19:41,261 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-14 10:19:41,261 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-14 10:19:41,263 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-14 10:19:41,264 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-14 10:19:41,264 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-14 10:19:41,264 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-14 10:19:41,264 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:41,264 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:41,264 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:41,464 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:41,464 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38081
2019-06-14 10:19:41,482 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:41,482 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:38081
2019-06-14 10:19:41,482 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-14 10:19:41,485 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:41,486 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38081: starting
2019-06-14 10:19:41,493 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-14 10:19:41,494 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:41,495 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:41,496 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:41,497 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-14 10:19:41,497 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:41,497 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:41,498 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40633
2019-06-14 10:19:41,498 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:41,505 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@61669643{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:41,506 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@70c706eb{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:41,510 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2a18db5f{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-14 10:19:41,511 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@6a610392{HTTP/1.1,[http/1.1]}{0.0.0.0:40633}
2019-06-14 10:19:41,511 INFO  server.Server (Server.java:doStart(419)) - Started @11792ms
2019-06-14 10:19:41,511 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:40633
2019-06-14 10:19:41,515 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-14 10:19:41,515 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-mm759-2607770056 ip:192.168.105.157
2019-06-14 10:19:41,526 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:19:41,526 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/containers/hdds to VolumeSet
2019-06-14 10:19:41,526 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@79c7cb30
2019-06-14 10:19:41,530 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@79c7cb30
2019-06-14 10:19:41,539 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:19:41,539 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-14 10:19:41,539 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:19:41,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:41,540 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:19:41,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:19:41,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/ratis] (custom)
2019-06-14 10:19:41,541 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-14 10:19:41,542 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-14 10:19:41,543 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:41,545 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:41,546 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:41,546 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-14 10:19:41,547 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:41,547 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:41,547 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 38573
2019-06-14 10:19:41,547 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:41,549 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2879f674{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:41,551 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@54b4be6b{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-14 10:19:41,582 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1ce7808c{/,file:///tmp/jetty-0.0.0.0-38573-hddsDatanode-_-any-2827511646944281313.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-14 10:19:41,583 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7a18bde3{HTTP/1.1,[http/1.1]}{0.0.0.0:38573}
2019-06-14 10:19:41,583 INFO  server.Server (Server.java:doStart(419)) - Started @11864ms
2019-06-14 10:19:41,584 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:38573
Jun 14, 2019 10:19:41 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-14 10:19:41,726 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@434de119
2019-06-14 10:19:41,733 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:41,753 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:41,767 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/meta/datanode.id
2019-06-14 10:19:42,734 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:43,734 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:43,763 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:19:43,764 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:19:43,764 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 5ee5a980-e76a-4688-becc-824164b5528a at port 9858
2019-06-14 10:19:43,772 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 5ee5a980-e76a-4688-becc-824164b5528a: start RPC server
2019-06-14 10:19:43,774 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 5ee5a980-e76a-4688-becc-824164b5528a: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-14 10:19:44,734 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:45,735 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:45,757 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 5ee5a980-e76a-4688-becc-824164b5528a{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}
2019-06-14 10:19:45,765 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-14 10:19:45,773 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-14 10:19:45,773 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-14 10:19:45,813 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 5ee5a980-e76a-4688-becc-824164b5528a: addNew group-40710A1EC0FB:[5ee5a980-e76a-4688-becc-824164b5528a:192.168.105.157:9858] returns group-40710A1EC0FB:java.util.concurrent.CompletableFuture@504084ec[Not completed]
2019-06-14 10:19:45,814 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 5ee5a980-e76a-4688-becc-824164b5528a: new RaftServerImpl for group-40710A1EC0FB:[5ee5a980-e76a-4688-becc-824164b5528a:192.168.105.157:9858] with ContainerStateMachine:uninitialized
2019-06-14 10:19:45,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-14 10:19:45,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-14 10:19:45,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-14 10:19:45,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-14 10:19:45,816 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 5ee5a980-e76a-4688-becc-824164b5528a:group-40710A1EC0FB ConfigurationManager, init=-1: [5ee5a980-e76a-4688-becc-824164b5528a:192.168.105.157:9858], old=null, confs=<EMPTY_MAP>
2019-06-14 10:19:45,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/ratis] (custom)
2019-06-14 10:19:45,817 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/ratis/9bc9578c-4505-45a4-a937-40710a1ec0fb does not exist. Creating ...
2019-06-14 10:19:45,827 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/ratis/9bc9578c-4505-45a4-a937-40710a1ec0fb/in_use.lock acquired by nodename 4545@ozone-mm759-2607770056
2019-06-14 10:19:45,829 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/ratis/9bc9578c-4505-45a4-a937-40710a1ec0fb has been successfully formatted.
2019-06-14 10:19:45,829 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-14 10:19:45,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-14 10:19:45,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-14 10:19:45,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:45,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:45,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-14 10:19:45,831 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 5ee5a980-e76a-4688-becc-824164b5528a-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-125b08a4-e4d5-4afb-92d6-784f7641c9b9/datanode-0/data/ratis/9bc9578c-4505-45a4-a937-40710a1ec0fb
2019-06-14 10:19:45,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-14 10:19:45,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-14 10:19:45,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:45,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-14 10:19:45,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-14 10:19:45,831 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-14 10:19:45,832 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-14 10:19:45,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-14 10:19:45,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-14 10:19:45,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-14 10:19:45,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-14 10:19:45,833 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-14 10:19:45,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-14 10:19:45,834 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 5ee5a980-e76a-4688-becc-824164b5528a: start group-40710A1EC0FB
2019-06-14 10:19:45,834 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 5ee5a980-e76a-4688-becc-824164b5528a:group-40710A1EC0FB changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-14 10:19:45,834 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 5ee5a980-e76a-4688-becc-824164b5528a: start FollowerState
2019-06-14 10:19:45,835 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-40710A1EC0FB,id=5ee5a980-e76a-4688-becc-824164b5528a
2019-06-14 10:19:45,842 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 9bc9578c-4505-45a4-a937-40710a1ec0fb, Nodes: 5ee5a980-e76a-4688-becc-824164b5528a{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-14 10:19:46,735 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-14 10:19:46,867 INFO  interfaces.Container (KeyValueContainer.java:compactDB(356)) - Container 1560507586736 is closed with bcsId 0.
2019-06-14 10:19:46,873 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 16a00c4da65097:16a00c4da65097:0:1 : Message: Requested operation not allowed as ContainerState is CLOSED : Result: CLOSED_CONTAINER_IO
10:19:46.875 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1560507586736 locID: 1560507586789 bcsId: 0} | ret=FAILURE
java.lang.Exception: Requested operation not allowed as ContainerState is CLOSED
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-14 10:19:46,917 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: PutBlock : Trace ID: 29ecabbfb2f0ead1:29ecabbfb2f0ead1:0:0 : Message: Requested operation not allowed as ContainerState is CLOSED : Result: CLOSED_CONTAINER_IO
10:19:46.918 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1560507586736 locID: 1560507586789 bcsId: 0,size=1024]} | ret=FAILURE
java.lang.Exception: Requested operation not allowed as ContainerState is CLOSED
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-14 10:19:46,949 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: DeleteBlock : Trace ID: a39abb208cab2d04:a39abb208cab2d04:0:0 : Message: Requested operation not allowed as ContainerState is CLOSED : Result: CLOSED_CONTAINER_IO
10:19:46.961 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=DELETE_BLOCK {blockData=conID: 1560507586736 locID: 1560507586789 bcsId: 0} | ret=FAILURE
java.lang.Exception: Requested operation not allowed as ContainerState is CLOSED
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-14 10:19:46,968 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-14 10:19:46,969 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-14 10:19:46,969 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-14 10:19:46,969 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38081
2019-06-14 10:19:46,969 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38081
2019-06-14 10:19:46,975 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:46,975 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-14 10:19:46,976 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2a18db5f{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-14 10:19:46,977 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@6a610392{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:46,977 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@70c706eb{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:46,978 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@61669643{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:46,979 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-14 10:19:46,979 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-14 10:19:46,979 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-14 10:19:46,979 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-14 10:19:46,979 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-14 10:19:46,980 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-14 10:19:46,980 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41135
2019-06-14 10:19:46,981 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41135
2019-06-14 10:19:46,986 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:46,986 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-14 10:19:46,986 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-14 10:19:46,986 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39789
2019-06-14 10:19:46,988 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39789
2019-06-14 10:19:46,988 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:46,988 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-14 10:19:46,989 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-14 10:19:46,989 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38981
2019-06-14 10:19:46,990 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38981
2019-06-14 10:19:46,990 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:46,990 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-14 10:19:46,992 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@670480bd{/,null,UNAVAILABLE}{/scm}
2019-06-14 10:19:46,992 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@68ed52fa{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:46,992 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2b1d29e1{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:46,993 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5b6b0935{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:46,993 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-14 10:19:46,993 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:46,994 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:46,994 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-14 10:19:46,996 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-14 10:19:46,996 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-14 10:19:46,997 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@434de119
2019-06-14 10:19:46,997 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-14 10:19:46,997 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:19:46,998 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 5ee5a980-e76a-4688-becc-824164b5528a: close
2019-06-14 10:19:46,998 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 5ee5a980-e76a-4688-becc-824164b5528a: shutdown group-40710A1EC0FB
2019-06-14 10:19:46,998 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-40710A1EC0FB,id=5ee5a980-e76a-4688-becc-824164b5528a
2019-06-14 10:19:46,998 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 5ee5a980-e76a-4688-becc-824164b5528a: shutdown FollowerState
2019-06-14 10:19:46,998 INFO  impl.FollowerState (FollowerState.java:run(109)) - 5ee5a980-e76a-4688-becc-824164b5528a: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-06-14 10:19:46,999 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-14 10:19:46,998 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-5ee5a980-e76a-4688-becc-824164b5528a-group-40710A1EC0FB: set stopIndex = -1
2019-06-14 10:19:47,001 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 5ee5a980-e76a-4688-becc-824164b5528a:group-40710A1EC0FB closes. The last applied log index is -1
2019-06-14 10:19:47,002 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 5ee5a980-e76a-4688-becc-824164b5528a-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-14 10:19:47,004 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 5ee5a980-e76a-4688-becc-824164b5528a-RaftLogWorker close()
2019-06-14 10:19:47,005 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 5ee5a980-e76a-4688-becc-824164b5528a: shutdown server with port 9858 now
2019-06-14 10:19:47,005 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 5ee5a980-e76a-4688-becc-824164b5528a: shutdown server with port 9858 successfully
2019-06-14 10:19:47,007 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:19:47,019 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-14 10:19:47,019 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1ce7808c{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-14 10:19:47,020 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7a18bde3{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:47,020 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@54b4be6b{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-14 10:19:47,020 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2879f674{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:47,033 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,037 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,037 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-14 10:19:47,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-14 10:19:47,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-14 10:19:47,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-14 10:19:47,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-14 10:19:47,038 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-14 10:19:47,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:47,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:47,039 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:47,082 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:47,082 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:47,082 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-14 10:19:47,083 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@1301998a
2019-06-14 10:19:47,083 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-14 10:19:47,086 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,102 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-14 10:19:47,102 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,126 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-14 10:19:47,128 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:47,128 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37881
2019-06-14 10:19:47,131 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:47,131 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41435
2019-06-14 10:19:47,139 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:47,139 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 35169
2019-06-14 10:19:47,141 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-14 10:19:47,142 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:47,143 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:47,144 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:47,145 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-14 10:19:47,145 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:47,145 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:47,149 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:35169
2019-06-14 10:19:47,149 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-14 10:19:47,151 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:35169
2019-06-14 10:19:47,152 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:47,152 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 35169: starting
2019-06-14 10:19:47,159 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:41435
2019-06-14 10:19:47,159 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:41435
2019-06-14 10:19:47,160 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:47,160 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41435: starting
2019-06-14 10:19:47,169 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:37881
2019-06-14 10:19:47,170 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:37881
2019-06-14 10:19:47,170 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:47,177 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37881: starting
2019-06-14 10:19:47,186 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39403
2019-06-14 10:19:47,186 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:47,187 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7ef2ecde{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:47,188 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5f80cef3{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:47,192 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7bc7e16f{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-14 10:19:47,192 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@4c35058{HTTP/1.1,[http/1.1]}{0.0.0.0:39403}
2019-06-14 10:19:47,192 INFO  server.Server (Server.java:doStart(419)) - Started @17473ms
2019-06-14 10:19:47,193 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:39403
2019-06-14 10:19:47,193 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,194 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:47,205 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,206 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-14 10:19:47,206 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 4420d4df-fe54-4ded-b9a9-2515cecd68f6
2019-06-14 10:19:47,206 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:47,206 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:47,206 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-14 10:19:47,211 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,212 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-14 10:19:47,212 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-14 10:19:47,212 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-14 10:19:47,212 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-14 10:19:47,212 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-14 10:19:47,213 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-14 10:19:47,213 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-14 10:19:47,213 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-14 10:19:47,213 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-14 10:19:47,213 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-14 10:19:47,214 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-14 10:19:47,215 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-14 10:19:47,215 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-14 10:19:47,215 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:47,215 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:47,215 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:47,352 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:47,353 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43289
2019-06-14 10:19:47,365 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:47,366 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:43289
2019-06-14 10:19:47,366 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-14 10:19:47,366 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:47,367 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43289: starting
2019-06-14 10:19:47,375 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-14 10:19:47,376 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:47,377 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:47,378 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:47,378 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-14 10:19:47,379 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:47,379 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:47,379 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44057
2019-06-14 10:19:47,379 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:47,381 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@48529ae7{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:47,381 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@dbc6ce1{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:47,386 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@6bbb39fd{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-14 10:19:47,389 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@711c2f46{HTTP/1.1,[http/1.1]}{0.0.0.0:44057}
2019-06-14 10:19:47,389 INFO  server.Server (Server.java:doStart(419)) - Started @17670ms
2019-06-14 10:19:47,390 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:44057
2019-06-14 10:19:47,392 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-14 10:19:47,392 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-mm759-2607770056 ip:192.168.105.157
2019-06-14 10:19:47,396 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:19:47,396 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/containers/hdds to VolumeSet
2019-06-14 10:19:47,396 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@5bffc28f
2019-06-14 10:19:47,405 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@5bffc28f
2019-06-14 10:19:47,416 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:19:47,416 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-14 10:19:47,417 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:19:47,417 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:47,417 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:19:47,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:19:47,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/ratis] (custom)
2019-06-14 10:19:47,419 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-14 10:19:47,420 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-14 10:19:47,421 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:47,421 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:47,422 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:47,423 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-14 10:19:47,423 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:47,423 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:47,423 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 34107
2019-06-14 10:19:47,423 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:47,425 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@320c1443{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:47,425 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3c4c7882{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-14 10:19:47,446 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@67520acc{/,file:///tmp/jetty-0.0.0.0-34107-hddsDatanode-_-any-5586669880835849524.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-14 10:19:47,446 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2ba1d0e6{HTTP/1.1,[http/1.1]}{0.0.0.0:34107}
2019-06-14 10:19:47,446 INFO  server.Server (Server.java:doStart(419)) - Started @17728ms
2019-06-14 10:19:47,449 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:34107
Jun 14, 2019 10:19:47 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-14 10:19:47,587 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@2d0d9654
2019-06-14 10:19:47,587 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:47,588 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:47,591 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/meta/datanode.id
2019-06-14 10:19:48,588 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:49,588 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:49,594 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:19:49,594 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:19:49,594 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis d54bab09-c1f5-4c36-8dc6-478de3cda371 at port 9858
2019-06-14 10:19:49,606 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: start RPC server
2019-06-14 10:19:49,607 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-14 10:19:50,588 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:51,589 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:51,590 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : d54bab09-c1f5-4c36-8dc6-478de3cda371{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}
2019-06-14 10:19:51,592 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-14 10:19:51,595 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-14 10:19:51,595 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-14 10:19:51,606 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: addNew group-0D7A5D8EA345:[d54bab09-c1f5-4c36-8dc6-478de3cda371:192.168.105.157:9858] returns group-0D7A5D8EA345:java.util.concurrent.CompletableFuture@27abbe11[Not completed]
2019-06-14 10:19:51,607 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: new RaftServerImpl for group-0D7A5D8EA345:[d54bab09-c1f5-4c36-8dc6-478de3cda371:192.168.105.157:9858] with ContainerStateMachine:uninitialized
2019-06-14 10:19:51,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-14 10:19:51,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-14 10:19:51,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-14 10:19:51,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-14 10:19:51,608 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 ConfigurationManager, init=-1: [d54bab09-c1f5-4c36-8dc6-478de3cda371:192.168.105.157:9858], old=null, confs=<EMPTY_MAP>
2019-06-14 10:19:51,608 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/ratis] (custom)
2019-06-14 10:19:51,608 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/ratis/6c48a627-73b8-4db4-9ee2-0d7a5d8ea345 does not exist. Creating ...
2019-06-14 10:19:51,611 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/ratis/6c48a627-73b8-4db4-9ee2-0d7a5d8ea345/in_use.lock acquired by nodename 4545@ozone-mm759-2607770056
2019-06-14 10:19:51,613 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/ratis/6c48a627-73b8-4db4-9ee2-0d7a5d8ea345 has been successfully formatted.
2019-06-14 10:19:51,613 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-14 10:19:51,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-14 10:19:51,614 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new d54bab09-c1f5-4c36-8dc6-478de3cda371-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-2f87ba1a-2208-4860-b79a-f00243e1d021/datanode-0/data/ratis/6c48a627-73b8-4db4-9ee2-0d7a5d8ea345
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-14 10:19:51,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-14 10:19:51,615 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-14 10:19:51,615 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-14 10:19:51,615 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-14 10:19:51,615 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-14 10:19:51,615 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-14 10:19:51,615 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: start group-0D7A5D8EA345
2019-06-14 10:19:51,615 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-14 10:19:51,615 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: start FollowerState
2019-06-14 10:19:51,616 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D7A5D8EA345,id=d54bab09-c1f5-4c36-8dc6-478de3cda371
2019-06-14 10:19:51,619 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 6c48a627-73b8-4db4-9ee2-0d7a5d8ea345, Nodes: d54bab09-c1f5-4c36-8dc6-478de3cda371{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-14 10:19:52,589 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-14 10:19:52,624 INFO  impl.FollowerState (FollowerState.java:run(101)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 changes to CANDIDATE, lastRpcTime:1008, electionTimeout:1008ms
2019-06-14 10:19:52,624 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: shutdown FollowerState
2019-06-14 10:19:52,624 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-14 10:19:52,626 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: start LeaderElection
2019-06-14 10:19:52,631 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345:LeaderElection1: begin an election at term 1 for -1: [d54bab09-c1f5-4c36-8dc6-478de3cda371:192.168.105.157:9858], old=null
2019-06-14 10:19:52,632 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: shutdown LeaderElection
2019-06-14 10:19:52,632 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-14 10:19:52,632 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 change Leader from null to d54bab09-c1f5-4c36-8dc6-478de3cda371 at term 1 for becomeLeader, leader elected after 1018ms
2019-06-14 10:19:52,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-14 10:19:52,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-14 10:19:52,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-14 10:19:52,638 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-14 10:19:52,645 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: start LeaderState
2019-06-14 10:19:52,659 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - d54bab09-c1f5-4c36-8dc6-478de3cda371-RaftLogWorker: Starting segment from index:0
10:19:52.665 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=UPDATE_CONTAINER {containerID=1560507592663, forceUpdate=false} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: ContainerID 1560507592663 does not exist
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:242) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-14 10:19:52,665 INFO  impl.HddsDispatcher (ContainerUtils.java:logAndReturnError(146)) - Operation: UpdateContainer : Trace ID: afb7ca3f72b87a1c:afb7ca3f72b87a1c:0:0 : Message: ContainerID 1560507592663 does not exist : Result: CONTAINER_NOT_FOUND
2019-06-14 10:19:52,668 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-14 10:19:52,668 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-14 10:19:52,668 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-14 10:19:52,668 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43289
2019-06-14 10:19:52,671 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43289
2019-06-14 10:19:52,671 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 set configuration 0: [d54bab09-c1f5-4c36-8dc6-478de3cda371:192.168.105.157:9858], old=null at 0
2019-06-14 10:19:52,674 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:52,674 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-14 10:19:52,678 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@6bbb39fd{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-14 10:19:52,680 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@711c2f46{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:52,682 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@dbc6ce1{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:52,682 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@48529ae7{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:52,684 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-14 10:19:52,684 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-14 10:19:52,684 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-14 10:19:52,684 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-14 10:19:52,684 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-14 10:19:52,684 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-14 10:19:52,684 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37881
2019-06-14 10:19:52,686 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37881
2019-06-14 10:19:52,687 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:52,687 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-14 10:19:52,687 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-14 10:19:52,687 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41435
2019-06-14 10:19:52,688 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41435
2019-06-14 10:19:52,689 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:52,689 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-14 10:19:52,689 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-14 10:19:52,689 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35169
2019-06-14 10:19:52,691 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 35169
2019-06-14 10:19:52,691 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:52,691 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-14 10:19:52,692 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7bc7e16f{/,null,UNAVAILABLE}{/scm}
2019-06-14 10:19:52,692 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@4c35058{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:52,692 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5f80cef3{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:52,692 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7ef2ecde{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:52,693 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-14 10:19:52,693 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:52,693 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:52,694 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-14 10:19:52,699 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-14 10:19:52,699 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-14 10:19:52,699 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@2d0d9654
2019-06-14 10:19:52,700 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-14 10:19:52,700 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:19:52,700 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: close
2019-06-14 10:19:52,700 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: shutdown group-0D7A5D8EA345
2019-06-14 10:19:52,701 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0D7A5D8EA345,id=d54bab09-c1f5-4c36-8dc6-478de3cda371
2019-06-14 10:19:52,701 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: shutdown LeaderState
2019-06-14 10:19:52,702 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - d54bab09-c1f5-4c36-8dc6-478de3cda371-PendingRequests: sendNotLeaderResponses
2019-06-14 10:19:52,704 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-d54bab09-c1f5-4c36-8dc6-478de3cda371-group-0D7A5D8EA345: set stopIndex = -1
2019-06-14 10:19:52,704 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-14 10:19:52,705 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - d54bab09-c1f5-4c36-8dc6-478de3cda371:group-0D7A5D8EA345 closes. The last applied log index is -1
2019-06-14 10:19:52,767 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(243)) - d54bab09-c1f5-4c36-8dc6-478de3cda371-RaftLogWorker got closed and hit exception
java.nio.channels.ClosedByInterruptException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
	at sun.nio.ch.FileChannelImpl.size(FileChannelImpl.java:315)
	at org.apache.ratis.server.storage.LogOutputStream.<init>(LogOutputStream.java:68)
	at org.apache.ratis.server.storage.RaftLogWorker$StartLogSegment.execute(RaftLogWorker.java:466)
	at org.apache.ratis.server.storage.RaftLogWorker.run(RaftLogWorker.java:219)
	at java.lang.Thread.run(Thread.java:748)
2019-06-14 10:19:52,767 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - d54bab09-c1f5-4c36-8dc6-478de3cda371-RaftLogWorker close()
2019-06-14 10:19:52,768 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: shutdown server with port 9858 now
2019-06-14 10:19:52,768 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - d54bab09-c1f5-4c36-8dc6-478de3cda371: shutdown server with port 9858 successfully
2019-06-14 10:19:52,771 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:19:52,780 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-14 10:19:52,781 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@67520acc{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-14 10:19:52,781 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2ba1d0e6{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:52,781 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3c4c7882{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-14 10:19:52,781 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@320c1443{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:52,795 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,798 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,798 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-14 10:19:52,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-14 10:19:52,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-14 10:19:52,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-14 10:19:52,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-14 10:19:52,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-14 10:19:52,799 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:52,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:52,800 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:52,837 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:52,837 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:52,838 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-14 10:19:52,839 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@583bdeab
2019-06-14 10:19:52,839 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-14 10:19:52,842 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,854 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-14 10:19:52,854 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,868 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-14 10:19:52,869 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:52,870 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33561
2019-06-14 10:19:52,871 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:52,872 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37221
2019-06-14 10:19:52,873 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:52,873 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39729
2019-06-14 10:19:52,875 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-14 10:19:52,876 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:52,876 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:52,878 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:52,878 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-14 10:19:52,878 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:52,878 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:52,884 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:39729
2019-06-14 10:19:52,884 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-14 10:19:52,884 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:39729
2019-06-14 10:19:52,884 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:52,885 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39729: starting
2019-06-14 10:19:52,891 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:37221
2019-06-14 10:19:52,891 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:37221
2019-06-14 10:19:52,891 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:52,891 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37221: starting
2019-06-14 10:19:52,893 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:33561
2019-06-14 10:19:52,893 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:33561
2019-06-14 10:19:52,893 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:52,893 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33561: starting
2019-06-14 10:19:52,899 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39793
2019-06-14 10:19:52,899 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:52,900 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5f23ae60{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:52,900 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@f86d7b9{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:52,903 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@8fb3470{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-14 10:19:52,904 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@77fa107f{HTTP/1.1,[http/1.1]}{0.0.0.0:39793}
2019-06-14 10:19:52,904 INFO  server.Server (Server.java:doStart(419)) - Started @23185ms
2019-06-14 10:19:52,905 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:39793
2019-06-14 10:19:52,906 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,906 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:52,914 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,914 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-14 10:19:52,915 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: e43bb16d-e794-4b54-ad1a-830e77895722
2019-06-14 10:19:52,915 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:52,915 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:52,915 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-14 10:19:52,919 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-14 10:19:52,919 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-14 10:19:52,920 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-14 10:19:52,921 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-14 10:19:52,921 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-14 10:19:52,921 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-14 10:19:52,921 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:52,921 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:52,921 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:53,065 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:53,065 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38757
2019-06-14 10:19:53,086 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:53,087 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:38757
2019-06-14 10:19:53,087 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-14 10:19:53,089 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:53,090 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38757: starting
2019-06-14 10:19:53,108 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-14 10:19:53,109 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:53,110 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:53,111 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:53,111 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-14 10:19:53,111 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:53,111 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:53,112 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39203
2019-06-14 10:19:53,112 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:53,130 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@337bc9f9{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:53,131 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@762c2583{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:53,138 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@78e8fea7{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-14 10:19:53,138 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@230ae45d{HTTP/1.1,[http/1.1]}{0.0.0.0:39203}
2019-06-14 10:19:53,142 INFO  server.Server (Server.java:doStart(419)) - Started @23423ms
2019-06-14 10:19:53,142 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:39203
2019-06-14 10:19:53,145 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-14 10:19:53,145 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-mm759-2607770056 ip:192.168.105.157
2019-06-14 10:19:53,153 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:19:53,153 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/containers/hdds to VolumeSet
2019-06-14 10:19:53,154 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@5e51a67f
2019-06-14 10:19:53,158 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@5e51a67f
2019-06-14 10:19:53,173 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 42987
2019-06-14 10:19:53,183 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:19:53,183 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42987 (custom)
2019-06-14 10:19:53,183 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:19:53,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:53,184 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:19:53,184 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:19:53,185 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/ratis] (custom)
2019-06-14 10:19:53,185 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 42335
2019-06-14 10:19:53,185 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-14 10:19:53,186 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-14 10:19:53,187 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:53,189 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:53,191 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:53,191 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-14 10:19:53,191 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:53,191 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:53,192 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43195
2019-06-14 10:19:53,192 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:53,201 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@75a6ac37{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:53,202 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@897e178{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-14 10:19:53,234 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@602b8334{/,file:///tmp/jetty-0.0.0.0-43195-hddsDatanode-_-any-3555880601341088231.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-14 10:19:53,238 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7a61203e{HTTP/1.1,[http/1.1]}{0.0.0.0:43195}
2019-06-14 10:19:53,238 INFO  server.Server (Server.java:doStart(419)) - Started @23519ms
2019-06-14 10:19:53,239 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:43195
Jun 14, 2019 10:19:53 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-14 10:19:53,383 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@22a75271
2019-06-14 10:19:53,385 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:53,397 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:53,406 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/meta/datanode.id
2019-06-14 10:19:54,391 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:55,391 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:55,400 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:19:55,401 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:19:55,401 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 5770098f-678a-49af-882a-053ef1ef202c at port 42987
2019-06-14 10:19:55,408 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 5770098f-678a-49af-882a-053ef1ef202c: start RPC server
2019-06-14 10:19:55,409 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 5770098f-678a-49af-882a-053ef1ef202c: GrpcService started, listening on 0.0.0.0/0.0.0.0:42987
2019-06-14 10:19:56,391 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:57,392 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:57,396 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : 5770098f-678a-49af-882a-053ef1ef202c{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}
2019-06-14 10:19:57,399 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-14 10:19:57,402 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-14 10:19:57,402 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-14 10:19:57,409 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 5770098f-678a-49af-882a-053ef1ef202c: addNew group-E7C1B3116659:[5770098f-678a-49af-882a-053ef1ef202c:192.168.105.157:42987] returns group-E7C1B3116659:java.util.concurrent.CompletableFuture@7f02b4db[Not completed]
2019-06-14 10:19:57,409 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - 5770098f-678a-49af-882a-053ef1ef202c: new RaftServerImpl for group-E7C1B3116659:[5770098f-678a-49af-882a-053ef1ef202c:192.168.105.157:42987] with ContainerStateMachine:uninitialized
2019-06-14 10:19:57,409 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-14 10:19:57,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-14 10:19:57,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-14 10:19:57,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-14 10:19:57,410 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 ConfigurationManager, init=-1: [5770098f-678a-49af-882a-053ef1ef202c:192.168.105.157:42987], old=null, confs=<EMPTY_MAP>
2019-06-14 10:19:57,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/ratis] (custom)
2019-06-14 10:19:57,410 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/ratis/40aa146a-71b0-4133-ab48-e7c1b3116659 does not exist. Creating ...
2019-06-14 10:19:57,416 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/ratis/40aa146a-71b0-4133-ab48-e7c1b3116659/in_use.lock acquired by nodename 4545@ozone-mm759-2607770056
2019-06-14 10:19:57,418 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/ratis/40aa146a-71b0-4133-ab48-e7c1b3116659 has been successfully formatted.
2019-06-14 10:19:57,418 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-14 10:19:57,419 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new 5770098f-678a-49af-882a-053ef1ef202c-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/ratis/40aa146a-71b0-4133-ab48-e7c1b3116659
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-14 10:19:57,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-14 10:19:57,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-14 10:19:57,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-14 10:19:57,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-14 10:19:57,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-14 10:19:57,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-14 10:19:57,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-14 10:19:57,420 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - 5770098f-678a-49af-882a-053ef1ef202c: start group-E7C1B3116659
2019-06-14 10:19:57,420 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-14 10:19:57,420 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 5770098f-678a-49af-882a-053ef1ef202c: start FollowerState
2019-06-14 10:19:57,421 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7C1B3116659,id=5770098f-678a-49af-882a-053ef1ef202c
2019-06-14 10:19:57,424 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 40aa146a-71b0-4133-ab48-e7c1b3116659, Nodes: 5770098f-678a-49af-882a-053ef1ef202c{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-14 10:19:58,392 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-14 10:19:58,477 INFO  impl.FollowerState (FollowerState.java:run(101)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 changes to CANDIDATE, lastRpcTime:1056, electionTimeout:1056ms
2019-06-14 10:19:58,477 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 5770098f-678a-49af-882a-053ef1ef202c: shutdown FollowerState
2019-06-14 10:19:58,477 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-14 10:19:58,477 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 5770098f-678a-49af-882a-053ef1ef202c: start LeaderElection
2019-06-14 10:19:58,484 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659:LeaderElection2: begin an election at term 1 for -1: [5770098f-678a-49af-882a-053ef1ef202c:192.168.105.157:42987], old=null
2019-06-14 10:19:58,484 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 5770098f-678a-49af-882a-053ef1ef202c: shutdown LeaderElection
2019-06-14 10:19:58,485 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-14 10:19:58,485 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 change Leader from null to 5770098f-678a-49af-882a-053ef1ef202c at term 1 for becomeLeader, leader elected after 1066ms
2019-06-14 10:19:58,485 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-14 10:19:58,485 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-14 10:19:58,485 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-14 10:19:58,486 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-14 10:19:58,486 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 5770098f-678a-49af-882a-053ef1ef202c: start LeaderState
2019-06-14 10:19:58,486 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - 5770098f-678a-49af-882a-053ef1ef202c-RaftLogWorker: Starting segment from index:0
2019-06-14 10:19:58,487 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 set configuration 0: [5770098f-678a-49af-882a-053ef1ef202c:192.168.105.157:42987], old=null at 0
2019-06-14 10:19:58,528 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /tmp/junit1676719791758191800/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:19:58,528 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /tmp/junit1676719791758191800/hdds to VolumeSet
2019-06-14 10:19:58,528 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@298c3654
2019-06-14 10:19:58,529 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@298c3654
2019-06-14 10:19:58,533 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - 5770098f-678a-49af-882a-053ef1ef202c-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/datanode-0/data/ratis/40aa146a-71b0-4133-ab48-e7c1b3116659/current/log_inprogress_0
2019-06-14 10:19:58,551 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 43947
2019-06-14 10:19:58,552 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:58,552 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:19:58,552 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43947 (custom)
2019-06-14 10:19:58,552 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:19:58,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:58,553 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:19:58,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:19:58,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/ozone-meta/ratis] (custom)
2019-06-14 10:19:58,553 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 754baa01-a7ac-48a8-83b2-18d434ff81cb: found a subdirectory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/ozone-meta/ratis/snapshot
2019-06-14 10:19:58,554 WARN  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(197)) - 754baa01-a7ac-48a8-83b2-18d434ff81cb: Failed to initialize the group directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-86e14b13-1747-4228-8843-1d630d4f75e4/ozone-meta/ratis/snapshot.  Ignoring it
java.lang.IllegalArgumentException: Invalid UUID string: snapshot
	at java.util.UUID.fromString(UUID.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$0(RaftServerProxy.java:192)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$initGroups$1(RaftServerProxy.java:189)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.ratis.server.impl.RaftServerProxy.initGroups(RaftServerProxy.java:186)
	at org.apache.ratis.server.impl.ServerImplUtils.newRaftServer(ServerImplUtils.java:41)
	at org.apache.ratis.server.RaftServer$Builder.build(RaftServer.java:76)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.<init>(XceiverServerRatis.java:157)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.newXceiverServerRatis(XceiverServerRatis.java:411)
	at org.apache.hadoop.ozone.container.ozoneimpl.OzoneContainer.<init>(OzoneContainer.java:109)
	at org.apache.hadoop.ozone.container.ozoneimpl.TestOzoneContainer.testOzoneContainerStart(TestOzoneContainer.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-06-14 10:19:58,554 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:19:58,555 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:19:58,555 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 754baa01-a7ac-48a8-83b2-18d434ff81cb at port 43947
2019-06-14 10:19:58,575 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 754baa01-a7ac-48a8-83b2-18d434ff81cb: start RPC server
2019-06-14 10:19:58,576 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - 754baa01-a7ac-48a8-83b2-18d434ff81cb: GrpcService started, listening on 0.0.0.0/0.0.0.0:43947
2019-06-14 10:19:58,577 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:19:58,577 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:19:58,577 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:19:58,578 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 754baa01-a7ac-48a8-83b2-18d434ff81cb: close
2019-06-14 10:19:58,578 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 754baa01-a7ac-48a8-83b2-18d434ff81cb: shutdown server with port 43947 now
2019-06-14 10:19:58,578 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 754baa01-a7ac-48a8-83b2-18d434ff81cb: shutdown server with port 43947 successfully
2019-06-14 10:19:58,580 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:19:58,588 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:19:58,594 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:19:58,601 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-14 10:19:58,602 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-14 10:19:58,602 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-14 10:19:58,602 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38757
2019-06-14 10:19:58,603 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38757
2019-06-14 10:19:58,603 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-14 10:19:58,603 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:58,605 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@78e8fea7{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-14 10:19:58,605 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@230ae45d{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:58,605 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@762c2583{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:58,606 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@337bc9f9{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:58,607 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-14 10:19:58,607 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-14 10:19:58,607 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-14 10:19:58,607 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-14 10:19:58,607 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-14 10:19:58,607 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-14 10:19:58,607 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33561
2019-06-14 10:19:58,608 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33561
2019-06-14 10:19:58,608 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:58,608 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-14 10:19:58,609 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-14 10:19:58,609 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37221
2019-06-14 10:19:58,611 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37221
2019-06-14 10:19:58,612 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-14 10:19:58,612 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-14 10:19:58,612 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39729
2019-06-14 10:19:58,612 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:58,613 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39729
2019-06-14 10:19:58,613 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:19:58,613 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-14 10:19:58,614 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@8fb3470{/,null,UNAVAILABLE}{/scm}
2019-06-14 10:19:58,615 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@77fa107f{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:58,615 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@f86d7b9{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:19:58,615 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5f23ae60{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:58,616 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-14 10:19:58,616 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:58,616 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:19:58,616 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-14 10:19:58,619 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-14 10:19:58,619 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-14 10:19:58,619 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@22a75271
2019-06-14 10:19:58,619 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-14 10:19:58,619 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:19:58,620 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 5770098f-678a-49af-882a-053ef1ef202c: close
2019-06-14 10:19:58,620 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - 5770098f-678a-49af-882a-053ef1ef202c: shutdown group-E7C1B3116659
2019-06-14 10:19:58,620 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7C1B3116659,id=5770098f-678a-49af-882a-053ef1ef202c
2019-06-14 10:19:58,620 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 5770098f-678a-49af-882a-053ef1ef202c: shutdown LeaderState
2019-06-14 10:19:58,620 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - 5770098f-678a-49af-882a-053ef1ef202c-PendingRequests: sendNotLeaderResponses
2019-06-14 10:19:58,621 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-14 10:19:58,621 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-5770098f-678a-49af-882a-053ef1ef202c-group-E7C1B3116659: set stopIndex = 0
2019-06-14 10:19:58,622 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 5770098f-678a-49af-882a-053ef1ef202c:group-E7C1B3116659 closes. The last applied log index is 0
2019-06-14 10:19:58,622 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - 5770098f-678a-49af-882a-053ef1ef202c-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-14 10:19:58,625 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - 5770098f-678a-49af-882a-053ef1ef202c-RaftLogWorker close()
2019-06-14 10:19:58,626 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - 5770098f-678a-49af-882a-053ef1ef202c: shutdown server with port 42987 now
2019-06-14 10:19:58,627 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - 5770098f-678a-49af-882a-053ef1ef202c: shutdown server with port 42987 successfully
2019-06-14 10:19:58,628 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:19:58,638 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-14 10:19:58,639 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@602b8334{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-14 10:19:58,639 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7a61203e{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:19:58,640 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@897e178{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-14 10:19:58,640 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@75a6ac37{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:19:58,658 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,661 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,662 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,662 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-14 10:19:58,662 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-14 10:19:58,662 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-14 10:19:58,662 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-14 10:19:58,662 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-14 10:19:58,663 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-14 10:19:58,663 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:58,663 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:58,663 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:58,707 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:58,707 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:19:58,708 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-14 10:19:58,709 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@1f8ea412
2019-06-14 10:19:58,709 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-14 10:19:58,711 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,725 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-14 10:19:58,725 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,740 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-14 10:19:58,741 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:58,742 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43429
2019-06-14 10:19:58,743 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:58,744 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39681
2019-06-14 10:19:58,745 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:58,745 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37033
2019-06-14 10:19:58,748 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-14 10:19:58,749 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:58,750 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:58,751 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:58,751 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-14 10:19:58,752 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:58,752 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:58,756 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:37033
2019-06-14 10:19:58,756 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-14 10:19:58,756 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:37033
2019-06-14 10:19:58,756 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:58,756 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37033: starting
2019-06-14 10:19:58,763 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:39681
2019-06-14 10:19:58,763 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:39681
2019-06-14 10:19:58,763 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:58,763 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39681: starting
2019-06-14 10:19:58,765 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:43429
2019-06-14 10:19:58,765 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:43429
2019-06-14 10:19:58,766 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:58,766 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43429: starting
2019-06-14 10:19:58,768 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39239
2019-06-14 10:19:58,768 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:58,769 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@e68e961{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:58,769 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3ab00d61{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:58,800 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@28be2f69{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-14 10:19:58,804 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@75ab1de{HTTP/1.1,[http/1.1]}{0.0.0.0:39239}
2019-06-14 10:19:58,804 INFO  server.Server (Server.java:doStart(419)) - Started @29085ms
2019-06-14 10:19:58,806 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:39239
2019-06-14 10:19:58,808 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,808 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:58,812 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,812 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-14 10:19:58,812 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: d12bf171-788a-4337-a573-ac2b3cd99b0c
2019-06-14 10:19:58,812 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:58,812 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:19:58,813 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-14 10:19:58,817 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,817 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-14 10:19:58,817 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-14 10:19:58,817 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-14 10:19:58,817 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-14 10:19:58,818 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-14 10:19:58,819 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-14 10:19:58,820 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-14 10:19:58,820 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-14 10:19:58,820 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:19:58,820 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:19:58,820 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:19:58,956 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:19:58,957 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46739
2019-06-14 10:19:58,968 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:19:58,969 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:46739
2019-06-14 10:19:58,969 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-14 10:19:58,970 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:19:58,970 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46739: starting
2019-06-14 10:19:58,974 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-14 10:19:58,975 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:58,975 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:58,976 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:58,976 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-14 10:19:58,976 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:58,977 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:58,977 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43349
2019-06-14 10:19:58,977 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:58,980 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7e58a535{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:58,980 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@77198e9e{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:19:58,983 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3dc01c12{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-14 10:19:58,984 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@51d18edf{HTTP/1.1,[http/1.1]}{0.0.0.0:43349}
2019-06-14 10:19:58,984 INFO  server.Server (Server.java:doStart(419)) - Started @29265ms
2019-06-14 10:19:58,984 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:43349
2019-06-14 10:19:58,987 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-14 10:19:58,987 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-mm759-2607770056 ip:192.168.105.157
2019-06-14 10:19:58,993 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:19:58,993 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/containers/hdds to VolumeSet
2019-06-14 10:19:58,994 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@23437be4
2019-06-14 10:19:58,994 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@23437be4
2019-06-14 10:19:59,006 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:19:59,006 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-14 10:19:59,006 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:19:59,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:19:59,007 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:19:59,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:19:59,007 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/ratis] (custom)
2019-06-14 10:19:59,008 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-14 10:19:59,008 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-14 10:19:59,009 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:19:59,010 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:19:59,011 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:19:59,011 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-14 10:19:59,011 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:19:59,011 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:19:59,011 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 45923
2019-06-14 10:19:59,012 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:19:59,013 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@51a5118{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:19:59,013 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@483d1de1{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-14 10:19:59,036 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@6509440f{/,file:///tmp/jetty-0.0.0.0-45923-hddsDatanode-_-any-2132231753801153846.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-14 10:19:59,036 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@499e2ef6{HTTP/1.1,[http/1.1]}{0.0.0.0:45923}
2019-06-14 10:19:59,037 INFO  server.Server (Server.java:doStart(419)) - Started @29318ms
2019-06-14 10:19:59,038 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:45923
Jun 14, 2019 10:19:59 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-14 10:19:59,132 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@72796e2e
2019-06-14 10:19:59,133 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:19:59,134 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:19:59,135 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/meta/datanode.id
2019-06-14 10:20:00,134 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:01,134 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:01,140 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:20:01,140 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:20:01,140 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis e5eea198-5913-4df3-b44a-480b9b5e2657 at port 9858
2019-06-14 10:20:01,143 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - e5eea198-5913-4df3-b44a-480b9b5e2657: start RPC server
2019-06-14 10:20:01,145 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - e5eea198-5913-4df3-b44a-480b9b5e2657: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-14 10:20:02,134 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:03,135 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:03,137 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : e5eea198-5913-4df3-b44a-480b9b5e2657{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}
2019-06-14 10:20:03,139 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-14 10:20:03,143 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-14 10:20:03,143 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-14 10:20:03,159 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - e5eea198-5913-4df3-b44a-480b9b5e2657: addNew group-FB40547F4879:[e5eea198-5913-4df3-b44a-480b9b5e2657:192.168.105.157:9858] returns group-FB40547F4879:java.util.concurrent.CompletableFuture@7a69f8c[Not completed]
2019-06-14 10:20:03,159 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - e5eea198-5913-4df3-b44a-480b9b5e2657: new RaftServerImpl for group-FB40547F4879:[e5eea198-5913-4df3-b44a-480b9b5e2657:192.168.105.157:9858] with ContainerStateMachine:uninitialized
2019-06-14 10:20:03,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-14 10:20:03,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-14 10:20:03,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-14 10:20:03,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-14 10:20:03,160 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 ConfigurationManager, init=-1: [e5eea198-5913-4df3-b44a-480b9b5e2657:192.168.105.157:9858], old=null, confs=<EMPTY_MAP>
2019-06-14 10:20:03,160 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/ratis] (custom)
2019-06-14 10:20:03,160 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/ratis/0ed3d14f-9afc-4e0c-b904-fb40547f4879 does not exist. Creating ...
2019-06-14 10:20:03,163 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/ratis/0ed3d14f-9afc-4e0c-b904-fb40547f4879/in_use.lock acquired by nodename 4545@ozone-mm759-2607770056
2019-06-14 10:20:03,165 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/ratis/0ed3d14f-9afc-4e0c-b904-fb40547f4879 has been successfully formatted.
2019-06-14 10:20:03,165 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-14 10:20:03,165 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-14 10:20:03,165 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-14 10:20:03,165 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:20:03,165 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-14 10:20:03,166 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new e5eea198-5913-4df3-b44a-480b9b5e2657-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/ratis/0ed3d14f-9afc-4e0c-b904-fb40547f4879
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-14 10:20:03,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-14 10:20:03,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-14 10:20:03,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-14 10:20:03,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-14 10:20:03,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-14 10:20:03,170 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-14 10:20:03,170 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - e5eea198-5913-4df3-b44a-480b9b5e2657: start group-FB40547F4879
2019-06-14 10:20:03,170 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-14 10:20:03,170 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e5eea198-5913-4df3-b44a-480b9b5e2657: start FollowerState
2019-06-14 10:20:03,173 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB40547F4879,id=e5eea198-5913-4df3-b44a-480b9b5e2657
2019-06-14 10:20:03,181 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 0ed3d14f-9afc-4e0c-b904-fb40547f4879, Nodes: e5eea198-5913-4df3-b44a-480b9b5e2657{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-14 10:20:04,135 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-14 10:20:04,350 INFO  impl.FollowerState (FollowerState.java:run(101)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 changes to CANDIDATE, lastRpcTime:1179, electionTimeout:1176ms
2019-06-14 10:20:04,350 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - e5eea198-5913-4df3-b44a-480b9b5e2657: shutdown FollowerState
2019-06-14 10:20:04,350 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-14 10:20:04,350 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e5eea198-5913-4df3-b44a-480b9b5e2657: start LeaderElection
2019-06-14 10:20:04,354 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879:LeaderElection3: begin an election at term 1 for -1: [e5eea198-5913-4df3-b44a-480b9b5e2657:192.168.105.157:9858], old=null
2019-06-14 10:20:04,354 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - e5eea198-5913-4df3-b44a-480b9b5e2657: shutdown LeaderElection
2019-06-14 10:20:04,354 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-14 10:20:04,354 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 change Leader from null to e5eea198-5913-4df3-b44a-480b9b5e2657 at term 1 for becomeLeader, leader elected after 1188ms
2019-06-14 10:20:04,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-14 10:20:04,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-14 10:20:04,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-14 10:20:04,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-14 10:20:04,355 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - e5eea198-5913-4df3-b44a-480b9b5e2657: start LeaderState
2019-06-14 10:20:04,355 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - e5eea198-5913-4df3-b44a-480b9b5e2657-RaftLogWorker: Starting segment from index:0
2019-06-14 10:20:04,373 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 set configuration 0: [e5eea198-5913-4df3-b44a-480b9b5e2657:192.168.105.157:9858], old=null at 0
2019-06-14 10:20:04,392 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - e5eea198-5913-4df3-b44a-480b9b5e2657-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-0c4a2b4b-353f-43f6-9313-9b99647f5870/datanode-0/data/ratis/0ed3d14f-9afc-4e0c-b904-fb40547f4879/current/log_inprogress_0
2019-06-14 10:20:07,609 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-14 10:20:07,609 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-14 10:20:07,609 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-14 10:20:07,610 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46739
2019-06-14 10:20:07,612 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46739
2019-06-14 10:20:07,612 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:07,613 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-14 10:20:07,613 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3dc01c12{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-14 10:20:07,614 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@51d18edf{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:07,614 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@77198e9e{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:20:07,614 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7e58a535{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:07,615 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-14 10:20:07,616 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-14 10:20:07,616 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-14 10:20:07,616 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-14 10:20:07,616 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-14 10:20:07,616 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-14 10:20:07,616 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43429
2019-06-14 10:20:07,617 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43429
2019-06-14 10:20:07,618 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-14 10:20:07,618 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-14 10:20:07,618 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39681
2019-06-14 10:20:07,618 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:07,619 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39681
2019-06-14 10:20:07,619 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-14 10:20:07,619 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-14 10:20:07,619 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:07,620 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37033
2019-06-14 10:20:07,621 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37033
2019-06-14 10:20:07,621 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-14 10:20:07,621 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:07,623 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@28be2f69{/,null,UNAVAILABLE}{/scm}
2019-06-14 10:20:07,623 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@75ab1de{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:07,623 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3ab00d61{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:20:07,624 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@e68e961{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:07,624 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-14 10:20:07,624 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:20:07,624 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:20:07,624 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-14 10:20:07,626 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-14 10:20:07,626 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-14 10:20:07,627 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@72796e2e
2019-06-14 10:20:07,627 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-14 10:20:07,627 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:20:07,627 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - e5eea198-5913-4df3-b44a-480b9b5e2657: close
2019-06-14 10:20:07,628 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - e5eea198-5913-4df3-b44a-480b9b5e2657: shutdown group-FB40547F4879
2019-06-14 10:20:07,628 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB40547F4879,id=e5eea198-5913-4df3-b44a-480b9b5e2657
2019-06-14 10:20:07,628 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - e5eea198-5913-4df3-b44a-480b9b5e2657: shutdown LeaderState
2019-06-14 10:20:07,628 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - e5eea198-5913-4df3-b44a-480b9b5e2657-PendingRequests: sendNotLeaderResponses
2019-06-14 10:20:07,628 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-e5eea198-5913-4df3-b44a-480b9b5e2657-group-FB40547F4879: set stopIndex = 0
2019-06-14 10:20:07,628 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-14 10:20:07,629 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - e5eea198-5913-4df3-b44a-480b9b5e2657:group-FB40547F4879 closes. The last applied log index is 0
2019-06-14 10:20:07,629 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - e5eea198-5913-4df3-b44a-480b9b5e2657-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-14 10:20:07,630 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - e5eea198-5913-4df3-b44a-480b9b5e2657-RaftLogWorker close()
2019-06-14 10:20:07,630 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - e5eea198-5913-4df3-b44a-480b9b5e2657: shutdown server with port 9858 now
2019-06-14 10:20:07,631 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - e5eea198-5913-4df3-b44a-480b9b5e2657: shutdown server with port 9858 successfully
2019-06-14 10:20:07,632 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:20:07,641 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-14 10:20:07,641 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@6509440f{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-14 10:20:07,642 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@499e2ef6{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:07,642 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@483d1de1{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-14 10:20:07,642 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@51a5118{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:07,680 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,685 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,686 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,686 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-14 10:20:07,686 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-14 10:20:07,686 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-14 10:20:07,686 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-14 10:20:07,686 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-14 10:20:07,687 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-14 10:20:07,687 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:20:07,687 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:20:07,687 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:20:07,727 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:20:07,727 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:20:07,727 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-14 10:20:07,728 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@220495d0
2019-06-14 10:20:07,728 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-14 10:20:07,730 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,744 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-14 10:20:07,744 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,758 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-14 10:20:07,759 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:07,759 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41297
2019-06-14 10:20:07,761 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:07,762 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46829
2019-06-14 10:20:07,767 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:07,767 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 42537
2019-06-14 10:20:07,769 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-14 10:20:07,770 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:20:07,770 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:20:07,771 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:20:07,772 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-14 10:20:07,772 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:20:07,772 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:20:07,775 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:42537
2019-06-14 10:20:07,775 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-14 10:20:07,775 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:42537
2019-06-14 10:20:07,775 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 42537: starting
2019-06-14 10:20:07,775 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:07,781 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:46829
2019-06-14 10:20:07,781 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:46829
2019-06-14 10:20:07,785 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:07,785 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46829: starting
2019-06-14 10:20:07,795 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:41297
2019-06-14 10:20:07,795 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:41297
2019-06-14 10:20:07,795 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:07,795 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41297: starting
2019-06-14 10:20:07,797 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 41961
2019-06-14 10:20:07,797 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:20:07,799 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@66312301{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:20:07,799 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3236968a{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:20:07,802 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@4e9431c2{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-14 10:20:07,802 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3c1a2a72{HTTP/1.1,[http/1.1]}{0.0.0.0:41961}
2019-06-14 10:20:07,802 INFO  server.Server (Server.java:doStart(419)) - Started @38083ms
2019-06-14 10:20:07,803 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:41961
2019-06-14 10:20:07,804 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,804 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:20:07,807 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,807 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-14 10:20:07,807 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 5f539675-d8d9-42a6-9de4-9a6cd99a18b1
2019-06-14 10:20:07,807 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:20:07,807 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:20:07,807 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-14 10:20:07,811 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-14 10:20:07,812 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-14 10:20:07,813 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-14 10:20:07,814 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-14 10:20:07,814 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:20:07,814 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:20:07,814 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:20:07,971 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:07,971 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 40517
2019-06-14 10:20:07,993 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:07,997 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:40517
2019-06-14 10:20:07,997 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-14 10:20:08,000 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:08,015 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 40517: starting
2019-06-14 10:20:08,016 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-14 10:20:08,021 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:20:08,022 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:20:08,023 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:20:08,024 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-14 10:20:08,024 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:20:08,024 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:20:08,025 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 45611
2019-06-14 10:20:08,025 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:20:08,031 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@676a802c{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:20:08,032 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@413c88ac{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:20:08,037 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1b8a864a{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-14 10:20:08,038 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@770e158{HTTP/1.1,[http/1.1]}{0.0.0.0:45611}
2019-06-14 10:20:08,038 INFO  server.Server (Server.java:doStart(419)) - Started @38319ms
2019-06-14 10:20:08,071 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:45611
2019-06-14 10:20:08,073 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-14 10:20:08,074 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-mm759-2607770056 ip:192.168.105.157
2019-06-14 10:20:08,082 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:20:08,082 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/containers/hdds to VolumeSet
2019-06-14 10:20:08,082 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@6f1f3bf5
2019-06-14 10:20:08,087 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@6f1f3bf5
2019-06-14 10:20:08,109 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 40683
2019-06-14 10:20:08,111 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:20:08,111 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 40683 (custom)
2019-06-14 10:20:08,111 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:20:08,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:20:08,112 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:20:08,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:20:08,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/ratis] (custom)
2019-06-14 10:20:08,113 INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:<init>(97)) - Found a free port for the server : 43753
2019-06-14 10:20:08,114 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-14 10:20:08,115 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-14 10:20:08,116 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:20:08,117 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:20:08,119 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:20:08,119 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-14 10:20:08,119 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:20:08,119 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:20:08,120 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40153
2019-06-14 10:20:08,120 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:20:08,122 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2be634c5{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:20:08,122 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@234c2478{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-14 10:20:08,147 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@76321ed6{/,file:///tmp/jetty-0.0.0.0-40153-hddsDatanode-_-any-6117119730800821645.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-14 10:20:08,147 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1501e3d4{HTTP/1.1,[http/1.1]}{0.0.0.0:40153}
2019-06-14 10:20:08,148 INFO  server.Server (Server.java:doStart(419)) - Started @38429ms
2019-06-14 10:20:08,148 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:40153
Jun 14, 2019 10:20:08 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-14 10:20:08,333 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@8bf2780
2019-06-14 10:20:08,333 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:08,358 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:20:08,363 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/meta/datanode.id
2019-06-14 10:20:09,334 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:10,334 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:10,363 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:20:10,364 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:20:10,364 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis cd3d9519-b7ff-4867-825a-fbeee14a3fbf at port 40683
2019-06-14 10:20:10,367 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: start RPC server
2019-06-14 10:20:10,369 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: GrpcService started, listening on 0.0.0.0/0.0.0.0:40683
2019-06-14 10:20:11,335 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:12,335 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:12,360 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : cd3d9519-b7ff-4867-825a-fbeee14a3fbf{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}
2019-06-14 10:20:12,362 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-14 10:20:12,362 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-14 10:20:12,362 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-14 10:20:12,369 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: addNew group-ACB18E49911B:[cd3d9519-b7ff-4867-825a-fbeee14a3fbf:192.168.105.157:40683] returns group-ACB18E49911B:java.util.concurrent.CompletableFuture@1951b0db[Not completed]
2019-06-14 10:20:12,370 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: new RaftServerImpl for group-ACB18E49911B:[cd3d9519-b7ff-4867-825a-fbeee14a3fbf:192.168.105.157:40683] with ContainerStateMachine:uninitialized
2019-06-14 10:20:12,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-14 10:20:12,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-14 10:20:12,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-14 10:20:12,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-14 10:20:12,371 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B ConfigurationManager, init=-1: [cd3d9519-b7ff-4867-825a-fbeee14a3fbf:192.168.105.157:40683], old=null, confs=<EMPTY_MAP>
2019-06-14 10:20:12,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/ratis] (custom)
2019-06-14 10:20:12,371 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/ratis/6f8906d3-83f6-473b-aa79-acb18e49911b does not exist. Creating ...
2019-06-14 10:20:12,374 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/ratis/6f8906d3-83f6-473b-aa79-acb18e49911b/in_use.lock acquired by nodename 4545@ozone-mm759-2607770056
2019-06-14 10:20:12,376 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/ratis/6f8906d3-83f6-473b-aa79-acb18e49911b has been successfully formatted.
2019-06-14 10:20:12,376 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-14 10:20:12,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-14 10:20:12,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-14 10:20:12,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-14 10:20:12,377 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new cd3d9519-b7ff-4867-825a-fbeee14a3fbf-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/ratis/6f8906d3-83f6-473b-aa79-acb18e49911b
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-14 10:20:12,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-14 10:20:12,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-14 10:20:12,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-14 10:20:12,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-14 10:20:12,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-14 10:20:12,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-14 10:20:12,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-14 10:20:12,379 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-14 10:20:12,379 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: start group-ACB18E49911B
2019-06-14 10:20:12,379 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-14 10:20:12,379 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: start FollowerState
2019-06-14 10:20:12,379 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACB18E49911B,id=cd3d9519-b7ff-4867-825a-fbeee14a3fbf
2019-06-14 10:20:12,383 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 6f8906d3-83f6-473b-aa79-acb18e49911b, Nodes: cd3d9519-b7ff-4867-825a-fbeee14a3fbf{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-14 10:20:13,335 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-14 10:20:13,344 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /tmp/junit938049204948499950/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:20:13,344 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /tmp/junit938049204948499950/hdds to VolumeSet
2019-06-14 10:20:13,344 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@2b9a8323
2019-06-14 10:20:13,345 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@2b9a8323
2019-06-14 10:20:13,353 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:newXceiverServerRatis(401)) - Found a free port for the server : 46109
2019-06-14 10:20:13,354 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:20:13,354 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:20:13,354 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 46109 (custom)
2019-06-14 10:20:13,354 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:20:13,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:20:13,354 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:20:13,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:20:13,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/ozone-meta/ratis] (custom)
2019-06-14 10:20:13,355 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - d03c2f22-416d-48e6-9718-d8f107734f50: found a subdirectory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/ozone-meta/ratis/snapshot
2019-06-14 10:20:13,355 WARN  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(197)) - d03c2f22-416d-48e6-9718-d8f107734f50: Failed to initialize the group directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/ozone-meta/ratis/snapshot.  Ignoring it
java.lang.IllegalArgumentException: Invalid UUID string: snapshot
	at java.util.UUID.fromString(UUID.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$0(RaftServerProxy.java:192)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$initGroups$1(RaftServerProxy.java:189)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.ratis.server.impl.RaftServerProxy.initGroups(RaftServerProxy.java:186)
	at org.apache.ratis.server.impl.ServerImplUtils.newRaftServer(ServerImplUtils.java:41)
	at org.apache.ratis.server.RaftServer$Builder.build(RaftServer.java:76)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.<init>(XceiverServerRatis.java:157)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.newXceiverServerRatis(XceiverServerRatis.java:411)
	at org.apache.hadoop.ozone.container.ozoneimpl.OzoneContainer.<init>(OzoneContainer.java:109)
	at org.apache.hadoop.ozone.container.ozoneimpl.TestOzoneContainer.testCreateOzoneContainer(TestOzoneContainer.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-06-14 10:20:13,356 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:20:13,356 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:20:13,356 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis d03c2f22-416d-48e6-9718-d8f107734f50 at port 46109
2019-06-14 10:20:13,359 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - d03c2f22-416d-48e6-9718-d8f107734f50: start RPC server
2019-06-14 10:20:13,360 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - d03c2f22-416d-48e6-9718-d8f107734f50: GrpcService started, listening on 0.0.0.0/0.0.0.0:46109
2019-06-14 10:20:13,380 INFO  impl.FollowerState (FollowerState.java:run(101)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B changes to CANDIDATE, lastRpcTime:1001, electionTimeout:1001ms
2019-06-14 10:20:13,380 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: shutdown FollowerState
2019-06-14 10:20:13,380 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-14 10:20:13,381 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: start LeaderElection
2019-06-14 10:20:13,385 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B:LeaderElection4: begin an election at term 1 for -1: [cd3d9519-b7ff-4867-825a-fbeee14a3fbf:192.168.105.157:40683], old=null
2019-06-14 10:20:13,385 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: shutdown LeaderElection
2019-06-14 10:20:13,386 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-14 10:20:13,386 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B change Leader from null to cd3d9519-b7ff-4867-825a-fbeee14a3fbf at term 1 for becomeLeader, leader elected after 1009ms
2019-06-14 10:20:13,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-14 10:20:13,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-14 10:20:13,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-14 10:20:13,386 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-14 10:20:13,386 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: start LeaderState
2019-06-14 10:20:13,386 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf-RaftLogWorker: Starting segment from index:0
2019-06-14 10:20:13,387 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:20:13,387 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B set configuration 0: [cd3d9519-b7ff-4867-825a-fbeee14a3fbf:192.168.105.157:40683], old=null at 0
2019-06-14 10:20:13,387 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - d03c2f22-416d-48e6-9718-d8f107734f50: close
2019-06-14 10:20:13,404 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - d03c2f22-416d-48e6-9718-d8f107734f50: shutdown server with port 46109 now
2019-06-14 10:20:13,404 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - d03c2f22-416d-48e6-9718-d8f107734f50: shutdown server with port 46109 successfully
2019-06-14 10:20:13,406 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:20:13,426 INFO  storage.RaftLogWorker (RaftLogWorker.java:execute(469)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf-RaftLogWorker: created new log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-00f4ab08-0407-4417-a277-90e5c2f92d61/datanode-0/data/ratis/6f8906d3-83f6-473b-aa79-acb18e49911b/current/log_inprogress_0
2019-06-14 10:20:13,429 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-14 10:20:13,429 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-14 10:20:13,429 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-14 10:20:13,429 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 40517
2019-06-14 10:20:13,430 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 40517
2019-06-14 10:20:13,431 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-14 10:20:13,432 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:13,433 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1b8a864a{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-14 10:20:13,433 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@770e158{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:13,433 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@413c88ac{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:20:13,434 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@676a802c{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:13,435 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-14 10:20:13,435 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-14 10:20:13,435 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-14 10:20:13,435 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-14 10:20:13,436 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-14 10:20:13,436 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-14 10:20:13,436 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41297
2019-06-14 10:20:13,437 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41297
2019-06-14 10:20:13,437 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:13,437 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-14 10:20:13,437 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-14 10:20:13,437 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46829
2019-06-14 10:20:13,442 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46829
2019-06-14 10:20:13,442 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:13,442 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-14 10:20:13,442 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-14 10:20:13,442 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42537
2019-06-14 10:20:13,444 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 42537
2019-06-14 10:20:13,444 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:13,444 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-14 10:20:13,445 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@4e9431c2{/,null,UNAVAILABLE}{/scm}
2019-06-14 10:20:13,445 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3c1a2a72{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:13,445 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3236968a{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:20:13,446 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@66312301{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:13,446 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-14 10:20:13,446 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:20:13,446 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:20:13,447 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-14 10:20:13,448 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-14 10:20:13,448 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-14 10:20:13,448 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@8bf2780
2019-06-14 10:20:13,449 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-14 10:20:13,449 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:20:13,449 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: close
2019-06-14 10:20:13,449 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: shutdown group-ACB18E49911B
2019-06-14 10:20:13,449 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACB18E49911B,id=cd3d9519-b7ff-4867-825a-fbeee14a3fbf
2019-06-14 10:20:13,449 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: shutdown LeaderState
2019-06-14 10:20:13,450 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf-PendingRequests: sendNotLeaderResponses
2019-06-14 10:20:13,450 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-cd3d9519-b7ff-4867-825a-fbeee14a3fbf-group-ACB18E49911B: set stopIndex = 0
2019-06-14 10:20:13,450 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-14 10:20:13,451 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf:group-ACB18E49911B closes. The last applied log index is 0
2019-06-14 10:20:13,451 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(236)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf-RaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-06-14 10:20:13,452 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf-RaftLogWorker close()
2019-06-14 10:20:13,452 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: shutdown server with port 40683 now
2019-06-14 10:20:13,453 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - cd3d9519-b7ff-4867-825a-fbeee14a3fbf: shutdown server with port 40683 successfully
2019-06-14 10:20:13,455 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:20:13,462 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-14 10:20:13,463 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@76321ed6{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-14 10:20:13,463 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1501e3d4{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:13,463 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@234c2478{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-14 10:20:13,463 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2be634c5{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:13,474 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,478 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,478 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,478 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-06-14 10:20:13,478 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-06-14 10:20:13,478 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-06-14 10:20:13,478 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-06-14 10:20:13,478 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-06-14 10:20:13,478 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-06-14 10:20:13,479 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:20:13,479 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:20:13,479 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:20:13,518 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:20:13,518 WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-06-14 10:20:13,518 INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(108)) - Entering startup safe mode.
2019-06-14 10:20:13,519 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@16a95874
2019-06-14 10:20:13,519 INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-06-14 10:20:13,521 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,534 INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-06-14 10:20:13,534 WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,548 WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-06-14 10:20:13,548 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:13,549 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 42711
2019-06-14 10:20:13,550 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:13,550 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46403
2019-06-14 10:20:13,551 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:13,551 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46437
2019-06-14 10:20:13,553 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-06-14 10:20:13,554 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:20:13,554 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:20:13,555 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:20:13,556 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-06-14 10:20:13,556 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:20:13,556 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:20:13,559 INFO  server.StorageContainerManager (StorageContainerManager.java:start(752)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:46437
2019-06-14 10:20:13,560 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-06-14 10:20:13,560 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(149)) - RPC server for Client  is listening at /0.0.0.0:46437
2019-06-14 10:20:13,560 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:13,560 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46437: starting
2019-06-14 10:20:13,566 INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:46403
2019-06-14 10:20:13,566 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(137)) - RPC server for Block Protocol is listening at /0.0.0.0:46403
2019-06-14 10:20:13,567 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:13,567 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46403: starting
2019-06-14 10:20:13,574 INFO  server.StorageContainerManager (StorageContainerManager.java:start(765)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:42711
2019-06-14 10:20:13,574 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:42711
2019-06-14 10:20:13,575 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:13,575 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 42711: starting
2019-06-14 10:20:13,576 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39141
2019-06-14 10:20:13,576 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:20:13,577 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1e109049{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:20:13,578 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@75a1664{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:20:13,580 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@587bb9ef{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-06-14 10:20:13,581 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@20c2b55d{HTTP/1.1,[http/1.1]}{0.0.0.0:39141}
2019-06-14 10:20:13,581 INFO  server.Server (Server.java:doStart(419)) - Started @43862ms
2019-06-14 10:20:13,581 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of SCM is listening at http://0.0.0.0:39141
2019-06-14 10:20:13,582 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,582 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:20:13,585 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,585 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(519)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-06-14 10:20:13,585 INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(525)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 9667223c-4325-4257-818a-03a922c01e1b
2019-06-14 10:20:13,585 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:20:13,585 WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-06-14 10:20:13,585 INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(476)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-06-14 10:20:13,589 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,589 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-06-14 10:20:13,589 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-06-14 10:20:13,589 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-06-14 10:20:13,590 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-06-14 10:20:13,591 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-06-14 10:20:13,592 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-06-14 10:20:13,592 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-06-14 10:20:13,592 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-06-14 10:20:13,592 INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-06-14 10:20:13,592 INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-06-14 10:20:13,592 INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-06-14 10:20:13,727 INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-06-14 10:20:13,727 INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 32935
2019-06-14 10:20:13,738 WARN  scm.ScmUtils (ScmUtils.java:getDBPath(63)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-06-14 10:20:13,738 INFO  om.OzoneManager (OzoneManager.java:start(1217)) - OzoneManager RPC server is listening at localhost/127.0.0.1:32935
2019-06-14 10:20:13,738 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-06-14 10:20:13,738 INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-06-14 10:20:13,738 INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 32935: starting
2019-06-14 10:20:13,741 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-06-14 10:20:13,742 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:20:13,742 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:20:13,743 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:20:13,744 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-06-14 10:20:13,744 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:20:13,744 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:20:13,744 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 41527
2019-06-14 10:20:13,744 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:20:13,745 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6c7afcd4{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:20:13,746 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6aed9751{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-06-14 10:20:13,748 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@52075402{/,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-06-14 10:20:13,748 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@4c5b6349{HTTP/1.1,[http/1.1]}{0.0.0.0:41527}
2019-06-14 10:20:13,749 INFO  server.Server (Server.java:doStart(419)) - Started @44030ms
2019-06-14 10:20:13,749 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:41527
2019-06-14 10:20:13,751 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-06-14 10:20:13,751 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(185)) - HddsDatanodeService host:ozone-mm759-2607770056 ip:192.168.105.157
2019-06-14 10:20:13,754 INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 104021790720
2019-06-14 10:20:13,754 INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/containers/hdds to VolumeSet
2019-06-14 10:20:13,755 INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@2e59c092
2019-06-14 10:20:13,755 INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@2e59c092
2019-06-14 10:20:13,764 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-06-14 10:20:13,764 INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 9858 (custom)
2019-06-14 10:20:13,764 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-06-14 10:20:13,764 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:20:13,765 INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-06-14 10:20:13,765 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-06-14 10:20:13,765 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/ratis] (custom)
2019-06-14 10:20:13,766 INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-06-14 10:20:13,766 INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-06-14 10:20:13,767 INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-06-14 10:20:13,767 WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-06-14 10:20:13,768 INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-06-14 10:20:13,769 INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-06-14 10:20:13,769 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-06-14 10:20:13,769 INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-06-14 10:20:13,769 INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33609
2019-06-14 10:20:13,769 INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-06-14 10:20:13,770 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@70f00c1a{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-06-14 10:20:13,771 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@49b979c4{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-06-14 10:20:13,790 INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3d59446a{/,file:///tmp/jetty-0.0.0.0-33609-hddsDatanode-_-any-8606045324450121305.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-06-14 10:20:13,790 INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1e1fc929{HTTP/1.1,[http/1.1]}{0.0.0.0:33609}
2019-06-14 10:20:13,791 INFO  server.Server (Server.java:doStart(419)) - Started @44072ms
2019-06-14 10:20:13,791 INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(207)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:33609
Jun 14, 2019 10:20:13 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-06-14 10:20:13,871 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(396)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@1594935
2019-06-14 10:20:13,871 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:13,872 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-06-14 10:20:13,873 INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/meta/datanode.id
2019-06-14 10:20:14,871 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:15,872 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:15,878 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-06-14 10:20:15,878 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-06-14 10:20:15,878 INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis a958cdb8-0387-4146-b5c9-d4dbe21a6cf5 at port 9858
2019-06-14 10:20:15,881 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: start RPC server
2019-06-14 10:20:15,882 INFO  server.GrpcService (GrpcService.java:startImpl(148)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: GrpcService started, listening on 0.0.0.0/0.0.0.0:9858
2019-06-14 10:20:16,872 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:17,872 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-06-14 10:20:17,874 INFO  node.SCMNodeManager (SCMNodeManager.java:register(234)) - Registered Data node : a958cdb8-0387-4146-b5c9-d4dbe21a6cf5{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}
2019-06-14 10:20:17,877 INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-06-14 10:20:17,878 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-06-14 10:20:17,878 INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-06-14 10:20:17,882 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: addNew group-2799719E2790:[a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:192.168.105.157:9858] returns group-2799719E2790:java.util.concurrent.CompletableFuture@21d9806[Not completed]
2019-06-14 10:20:17,883 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(91)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: new RaftServerImpl for group-2799719E2790:[a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:192.168.105.157:9858] with ContainerStateMachine:uninitialized
2019-06-14 10:20:17,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-06-14 10:20:17,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-06-14 10:20:17,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-06-14 10:20:17,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-06-14 10:20:17,883 INFO  impl.RaftServerImpl (ServerState.java:<init>(101)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 ConfigurationManager, init=-1: [a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:192.168.105.157:9858], old=null, confs=<EMPTY_MAP>
2019-06-14 10:20:17,884 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/ratis] (custom)
2019-06-14 10:20:17,884 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/ratis/cb18cd1a-1c6d-4f1f-be44-2799719e2790 does not exist. Creating ...
2019-06-14 10:20:17,886 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/ratis/cb18cd1a-1c6d-4f1f-be44-2799719e2790/in_use.lock acquired by nodename 4545@ozone-mm759-2607770056
2019-06-14 10:20:17,888 INFO  storage.RaftStorage (RaftStorage.java:format(75)) - Storage directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/ratis/cb18cd1a-1c6d-4f1f-be44-2799719e2790 has been successfully formatted.
2019-06-14 10:20:17,888 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(199)) - The snapshot info is null.Setting the last applied index to:(t:0, i:~)
2019-06-14 10:20:17,888 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-06-14 10:20:17,888 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-06-14 10:20:17,888 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-06-14 10:20:17,889 INFO  storage.RaftLogWorker (RaftLogWorker.java:<init>(123)) - new a958cdb8-0387-4146-b5c9-d4dbe21a6cf5-RaftLogWorker for Storage Directory /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/ratis/cb18cd1a-1c6d-4f1f-be44-2799719e2790
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-06-14 10:20:17,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-06-14 10:20:17,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-06-14 10:20:17,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-06-14 10:20:17,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-06-14 10:20:17,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-06-14 10:20:17,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-06-14 10:20:17,890 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(173)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: start group-2799719E2790
2019-06-14 10:20:17,890 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-06-14 10:20:17,890 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: start FollowerState
2019-06-14 10:20:17,891 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2799719E2790,id=a958cdb8-0387-4146-b5c9-d4dbe21a6cf5
2019-06-14 10:20:17,893 INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: cb18cd1a-1c6d-4f1f-be44-2799719e2790, Nodes: a958cdb8-0387-4146-b5c9-d4dbe21a6cf5{ip: 192.168.105.157, host: ozone-mm759-2607770056, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-06-14 10:20:18,872 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-06-14 10:20:18,911 INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: DeleteContainer : Trace ID: 7ddf531de6be022b:7ddf531de6be022b:0:0 : Message: Deletion of Open Container is not allowed. : Result: DELETE_ON_OPEN_CONTAINER
10:20:18.912 [grpc-default-executor-1] ERROR DNAudit - user=null | ip=null | op=DELETE_CONTAINER {containerID=1560507618873, forceDelete=false} | ret=FAILURE
java.lang.Exception: Deletion of Open Container is not allowed.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:73) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:61) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.Contexts$ContextualizedServerCallListener.onMessage(Contexts.java:76) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:46) [hadoop-hdds-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-06-14 10:20:18,918 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-06-14 10:20:18,918 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-06-14 10:20:18,918 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-06-14 10:20:18,918 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 32935
2019-06-14 10:20:18,920 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-06-14 10:20:18,920 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 32935
2019-06-14 10:20:18,920 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:18,920 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@52075402{/,null,UNAVAILABLE}{/ozoneManager}
2019-06-14 10:20:18,921 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@4c5b6349{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:18,922 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6aed9751{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:20:18,922 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6c7afcd4{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:18,923 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-06-14 10:20:18,923 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(789)) - Stopping Replication Manager Service.
2019-06-14 10:20:18,923 INFO  container.ReplicationManager (ReplicationManager.java:stop(191)) - Replication Monitor Thread is not running.
2019-06-14 10:20:18,923 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(796)) - Stopping Lease Manager of the command watchers
2019-06-14 10:20:18,923 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(803)) - Stopping datanode service RPC server
2019-06-14 10:20:18,924 INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(373)) - Stopping the RPC server for DataNodes
2019-06-14 10:20:18,924 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42711
2019-06-14 10:20:18,927 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 42711
2019-06-14 10:20:18,927 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:18,927 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping block service RPC server
2019-06-14 10:20:18,927 INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(145)) - Stopping the RPC server for Block Protocol
2019-06-14 10:20:18,927 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46403
2019-06-14 10:20:18,928 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46403
2019-06-14 10:20:18,929 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:18,929 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(818)) - Stopping the StorageContainerLocationProtocol RPC server
2019-06-14 10:20:18,930 INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(157)) - Stopping the RPC server for Client Protocol
2019-06-14 10:20:18,930 INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46437
2019-06-14 10:20:18,931 INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46437
2019-06-14 10:20:18,931 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(825)) - Stopping Storage Container Manager HTTP server.
2019-06-14 10:20:18,932 INFO  impl.FollowerState (FollowerState.java:run(101)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 changes to CANDIDATE, lastRpcTime:1041, electionTimeout:1041ms
2019-06-14 10:20:18,932 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: shutdown FollowerState
2019-06-14 10:20:18,932 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-06-14 10:20:18,932 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@587bb9ef{/,null,UNAVAILABLE}{/scm}
2019-06-14 10:20:18,932 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: start LeaderElection
2019-06-14 10:20:18,932 INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-06-14 10:20:18,932 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@20c2b55d{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:18,933 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@75a1664{/static,file:///opt/src/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-06-14 10:20:18,934 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1e109049{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-06-14 10:20:18,935 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(836)) - Stopping Block Manager Service.
2019-06-14 10:20:18,935 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:20:18,935 INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-06-14 10:20:18,935 INFO  server.StorageContainerManager (StorageContainerManager.java:stop(858)) - Stopping SCM Event Queue.
2019-06-14 10:20:18,936 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790:LeaderElection5: begin an election at term 1 for -1: [a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:192.168.105.157:9858], old=null
2019-06-14 10:20:18,937 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: shutdown LeaderElection
2019-06-14 10:20:18,937 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(164)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-06-14 10:20:18,937 INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 change Leader from null to a958cdb8-0387-4146-b5c9-d4dbe21a6cf5 at term 1 for becomeLeader, leader elected after 1048ms
2019-06-14 10:20:18,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-06-14 10:20:18,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-06-14 10:20:18,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-06-14 10:20:18,937 INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(350)) - Shutting the HddsDatanodes
2019-06-14 10:20:18,938 INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-06-14 10:20:18,937 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-06-14 10:20:18,938 INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(452)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@1594935
2019-06-14 10:20:18,938 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: start LeaderState
2019-06-14 10:20:18,938 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-06-14 10:20:18,938 INFO  storage.RaftLogWorker (RaftLogWorker.java:startLogSegment(298)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5-RaftLogWorker: Starting segment from index:0
2019-06-14 10:20:18,938 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 set configuration 0: [a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:192.168.105.157:9858], old=null at 0
2019-06-14 10:20:18,956 INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-06-14 10:20:18,956 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: close
2019-06-14 10:20:18,956 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(238)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: shutdown group-2799719E2790
2019-06-14 10:20:18,956 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2799719E2790,id=a958cdb8-0387-4146-b5c9-d4dbe21a6cf5
2019-06-14 10:20:18,956 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: shutdown LeaderState
2019-06-14 10:20:18,957 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(140)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5-PendingRequests: sendNotLeaderResponses
2019-06-14 10:20:18,957 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(109)) - StateMachineUpdater-a958cdb8-0387-4146-b5c9-d4dbe21a6cf5-group-2799719E2790: set stopIndex = -1
2019-06-14 10:20:18,957 INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(245)) - Taking snapshot at termIndex:(t:0, i:~)
2019-06-14 10:20:18,974 INFO  impl.RaftServerImpl (ServerState.java:close(394)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5:group-2799719E2790 closes. The last applied log index is -1
2019-06-14 10:20:18,976 WARN  storage.LogOutputStream (LogOutputStream.java:<init>(82)) - Hit IOException while creating log segment /opt/src/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e764e22-d141-4573-bec2-6d508e467111/datanode-0/data/ratis/cb18cd1a-1c6d-4f1f-be44-2799719e2790/current/log_inprogress_0, delete the partial file.
2019-06-14 10:20:18,978 INFO  storage.RaftLogWorker (RaftLogWorker.java:run(243)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5-RaftLogWorker got closed and hit exception
java.nio.channels.ClosedByInterruptException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
	at sun.nio.ch.FileChannelImpl.force(FileChannelImpl.java:392)
	at org.apache.ratis.server.storage.BufferedWriteChannel.forceWrite(BufferedWriteChannel.java:150)
	at org.apache.ratis.server.storage.BufferedWriteChannel.flush(BufferedWriteChannel.java:125)
	at org.apache.ratis.server.storage.LogOutputStream.flush(LogOutputStream.java:165)
	at org.apache.ratis.server.storage.LogOutputStream.create(LogOutputStream.java:140)
	at org.apache.ratis.server.storage.LogOutputStream.<init>(LogOutputStream.java:79)
	at org.apache.ratis.server.storage.RaftLogWorker$StartLogSegment.execute(RaftLogWorker.java:466)
	at org.apache.ratis.server.storage.RaftLogWorker.run(RaftLogWorker.java:219)
	at java.lang.Thread.run(Thread.java:748)
2019-06-14 10:20:18,978 INFO  storage.RaftLogWorker (RaftLogWorker.java:close(168)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5-RaftLogWorker close()
2019-06-14 10:20:18,979 INFO  server.GrpcService (GrpcService.java:closeImpl(154)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: shutdown server with port 9858 now
2019-06-14 10:20:18,980 INFO  server.GrpcService (GrpcService.java:closeImpl(162)) - a958cdb8-0387-4146-b5c9-d4dbe21a6cf5: shutdown server with port 9858 successfully
2019-06-14 10:20:18,980 WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-06-14 10:20:18,988 INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-06-14 10:20:18,989 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3d59446a{/,null,UNAVAILABLE}{/hddsDatanode}
2019-06-14 10:20:18,989 INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1e1fc929{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-06-14 10:20:18,990 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@49b979c4{/static,jar:file:/root/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-06-14 10:20:18,990 INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@70f00c1a{/logs,file:///opt/src/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
